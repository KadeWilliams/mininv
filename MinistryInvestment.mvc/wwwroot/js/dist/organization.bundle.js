(()=>{var Gr=Object.create;var yr=Object.defineProperty;var Hr=Object.getOwnPropertyDescriptor;var Yr=Object.getOwnPropertyNames;var Br=Object.getPrototypeOf,Ur=Object.prototype.hasOwnProperty;var Wi=(g,a)=>()=>(a||g((a={exports:{}}).exports,a),a.exports);var Wr=(g,a,e,_)=>{if(a&&typeof a=="object"||typeof a=="function")for(let I of Yr(a))!Ur.call(g,I)&&I!==e&&yr(g,I,{get:()=>a[I],enumerable:!(_=Hr(a,I))||_.enumerable});return g};var Vi=(g,a,e)=>(e=g!=null?Gr(Br(g)):{},Wr(a||!g||!g.__esModule?yr(e,"default",{value:g,enumerable:!0}):e,g));var br=Wi((Qi,Ji)=>{(function(g,a){typeof Qi=="object"&&typeof Ji<"u"?Ji.exports=a():typeof define=="function"&&define.amd?define(a):(g=typeof globalThis<"u"?globalThis:g||self,g.TomSelect=a())})(Qi,function(){"use strict";function g(f,i){f.split(/\s+/).forEach(s=>{i(s)})}class a{constructor(){this._events=void 0,this._events={}}on(i,s){g(i,u=>{let m=this._events[u]||[];m.push(s),this._events[u]=m})}off(i,s){var u=arguments.length;if(u===0){this._events={};return}g(i,m=>{if(u===1){delete this._events[m];return}let w=this._events[m];w!==void 0&&(w.splice(w.indexOf(s),1),this._events[m]=w)})}trigger(i,...s){var u=this;g(i,m=>{let w=u._events[m];w!==void 0&&w.forEach(b=>{b.apply(u,s)})})}}function e(f){return f.plugins={},class extends f{constructor(...i){super(...i),this.plugins={names:[],settings:{},requested:{},loaded:{}}}static define(i,s){f.plugins[i]={name:i,fn:s}}initializePlugins(i){var s,u;let m=this,w=[];if(Array.isArray(i))i.forEach(b=>{typeof b=="string"?w.push(b):(m.plugins.settings[b.name]=b.options,w.push(b.name))});else if(i)for(s in i)i.hasOwnProperty(s)&&(m.plugins.settings[s]=i[s],w.push(s));for(;u=w.shift();)m.require(u)}loadPlugin(i){var s=this,u=s.plugins,m=f.plugins[i];if(!f.plugins.hasOwnProperty(i))throw new Error('Unable to find "'+i+'" plugin');u.requested[i]=!0,u.loaded[i]=m.fn.apply(s,[s.plugins.settings[i]||{}]),u.names.push(i)}require(i){var s=this,u=s.plugins;if(!s.plugins.loaded.hasOwnProperty(i)){if(u.requested[i])throw new Error('Plugin has circular dependency ("'+i+'")');s.loadPlugin(i)}return u.loaded[i]}}}let _=f=>(f=f.filter(Boolean),f.length<2?f[0]||"":A(f)==1?"["+f.join("")+"]":"(?:"+f.join("|")+")"),I=f=>{if(!V(f))return f.join("");let i="",s=0,u=()=>{s>1&&(i+="{"+s+"}")};return f.forEach((m,w)=>{if(m===f[w-1]){s++;return}u(),i+=m,s=1}),u(),i},R=f=>{let i=$e(f);return _(i)},V=f=>new Set(f).size!==f.length,G=f=>(f+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),A=f=>f.reduce((i,s)=>Math.max(i,ye(s)),0),ye=f=>$e(f).length,$e=f=>Array.from(f);let Ye=f=>{if(f.length===1)return[[f]];let i=[],s=f.substring(1);return Ye(s).forEach(function(m){let w=m.slice(0);w[0]=f.charAt(0)+w[0],i.push(w),w=m.slice(0),w.unshift(f.charAt(0)),i.push(w)}),i};let Xe=[[0,65535]],se="[\u0300-\u036F\xB7\u02BE\u02BC]",ae,be,le=3,Gt={},ht={"/":"\u2044\u2215",0:"\u07C0",a:"\u2C65\u0250\u0251",aa:"\uA733",ae:"\xE6\u01FD\u01E3",ao:"\uA735",au:"\uA737",av:"\uA739\uA73B",ay:"\uA73D",b:"\u0180\u0253\u0183",c:"\uA73F\u0188\u023C\u2184",d:"\u0111\u0257\u0256\u1D05\u018C\uABB7\u0501\u0266",e:"\u025B\u01DD\u1D07\u0247",f:"\uA77C\u0192",g:"\u01E5\u0260\uA7A1\u1D79\uA77F\u0262",h:"\u0127\u2C68\u2C76\u0265",i:"\u0268\u0131",j:"\u0249\u0237",k:"\u0199\u2C6A\uA741\uA743\uA745\uA7A3",l:"\u0142\u019A\u026B\u2C61\uA749\uA747\uA781\u026D",m:"\u0271\u026F\u03FB",n:"\uA7A5\u019E\u0272\uA791\u1D0E\u043B\u0509",o:"\xF8\u01FF\u0254\u0275\uA74B\uA74D\u1D11",oe:"\u0153",oi:"\u01A3",oo:"\uA74F",ou:"\u0223",p:"\u01A5\u1D7D\uA751\uA753\uA755\u03C1",q:"\uA757\uA759\u024B",r:"\u024D\u027D\uA75B\uA7A7\uA783",s:"\xDF\u023F\uA7A9\uA785\u0282",t:"\u0167\u01AD\u0288\u2C66\uA787",th:"\xFE",tz:"\uA729",u:"\u0289",v:"\u028B\uA75F\u028C",vy:"\uA761",w:"\u2C73",y:"\u01B4\u024F\u1EFF",z:"\u01B6\u0225\u0240\u2C6C\uA763",hv:"\u0195"};for(let f in ht){let i=ht[f]||"";for(let s=0;s<i.length;s++){let u=i.substring(s,s+1);Gt[u]=f}}let ct=new RegExp(Object.keys(Gt).join("|")+"|"+se,"gu"),kt=f=>{ae===void 0&&(ae=ke(f||Xe))},en=(f,i="NFKD")=>f.normalize(i),o=f=>$e(f).reduce((i,s)=>i+Ft(s),""),Ft=f=>(f=en(f).toLowerCase().replace(ct,i=>Gt[i]||""),en(f,"NFC"));function*W(f){for(let[i,s]of f)for(let u=i;u<=s;u++){let m=String.fromCharCode(u),w=o(m);w!=m.toLowerCase()&&(w.length>le||w.length!=0&&(yield{folded:w,composed:m,code_point:u}))}}let Oe=f=>{let i={},s=(u,m)=>{let w=i[u]||new Set,b=new RegExp("^"+R(w)+"$","iu");m.match(b)||(w.add(G(m)),i[u]=w)};for(let u of W(f))s(u.folded,u.folded),s(u.folded,u.composed);return i},ke=f=>{let i=Oe(f),s={},u=[];for(let w in i){let b=i[w];b&&(s[w]=R(b)),w.length>1&&u.push(G(w))}u.sort((w,b)=>b.length-w.length);let m=_(u);return be=new RegExp("^"+m,"u"),s},pt=(f,i=1)=>{let s=0;return f=f.map(u=>(ae[u]&&(s+=u.length),ae[u]||u)),s>=i?I(f):""},_e=(f,i=1)=>(i=Math.max(i,f.length-1),_(Ye(f).map(s=>pt(s,i)))),gt=(f,i=!0)=>{let s=f.length>1?1:0;return _(f.map(u=>{let m=[],w=i?u.length():u.length()-1;for(let b=0;b<w;b++)m.push(_e(u.substrs[b]||"",s));return I(m)}))},un=(f,i)=>{for(let s of i){if(s.start!=f.start||s.end!=f.end||s.substrs.join("")!==f.substrs.join(""))continue;let u=f.parts,m=b=>{for(let M of u){if(M.start===b.start&&M.substr===b.substr)return!1;if(!(b.length==1||M.length==1)&&(b.start<M.start&&b.end>M.start||M.start<b.start&&M.end>b.start))return!0}return!1};if(!(s.parts.filter(m).length>0))return!0}return!1};class Ht{constructor(){this.parts=[],this.substrs=[],this.start=0,this.end=0}add(i){i&&(this.parts.push(i),this.substrs.push(i.substr),this.start=Math.min(i.start,this.start),this.end=Math.max(i.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(i,s){let u=new Ht,m=JSON.parse(JSON.stringify(this.parts)),w=m.pop();for(let j of m)u.add(j);let b=s.substr.substring(0,i-w.start),M=b.length;return u.add({start:w.start,end:w.start+M,length:M,substr:b}),u}}let qt=f=>{kt(),f=o(f);let i="",s=[new Ht];for(let u=0;u<f.length;u++){let w=f.substring(u).match(be),b=f.substring(u,u+1),M=w?w[0]:null,j=[],q=new Set;for(let B of s){let Y=B.last();if(!Y||Y.length==1||Y.end<=u)if(M){let te=M.length;B.add({start:u,end:u+te,length:te,substr:M}),q.add("1")}else B.add({start:u,end:u+1,length:1,substr:b}),q.add("2");else if(M){let te=B.clone(u,Y),Fe=M.length;te.add({start:u,end:u+Fe,length:Fe,substr:M}),j.push(te)}else q.add("3")}if(j.length>0){j=j.sort((B,Y)=>B.length()-Y.length());for(let B of j)un(B,s)||s.push(B);continue}if(u>0&&q.size==1&&!q.has("3")){i+=gt(s,!1);let B=new Ht,Y=s[0];Y&&B.add(Y.last()),s=[B]}}return i+=gt(s,!0),i};let zn=(f,i)=>{if(f)return f[i]},Vt=(f,i)=>{if(f){for(var s,u=i.split(".");(s=u.shift())&&(f=f[s]););return f}},dn=(f,i,s)=>{var u,m;return!f||(f=f+"",i.regex==null)||(m=f.search(i.regex),m===-1)?0:(u=i.string.length/f.length,m===0&&(u+=.5),u*s)},xn=(f,i)=>{var s=f[i];if(typeof s=="function")return s;s&&!Array.isArray(s)&&(f[i]=[s])},Qe=(f,i)=>{if(Array.isArray(f))f.forEach(i);else for(var s in f)f.hasOwnProperty(s)&&i(f[s],s)},Nn=(f,i)=>typeof f=="number"&&typeof i=="number"?f>i?1:f<i?-1:0:(f=o(f+"").toLowerCase(),i=o(i+"").toLowerCase(),f>i?1:i>f?-1:0);class Yn{constructor(i,s){this.items=void 0,this.settings=void 0,this.items=i,this.settings=s||{diacritics:!0}}tokenize(i,s,u){if(!i||!i.length)return[];let m=[],w=i.split(/\s+/);var b;return u&&(b=new RegExp("^("+Object.keys(u).map(G).join("|")+"):(.*)$")),w.forEach(M=>{let j,q=null,B=null;b&&(j=M.match(b))&&(q=j[1],M=j[2]),M.length>0&&(this.settings.diacritics?B=qt(M)||null:B=G(M),B&&s&&(B="\\b"+B)),m.push({string:M,regex:B?new RegExp(B,"iu"):null,field:q})}),m}getScoreFunction(i,s){var u=this.prepareSearch(i,s);return this._getScoreFunction(u)}_getScoreFunction(i){let s=i.tokens,u=s.length;if(!u)return function(){return 0};let m=i.options.fields,w=i.weights,b=m.length,M=i.getAttrFn;if(!b)return function(){return 1};let j=function(){return b===1?function(q,B){let Y=m[0].field;return dn(M(B,Y),q,w[Y]||1)}:function(q,B){var Y=0;if(q.field){let te=M(B,q.field);!q.regex&&te?Y+=1/b:Y+=dn(te,q,1)}else Qe(w,(te,Fe)=>{Y+=dn(M(B,Fe),q,te)});return Y/b}}();return u===1?function(q){return j(s[0],q)}:i.options.conjunction==="and"?function(q){var B,Y=0;for(let te of s){if(B=j(te,q),B<=0)return 0;Y+=B}return Y/u}:function(q){var B=0;return Qe(s,Y=>{B+=j(Y,q)}),B/u}}getSortFunction(i,s){var u=this.prepareSearch(i,s);return this._getSortFunction(u)}_getSortFunction(i){var s,u=[];let m=this,w=i.options,b=!i.query&&w.sort_empty?w.sort_empty:w.sort;if(typeof b=="function")return b.bind(this);let M=function(B,Y){return B==="$score"?Y.score:i.getAttrFn(m.items[Y.id],B)};if(b)for(let q of b)(i.query||q.field!=="$score")&&u.push(q);if(i.query){s=!0;for(let q of u)if(q.field==="$score"){s=!1;break}s&&u.unshift({field:"$score",direction:"desc"})}else u=u.filter(q=>q.field!=="$score");return u.length?function(q,B){var Y,te;for(let Fe of u)if(te=Fe.field,Y=(Fe.direction==="desc"?-1:1)*Nn(M(te,q),M(te,B)),Y)return Y;return 0}:null}prepareSearch(i,s){let u={};var m=Object.assign({},s);if(xn(m,"sort"),xn(m,"sort_empty"),m.fields){xn(m,"fields");let w=[];m.fields.forEach(b=>{typeof b=="string"&&(b={field:b,weight:1}),w.push(b),u[b.field]="weight"in b?b.weight:1}),m.fields=w}return{options:m,query:i.toLowerCase().trim(),tokens:this.tokenize(i,m.respect_word_boundaries,u),total:0,items:[],weights:u,getAttrFn:m.nesting?Vt:zn}}search(i,s){var u=this,m,w;w=this.prepareSearch(i,s),s=w.options,i=w.query;let b=s.score||u._getScoreFunction(w);i.length?Qe(u.items,(j,q)=>{m=b(j),(s.filter===!1||m>0)&&w.items.push({score:m,id:q})}):Qe(u.items,(j,q)=>{w.items.push({score:1,id:q})});let M=u._getSortFunction(w);return M&&w.items.sort(M),w.total=w.items.length,typeof s.limit=="number"&&(w.items=w.items.slice(0,s.limit)),w}}let tn=(f,i)=>{if(Array.isArray(f))f.forEach(i);else for(var s in f)f.hasOwnProperty(s)&&i(f[s],s)},He=f=>{if(f.jquery)return f[0];if(f instanceof HTMLElement)return f;if(Sn(f)){var i=document.createElement("template");return i.innerHTML=f.trim(),i.content.firstChild}return document.querySelector(f)},Sn=f=>typeof f=="string"&&f.indexOf("<")>-1,fn=f=>f.replace(/['"\\]/g,"\\$&"),Je=(f,i)=>{var s=document.createEvent("HTMLEvents");s.initEvent(i,!0,!1),f.dispatchEvent(s)},vt=(f,i)=>{Object.assign(f.style,i)},Ze=(f,...i)=>{var s=hn(i);f=On(f),f.map(u=>{s.map(m=>{u.classList.add(m)})})},xt=(f,...i)=>{var s=hn(i);f=On(f),f.map(u=>{s.map(m=>{u.classList.remove(m)})})},hn=f=>{var i=[];return tn(f,s=>{typeof s=="string"&&(s=s.trim().split(/[\11\12\14\15\40]/)),Array.isArray(s)&&(i=i.concat(s))}),i.filter(Boolean)},On=f=>(Array.isArray(f)||(f=[f]),f),Kt=(f,i,s)=>{if(!(s&&!s.contains(f)))for(;f&&f.matches;){if(f.matches(i))return f;f=f.parentNode}},St=(f,i=0)=>i>0?f[f.length-1]:f[0],ei=f=>Object.keys(f).length===0,pn=(f,i)=>{if(!f)return-1;i=i||f.nodeName;for(var s=0;f=f.previousElementSibling;)f.matches(i)&&s++;return s},je=(f,i)=>{tn(i,(s,u)=>{s==null?f.removeAttribute(u):f.setAttribute(u,""+s)})},st=(f,i)=>{f.parentNode&&f.parentNode.replaceChild(i,f)},gn=(f,i)=>{if(i===null)return;if(typeof i=="string"){if(!i.length)return;i=new RegExp(i,"i")}let s=w=>{var b=w.data.match(i);if(b&&w.data.length>0){var M=document.createElement("span");M.className="highlight";var j=w.splitText(b.index);j.splitText(b[0].length);var q=j.cloneNode(!0);return M.appendChild(q),st(j,M),1}return 0},u=w=>{w.nodeType===1&&w.childNodes&&!/(script|style)/i.test(w.tagName)&&(w.className!=="highlight"||w.tagName!=="SPAN")&&Array.from(w.childNodes).forEach(b=>{m(b)})},m=w=>w.nodeType===3?s(w):(u(w),0);m(f)},mn=f=>{var i=f.querySelectorAll("span.highlight");Array.prototype.forEach.call(i,function(s){var u=s.parentNode;u.replaceChild(s.firstChild,s),u.normalize()})},ne=65,rt=13,Ln=27,nn=37,Bn=38,In=39,vn=40,Ot=8,Xt=46,Yt=9,Qt=(typeof navigator>"u"?!1:/Mac/.test(navigator.userAgent))?"metaKey":"ctrlKey";var Pn={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,refreshThrottle:300,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:function(f){return f.length>0},render:{}};let Se=f=>typeof f>"u"||f===null?null:It(f),It=f=>typeof f=="boolean"?f?"1":"0":f+"",yt=f=>(f+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),$n=(f,i)=>i>0?setTimeout(f,i):(f.call(null),null),Bt=(f,i)=>{var s;return function(u,m){var w=this;s&&(w.loading=Math.max(w.loading-1,0),clearTimeout(s)),s=setTimeout(function(){s=null,w.loadedSearches[u]=!0,f.call(w,u,m)},i)}},yn=(f,i,s)=>{var u,m=f.trigger,w={};f.trigger=function(){var b=arguments[0];if(i.indexOf(b)!==-1)w[b]=arguments;else return m.apply(f,arguments)},s.apply(f,[]),f.trigger=m;for(u of i)u in w&&m.apply(f,w[u])},Et=f=>({start:f.selectionStart||0,length:(f.selectionEnd||0)-(f.selectionStart||0)}),ve=(f,i=!1)=>{f&&(f.preventDefault(),i&&f.stopPropagation())},ge=(f,i,s,u)=>{f.addEventListener(i,s,u)},p=(f,i)=>{if(!i||!i[f])return!1;var s=(i.altKey?1:0)+(i.ctrlKey?1:0)+(i.shiftKey?1:0)+(i.metaKey?1:0);return s===1},v=(f,i)=>{let s=f.getAttribute("id");return s||(f.setAttribute("id",i),i)},S=f=>f.replace(/[\\"']/g,"\\$&"),E=(f,i)=>{i&&f.append(i)};function H(f,i){var s=Object.assign({},Pn,i),u=s.dataAttr,m=s.labelField,w=s.valueField,b=s.disabledField,M=s.optgroupField,j=s.optgroupLabelField,q=s.optgroupValueField,B=f.tagName.toLowerCase(),Y=f.getAttribute("placeholder")||f.getAttribute("data-placeholder");if(!Y&&!s.allowEmptyOption){let Te=f.querySelector('option[value=""]');Te&&(Y=Te.textContent)}var te={placeholder:Y,options:[],optgroups:[],items:[],maxItems:null},Fe=()=>{var Te,Ge=te.options,Me={},ce=1;let Re=0;var jt=Ce=>{var Le=Object.assign({},Ce.dataset),xe=u&&Le[u];return typeof xe=="string"&&xe.length&&(Le=Object.assign(Le,JSON.parse(xe))),Le},bt=(Ce,Le)=>{var xe=Se(Ce.value);if(xe!=null&&!(!xe&&!s.allowEmptyOption)){if(Me.hasOwnProperty(xe)){if(Le){var We=Me[xe][M];We?Array.isArray(We)?We.push(Le):Me[xe][M]=[We,Le]:Me[xe][M]=Le}}else{var Ie=jt(Ce);Ie[m]=Ie[m]||Ce.textContent,Ie[w]=Ie[w]||xe,Ie[b]=Ie[b]||Ce.disabled,Ie[M]=Ie[M]||Le,Ie.$option=Ce,Ie.$order=Ie.$order||++Re,Me[xe]=Ie,Ge.push(Ie)}Ce.selected&&te.items.push(xe)}},wn=Ce=>{var Le,xe;xe=jt(Ce),xe[j]=xe[j]||Ce.getAttribute("label")||"",xe[q]=xe[q]||ce++,xe[b]=xe[b]||Ce.disabled,xe.$order=xe.$order||++Re,te.optgroups.push(xe),Le=xe[q],tn(Ce.children,We=>{bt(We,Le)})};te.maxItems=f.hasAttribute("multiple")?null:1,tn(f.children,Ce=>{Te=Ce.tagName.toLowerCase(),Te==="optgroup"?wn(Ce):Te==="option"&&bt(Ce)})},ee=()=>{let Te=f.getAttribute(u);if(Te)te.options=JSON.parse(Te),tn(te.options,Me=>{te.items.push(Me[w])});else{var Ge=f.value.trim()||"";if(!s.allowEmptyOption&&!Ge.length)return;let Me=Ge.split(s.delimiter);tn(Me,ce=>{let Re={};Re[m]=ce,Re[w]=ce,te.options.push(Re)}),te.items=Me}};return B==="select"?Fe():ee(),Object.assign({},Pn,te,i)}var U=0;class ie extends e(a){constructor(i,s){super(),this.control_input=void 0,this.wrapper=void 0,this.dropdown=void 0,this.control=void 0,this.dropdown_content=void 0,this.focus_node=void 0,this.order=0,this.settings=void 0,this.input=void 0,this.tabIndex=void 0,this.is_select_tag=void 0,this.rtl=void 0,this.inputId=void 0,this._destroy=void 0,this.sifter=void 0,this.isOpen=!1,this.isDisabled=!1,this.isReadOnly=!1,this.isRequired=void 0,this.isInvalid=!1,this.isValid=!0,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreHover=!1,this.hasOptions=!1,this.currentResults=void 0,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],this.refreshTimeout=null,U++;var u,m=He(i);if(m.tomselect)throw new Error("Tom Select already initialized on this element");m.tomselect=this;var w=window.getComputedStyle&&window.getComputedStyle(m,null);u=w.getPropertyValue("direction");let b=H(m,s);this.settings=b,this.input=m,this.tabIndex=m.tabIndex||0,this.is_select_tag=m.tagName.toLowerCase()==="select",this.rtl=/rtl/i.test(u),this.inputId=v(m,"tomselect-"+U),this.isRequired=m.required,this.sifter=new Yn(this.options,{diacritics:b.diacritics}),b.mode=b.mode||(b.maxItems===1?"single":"multi"),typeof b.hideSelected!="boolean"&&(b.hideSelected=b.mode==="multi"),typeof b.hidePlaceholder!="boolean"&&(b.hidePlaceholder=b.mode!=="multi");var M=b.createFilter;typeof M!="function"&&(typeof M=="string"&&(M=new RegExp(M)),M instanceof RegExp?b.createFilter=Ge=>M.test(Ge):b.createFilter=Ge=>this.settings.duplicates||!this.options[Ge]),this.initializePlugins(b.plugins),this.setupCallbacks(),this.setupTemplates();let j=He("<div>"),q=He("<div>"),B=this._render("dropdown"),Y=He('<div role="listbox" tabindex="-1">'),te=this.input.getAttribute("class")||"",Fe=b.mode;var ee;if(Ze(j,b.wrapperClass,te,Fe),Ze(q,b.controlClass),E(j,q),Ze(B,b.dropdownClass,Fe),b.copyClassesToDropdown&&Ze(B,te),Ze(Y,b.dropdownContentClass),E(B,Y),He(b.dropdownParent||j).appendChild(B),Sn(b.controlInput)){ee=He(b.controlInput);var Te=["autocorrect","autocapitalize","autocomplete","spellcheck"];Qe(Te,Ge=>{m.getAttribute(Ge)&&je(ee,{[Ge]:m.getAttribute(Ge)})}),ee.tabIndex=-1,q.appendChild(ee),this.focus_node=ee}else b.controlInput?(ee=He(b.controlInput),this.focus_node=ee):(ee=He("<input/>"),this.focus_node=q);this.wrapper=j,this.dropdown=B,this.dropdown_content=Y,this.control=q,this.control_input=ee,this.setup()}setup(){let i=this,s=i.settings,u=i.control_input,m=i.dropdown,w=i.dropdown_content,b=i.wrapper,M=i.control,j=i.input,q=i.focus_node,B={passive:!0},Y=i.inputId+"-ts-dropdown";je(w,{id:Y}),je(q,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":Y});let te=v(q,i.inputId+"-ts-control"),Fe="label[for='"+fn(i.inputId)+"']",ee=document.querySelector(Fe),Te=i.focus.bind(i);if(ee){ge(ee,"click",Te),je(ee,{for:te});let ce=v(ee,i.inputId+"-ts-label");je(q,{"aria-labelledby":ce}),je(w,{"aria-labelledby":ce})}if(b.style.width=j.style.width,i.plugins.names.length){let ce="plugin-"+i.plugins.names.join(" plugin-");Ze([b,m],ce)}(s.maxItems===null||s.maxItems>1)&&i.is_select_tag&&je(j,{multiple:"multiple"}),s.placeholder&&je(u,{placeholder:s.placeholder}),!s.splitOn&&s.delimiter&&(s.splitOn=new RegExp("\\s*"+G(s.delimiter)+"+\\s*")),s.load&&s.loadThrottle&&(s.load=Bt(s.load,s.loadThrottle)),ge(m,"mousemove",()=>{i.ignoreHover=!1}),ge(m,"mouseenter",ce=>{var Re=Kt(ce.target,"[data-selectable]",m);Re&&i.onOptionHover(ce,Re)},{capture:!0}),ge(m,"click",ce=>{let Re=Kt(ce.target,"[data-selectable]");Re&&(i.onOptionSelect(ce,Re),ve(ce,!0))}),ge(M,"click",ce=>{var Re=Kt(ce.target,"[data-ts-item]",M);if(Re&&i.onItemSelect(ce,Re)){ve(ce,!0);return}u.value==""&&(i.onClick(),ve(ce,!0))}),ge(q,"keydown",ce=>i.onKeyDown(ce)),ge(u,"keypress",ce=>i.onKeyPress(ce)),ge(u,"input",ce=>i.onInput(ce)),ge(q,"blur",ce=>i.onBlur(ce)),ge(q,"focus",ce=>i.onFocus(ce)),ge(u,"paste",ce=>i.onPaste(ce));let Ge=ce=>{let Re=ce.composedPath()[0];if(!b.contains(Re)&&!m.contains(Re)){i.isFocused&&i.blur(),i.inputState();return}Re==u&&i.isOpen?ce.stopPropagation():ve(ce,!0)},Me=()=>{i.isOpen&&i.positionDropdown()};ge(document,"mousedown",Ge),ge(window,"scroll",Me,B),ge(window,"resize",Me,B),this._destroy=()=>{document.removeEventListener("mousedown",Ge),window.removeEventListener("scroll",Me),window.removeEventListener("resize",Me),ee&&ee.removeEventListener("click",Te)},this.revertSettings={innerHTML:j.innerHTML,tabIndex:j.tabIndex},j.tabIndex=-1,j.insertAdjacentElement("afterend",i.wrapper),i.sync(!1),s.items=[],delete s.optgroups,delete s.options,ge(j,"invalid",()=>{i.isValid&&(i.isValid=!1,i.isInvalid=!0,i.refreshState())}),i.updateOriginalInput(),i.refreshItems(),i.close(!1),i.inputState(),i.isSetup=!0,j.disabled?i.disable():j.readOnly?i.setReadOnly(!0):i.enable(),i.on("change",this.onChange),Ze(j,"tomselected","ts-hidden-accessible"),i.trigger("initialize"),s.preload===!0&&i.preload()}setupOptions(i=[],s=[]){this.addOptions(i),Qe(s,u=>{this.registerOptionGroup(u)})}setupTemplates(){var i=this,s=i.settings.labelField,u=i.settings.optgroupLabelField,m={optgroup:w=>{let b=document.createElement("div");return b.className="optgroup",b.appendChild(w.options),b},optgroup_header:(w,b)=>'<div class="optgroup-header">'+b(w[u])+"</div>",option:(w,b)=>"<div>"+b(w[s])+"</div>",item:(w,b)=>"<div>"+b(w[s])+"</div>",option_create:(w,b)=>'<div class="create">Add <strong>'+b(w.input)+"</strong>&hellip;</div>",no_results:()=>'<div class="no-results">No results found</div>',loading:()=>'<div class="spinner"></div>',not_loading:()=>{},dropdown:()=>"<div></div>"};i.settings.render=Object.assign({},m,i.settings.render)}setupCallbacks(){var i,s,u={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(i in u)s=this.settings[u[i]],s&&this.on(i,s)}sync(i=!0){let s=this,u=i?H(s.input,{delimiter:s.settings.delimiter}):s.settings;s.setupOptions(u.options,u.optgroups),s.setValue(u.items||[],!0),s.lastQuery=null}onClick(){var i=this;if(i.activeItems.length>0){i.clearActiveItems(),i.focus();return}i.isFocused&&i.isOpen?i.blur():i.focus()}onMouseDown(){}onChange(){Je(this.input,"input"),Je(this.input,"change")}onPaste(i){var s=this;if(s.isInputHidden||s.isLocked){ve(i);return}s.settings.splitOn&&setTimeout(()=>{var u=s.inputValue();if(u.match(s.settings.splitOn)){var m=u.trim().split(s.settings.splitOn);Qe(m,w=>{Se(w)&&(this.options[w]?s.addItem(w):s.createItem(w))})}},0)}onKeyPress(i){var s=this;if(s.isLocked){ve(i);return}var u=String.fromCharCode(i.keyCode||i.which);if(s.settings.create&&s.settings.mode==="multi"&&u===s.settings.delimiter){s.createItem(),ve(i);return}}onKeyDown(i){var s=this;if(s.ignoreHover=!0,s.isLocked){i.keyCode!==Yt&&ve(i);return}switch(i.keyCode){case ne:if(p(Qt,i)&&s.control_input.value==""){ve(i),s.selectAll();return}break;case Ln:s.isOpen&&(ve(i,!0),s.close()),s.clearActiveItems();return;case vn:if(!s.isOpen&&s.hasOptions)s.open();else if(s.activeOption){let u=s.getAdjacent(s.activeOption,1);u&&s.setActiveOption(u)}ve(i);return;case Bn:if(s.activeOption){let u=s.getAdjacent(s.activeOption,-1);u&&s.setActiveOption(u)}ve(i);return;case rt:s.canSelect(s.activeOption)?(s.onOptionSelect(i,s.activeOption),ve(i)):(s.settings.create&&s.createItem()||document.activeElement==s.control_input&&s.isOpen)&&ve(i);return;case nn:s.advanceSelection(-1,i);return;case In:s.advanceSelection(1,i);return;case Yt:s.settings.selectOnTab&&(s.canSelect(s.activeOption)&&(s.onOptionSelect(i,s.activeOption),ve(i)),s.settings.create&&s.createItem()&&ve(i));return;case Ot:case Xt:s.deleteSelection(i);return}s.isInputHidden&&!p(Qt,i)&&ve(i)}onInput(i){if(this.isLocked)return;let s=this.inputValue();if(this.lastValue!==s){if(this.lastValue=s,s==""){this._onInput();return}this.refreshTimeout&&clearTimeout(this.refreshTimeout),this.refreshTimeout=$n(()=>{this.refreshTimeout=null,this._onInput()},this.settings.refreshThrottle)}}_onInput(){let i=this.lastValue;this.settings.shouldLoad.call(this,i)&&this.load(i),this.refreshOptions(),this.trigger("type",i)}onOptionHover(i,s){this.ignoreHover||this.setActiveOption(s,!1)}onFocus(i){var s=this,u=s.isFocused;if(s.isDisabled||s.isReadOnly){s.blur(),ve(i);return}s.ignoreFocus||(s.isFocused=!0,s.settings.preload==="focus"&&s.preload(),u||s.trigger("focus"),s.activeItems.length||(s.inputState(),s.refreshOptions(!!s.settings.openOnFocus)),s.refreshState())}onBlur(i){if(document.hasFocus()!==!1){var s=this;if(s.isFocused){s.isFocused=!1,s.ignoreFocus=!1;var u=()=>{s.close(),s.setActiveItem(),s.setCaret(s.items.length),s.trigger("blur")};s.settings.create&&s.settings.createOnBlur?s.createItem(null,u):u()}}}onOptionSelect(i,s){var u,m=this;s.parentElement&&s.parentElement.matches("[data-disabled]")||(s.classList.contains("create")?m.createItem(null,()=>{m.settings.closeAfterSelect&&m.close()}):(u=s.dataset.value,typeof u<"u"&&(m.lastQuery=null,m.addItem(u),m.settings.closeAfterSelect&&m.close(),!m.settings.hideSelected&&i.type&&/click/.test(i.type)&&m.setActiveOption(s))))}canSelect(i){return!!(this.isOpen&&i&&this.dropdown_content.contains(i))}onItemSelect(i,s){var u=this;return!u.isLocked&&u.settings.mode==="multi"?(ve(i),u.setActiveItem(s,i),!0):!1}canLoad(i){return!(!this.settings.load||this.loadedSearches.hasOwnProperty(i))}load(i){let s=this;if(!s.canLoad(i))return;Ze(s.wrapper,s.settings.loadingClass),s.loading++;let u=s.loadCallback.bind(s);s.settings.load.call(s,i,u)}loadCallback(i,s){let u=this;u.loading=Math.max(u.loading-1,0),u.lastQuery=null,u.clearActiveOption(),u.setupOptions(i,s),u.refreshOptions(u.isFocused&&!u.isInputHidden),u.loading||xt(u.wrapper,u.settings.loadingClass),u.trigger("load",i,s)}preload(){var i=this.wrapper.classList;i.contains("preloaded")||(i.add("preloaded"),this.load(""))}setTextboxValue(i=""){var s=this.control_input,u=s.value!==i;u&&(s.value=i,Je(s,"update"),this.lastValue=i)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(i,s){var u=s?[]:["change"];yn(this,u,()=>{this.clear(s),this.addItems(i,s)})}setMaxItems(i){i===0&&(i=null),this.settings.maxItems=i,this.refreshState()}setActiveItem(i,s){var u=this,m,w,b,M,j,q;if(u.settings.mode!=="single"){if(!i){u.clearActiveItems(),u.isFocused&&u.inputState();return}if(m=s&&s.type.toLowerCase(),m==="click"&&p("shiftKey",s)&&u.activeItems.length){for(q=u.getLastActive(),b=Array.prototype.indexOf.call(u.control.children,q),M=Array.prototype.indexOf.call(u.control.children,i),b>M&&(j=b,b=M,M=j),w=b;w<=M;w++)i=u.control.children[w],u.activeItems.indexOf(i)===-1&&u.setActiveItemClass(i);ve(s)}else m==="click"&&p(Qt,s)||m==="keydown"&&p("shiftKey",s)?i.classList.contains("active")?u.removeActiveItem(i):u.setActiveItemClass(i):(u.clearActiveItems(),u.setActiveItemClass(i));u.inputState(),u.isFocused||u.focus()}}setActiveItemClass(i){let s=this,u=s.control.querySelector(".last-active");u&&xt(u,"last-active"),Ze(i,"active last-active"),s.trigger("item_select",i),s.activeItems.indexOf(i)==-1&&s.activeItems.push(i)}removeActiveItem(i){var s=this.activeItems.indexOf(i);this.activeItems.splice(s,1),xt(i,"active")}clearActiveItems(){xt(this.activeItems,"active"),this.activeItems=[]}setActiveOption(i,s=!0){i!==this.activeOption&&(this.clearActiveOption(),i&&(this.activeOption=i,je(this.focus_node,{"aria-activedescendant":i.getAttribute("id")}),je(i,{"aria-selected":"true"}),Ze(i,"active"),s&&this.scrollToOption(i)))}scrollToOption(i,s){if(!i)return;let u=this.dropdown_content,m=u.clientHeight,w=u.scrollTop||0,b=i.offsetHeight,M=i.getBoundingClientRect().top-u.getBoundingClientRect().top+w;M+b>m+w?this.scroll(M-m+b,s):M<w&&this.scroll(M,s)}scroll(i,s){let u=this.dropdown_content;s&&(u.style.scrollBehavior=s),u.scrollTop=i,u.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&(xt(this.activeOption,"active"),je(this.activeOption,{"aria-selected":null})),this.activeOption=null,je(this.focus_node,{"aria-activedescendant":null})}selectAll(){let i=this;if(i.settings.mode==="single")return;let s=i.controlChildren();s.length&&(i.inputState(),i.close(),i.activeItems=s,Qe(s,u=>{i.setActiveItemClass(u)}))}inputState(){var i=this;i.control.contains(i.control_input)&&(je(i.control_input,{placeholder:i.settings.placeholder}),i.activeItems.length>0||!i.isFocused&&i.settings.hidePlaceholder&&i.items.length>0?(i.setTextboxValue(),i.isInputHidden=!0):(i.settings.hidePlaceholder&&i.items.length>0&&je(i.control_input,{placeholder:""}),i.isInputHidden=!1),i.wrapper.classList.toggle("input-hidden",i.isInputHidden))}inputValue(){return this.control_input.value.trim()}focus(){var i=this;i.isDisabled||i.isReadOnly||(i.ignoreFocus=!0,i.control_input.offsetWidth?i.control_input.focus():i.focus_node.focus(),setTimeout(()=>{i.ignoreFocus=!1,i.onFocus()},0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(i){return this.sifter.getScoreFunction(i,this.getSearchOptions())}getSearchOptions(){var i=this.settings,s=i.sortField;return typeof i.sortField=="string"&&(s=[{field:i.sortField}]),{fields:i.searchField,conjunction:i.searchConjunction,sort:s,nesting:i.nesting}}search(i){var s,u,m=this,w=this.getSearchOptions();if(m.settings.score&&(u=m.settings.score.call(m,i),typeof u!="function"))throw new Error('Tom Select "score" setting must be a function that returns a function');return i!==m.lastQuery?(m.lastQuery=i,s=m.sifter.search(i,Object.assign(w,{score:u})),m.currentResults=s):s=Object.assign({},m.currentResults),m.settings.hideSelected&&(s.items=s.items.filter(b=>{let M=Se(b.id);return!(M&&m.items.indexOf(M)!==-1)})),s}refreshOptions(i=!0){var s,u,m,w,b,M,j,q,B,Y;let te={},Fe=[];var ee=this,Te=ee.inputValue();let Ge=Te===ee.lastQuery||Te==""&&ee.lastQuery==null;var Me=ee.search(Te),ce=null,Re=ee.settings.shouldOpen||!1,jt=ee.dropdown_content;Ge&&(ce=ee.activeOption,ce&&(B=ce.closest("[data-group]"))),w=Me.items.length,typeof ee.settings.maxOptions=="number"&&(w=Math.min(w,ee.settings.maxOptions)),w>0&&(Re=!0);let bt=(Ce,Le)=>{let xe=te[Ce];if(xe!==void 0){let Ie=Fe[xe];if(Ie!==void 0)return[xe,Ie.fragment]}let We=document.createDocumentFragment();return xe=Fe.length,Fe.push({fragment:We,order:Le,optgroup:Ce}),[xe,We]};for(s=0;s<w;s++){let Ce=Me.items[s];if(!Ce)continue;let Le=Ce.id,xe=ee.options[Le];if(xe===void 0)continue;let We=It(Le),Ie=ee.getOption(We,!0);for(ee.settings.hideSelected||Ie.classList.toggle("selected",ee.items.includes(We)),b=xe[ee.settings.optgroupField]||"",M=Array.isArray(b)?b:[b],u=0,m=M&&M.length;u<m;u++){b=M[u];let Tn=xe.$order,Kn=ee.optgroups[b];Kn===void 0?b="":Tn=Kn.$order;let[jn,fi]=bt(b,Tn);u>0&&(Ie=Ie.cloneNode(!0),je(Ie,{id:xe.$id+"-clone-"+u,"aria-selected":null}),Ie.classList.add("ts-cloned"),xt(Ie,"active"),ee.activeOption&&ee.activeOption.dataset.value==Le&&B&&B.dataset.group===b.toString()&&(ce=Ie)),fi.appendChild(Ie),b!=""&&(te[b]=jn)}}ee.settings.lockOptgroupOrder&&Fe.sort((Ce,Le)=>Ce.order-Le.order),j=document.createDocumentFragment(),Qe(Fe,Ce=>{let Le=Ce.fragment,xe=Ce.optgroup;if(!Le||!Le.children.length)return;let We=ee.optgroups[xe];if(We!==void 0){let Ie=document.createDocumentFragment(),Tn=ee.render("optgroup_header",We);E(Ie,Tn),E(Ie,Le);let Kn=ee.render("optgroup",{group:We,options:Ie});E(j,Kn)}else E(j,Le)}),jt.innerHTML="",E(jt,j),ee.settings.highlight&&(mn(jt),Me.query.length&&Me.tokens.length&&Qe(Me.tokens,Ce=>{gn(jt,Ce.regex)}));var wn=Ce=>{let Le=ee.render(Ce,{input:Te});return Le&&(Re=!0,jt.insertBefore(Le,jt.firstChild)),Le};if(ee.loading?wn("loading"):ee.settings.shouldLoad.call(ee,Te)?Me.items.length===0&&wn("no_results"):wn("not_loading"),q=ee.canCreate(Te),q&&(Y=wn("option_create")),ee.hasOptions=Me.items.length>0||q,Re){if(Me.items.length>0){if(!ce&&ee.settings.mode==="single"&&ee.items[0]!=null&&(ce=ee.getOption(ee.items[0])),!jt.contains(ce)){let Ce=0;Y&&!ee.settings.addPrecedence&&(Ce=1),ce=ee.selectable()[Ce]}}else Y&&(ce=Y);i&&!ee.isOpen&&(ee.open(),ee.scrollToOption(ce,"auto")),ee.setActiveOption(ce)}else ee.clearActiveOption(),i&&ee.isOpen&&ee.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(i,s=!1){let u=this;if(Array.isArray(i))return u.addOptions(i,s),!1;let m=Se(i[u.settings.valueField]);return m===null||u.options.hasOwnProperty(m)?!1:(i.$order=i.$order||++u.order,i.$id=u.inputId+"-opt-"+i.$order,u.options[m]=i,u.lastQuery=null,s&&(u.userOptions[m]=s,u.trigger("option_add",m,i)),m)}addOptions(i,s=!1){Qe(i,u=>{this.addOption(u,s)})}registerOption(i){return this.addOption(i)}registerOptionGroup(i){var s=Se(i[this.settings.optgroupValueField]);return s===null?!1:(i.$order=i.$order||++this.order,this.optgroups[s]=i,s)}addOptionGroup(i,s){var u;s[this.settings.optgroupValueField]=i,(u=this.registerOptionGroup(s))&&this.trigger("optgroup_add",u,s)}removeOptionGroup(i){this.optgroups.hasOwnProperty(i)&&(delete this.optgroups[i],this.clearCache(),this.trigger("optgroup_remove",i))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(i,s){let u=this;var m,w;let b=Se(i),M=Se(s[u.settings.valueField]);if(b===null)return;let j=u.options[b];if(j==null)return;if(typeof M!="string")throw new Error("Value must be set in option data");let q=u.getOption(b),B=u.getItem(b);if(s.$order=s.$order||j.$order,delete u.options[b],u.uncacheValue(M),u.options[M]=s,q){if(u.dropdown_content.contains(q)){let Y=u._render("option",s);st(q,Y),u.activeOption===q&&u.setActiveOption(Y)}q.remove()}B&&(w=u.items.indexOf(b),w!==-1&&u.items.splice(w,1,M),m=u._render("item",s),B.classList.contains("active")&&Ze(m,"active"),st(B,m)),u.lastQuery=null}removeOption(i,s){let u=this;i=It(i),u.uncacheValue(i),delete u.userOptions[i],delete u.options[i],u.lastQuery=null,u.trigger("option_remove",i),u.removeItem(i,s)}clearOptions(i){let s=(i||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();let u={};Qe(this.options,(m,w)=>{s(m,w)&&(u[w]=m)}),this.options=this.sifter.items=u,this.lastQuery=null,this.trigger("option_clear")}clearFilter(i,s){return this.items.indexOf(s)>=0}getOption(i,s=!1){let u=Se(i);if(u===null)return null;let m=this.options[u];if(m!=null){if(m.$div)return m.$div;if(s)return this._render("option",m)}return null}getAdjacent(i,s,u="option"){var m=this,w;if(!i)return null;u=="item"?w=m.controlChildren():w=m.dropdown_content.querySelectorAll("[data-selectable]");for(let b=0;b<w.length;b++)if(w[b]==i)return s>0?w[b+1]:w[b-1];return null}getItem(i){if(typeof i=="object")return i;var s=Se(i);return s!==null?this.control.querySelector(`[data-value="${S(s)}"]`):null}addItems(i,s){var u=this,m=Array.isArray(i)?i:[i];m=m.filter(b=>u.items.indexOf(b)===-1);let w=m[m.length-1];m.forEach(b=>{u.isPending=b!==w,u.addItem(b,s)})}addItem(i,s){var u=s?[]:["change","dropdown_close"];yn(this,u,()=>{var m,w;let b=this,M=b.settings.mode,j=Se(i);if(!(j&&b.items.indexOf(j)!==-1&&(M==="single"&&b.close(),M==="single"||!b.settings.duplicates))&&!(j===null||!b.options.hasOwnProperty(j))&&(M==="single"&&b.clear(s),!(M==="multi"&&b.isFull()))){if(m=b._render("item",b.options[j]),b.control.contains(m)&&(m=m.cloneNode(!0)),w=b.isFull(),b.items.splice(b.caretPos,0,j),b.insertAtCaret(m),b.isSetup){if(!b.isPending&&b.settings.hideSelected){let q=b.getOption(j),B=b.getAdjacent(q,1);B&&b.setActiveOption(B)}!b.isPending&&!b.settings.closeAfterSelect&&b.refreshOptions(b.isFocused&&M!=="single"),b.settings.closeAfterSelect!=!1&&b.isFull()?b.close():b.isPending||b.positionDropdown(),b.trigger("item_add",j,m),b.isPending||b.updateOriginalInput({silent:s})}(!b.isPending||!w&&b.isFull())&&(b.inputState(),b.refreshState())}})}removeItem(i=null,s){let u=this;if(i=u.getItem(i),!i)return;var m,w;let b=i.dataset.value;m=pn(i),i.remove(),i.classList.contains("active")&&(w=u.activeItems.indexOf(i),u.activeItems.splice(w,1),xt(i,"active")),u.items.splice(m,1),u.lastQuery=null,!u.settings.persist&&u.userOptions.hasOwnProperty(b)&&u.removeOption(b,s),m<u.caretPos&&u.setCaret(u.caretPos-1),u.updateOriginalInput({silent:s}),u.refreshState(),u.positionDropdown(),u.trigger("item_remove",b,i)}createItem(i=null,s=()=>{}){arguments.length===3&&(s=arguments[2]),typeof s!="function"&&(s=()=>{});var u=this,m=u.caretPos,w;if(i=i||u.inputValue(),!u.canCreate(i))return s(),!1;u.lock();var b=!1,M=j=>{if(u.unlock(),!j||typeof j!="object")return s();var q=Se(j[u.settings.valueField]);if(typeof q!="string")return s();u.setTextboxValue(),u.addOption(j,!0),u.setCaret(m),u.addItem(q),s(j),b=!0};return typeof u.settings.create=="function"?w=u.settings.create.call(this,i,M):w={[u.settings.labelField]:i,[u.settings.valueField]:i},b||M(w),!0}refreshItems(){var i=this;i.lastQuery=null,i.isSetup&&i.addItems(i.items),i.updateOriginalInput(),i.refreshState()}refreshState(){let i=this;i.refreshValidityState();let s=i.isFull(),u=i.isLocked;i.wrapper.classList.toggle("rtl",i.rtl);let m=i.wrapper.classList;m.toggle("focus",i.isFocused),m.toggle("disabled",i.isDisabled),m.toggle("readonly",i.isReadOnly),m.toggle("required",i.isRequired),m.toggle("invalid",!i.isValid),m.toggle("locked",u),m.toggle("full",s),m.toggle("input-active",i.isFocused&&!i.isInputHidden),m.toggle("dropdown-active",i.isOpen),m.toggle("has-options",ei(i.options)),m.toggle("has-items",i.items.length>0)}refreshValidityState(){var i=this;i.input.validity&&(i.isValid=i.input.validity.valid,i.isInvalid=!i.isValid)}isFull(){return this.settings.maxItems!==null&&this.items.length>=this.settings.maxItems}updateOriginalInput(i={}){let s=this;var u,m;let w=s.input.querySelector('option[value=""]');if(s.is_select_tag){let j=function(q,B,Y){return q||(q=He('<option value="'+yt(B)+'">'+yt(Y)+"</option>")),q!=w&&s.input.append(q),b.push(q),(q!=w||M>0)&&(q.selected=!0),q},b=[],M=s.input.querySelectorAll("option:checked").length;s.input.querySelectorAll("option:checked").forEach(q=>{q.selected=!1}),s.items.length==0&&s.settings.mode=="single"?j(w,"",""):s.items.forEach(q=>{if(u=s.options[q],m=u[s.settings.labelField]||"",b.includes(u.$option)){let B=s.input.querySelector(`option[value="${S(q)}"]:not(:checked)`);j(B,q,m)}else u.$option=j(u.$option,q,m)})}else s.input.value=s.getValue();s.isSetup&&(i.silent||s.trigger("change",s.getValue()))}open(){var i=this;i.isLocked||i.isOpen||i.settings.mode==="multi"&&i.isFull()||(i.isOpen=!0,je(i.focus_node,{"aria-expanded":"true"}),i.refreshState(),vt(i.dropdown,{visibility:"hidden",display:"block"}),i.positionDropdown(),vt(i.dropdown,{visibility:"visible",display:"block"}),i.focus(),i.trigger("dropdown_open",i.dropdown))}close(i=!0){var s=this,u=s.isOpen;i&&(s.setTextboxValue(),s.settings.mode==="single"&&s.items.length&&s.inputState()),s.isOpen=!1,je(s.focus_node,{"aria-expanded":"false"}),vt(s.dropdown,{display:"none"}),s.settings.hideSelected&&s.clearActiveOption(),s.refreshState(),u&&s.trigger("dropdown_close",s.dropdown)}positionDropdown(){if(this.settings.dropdownParent==="body"){var i=this.control,s=i.getBoundingClientRect(),u=i.offsetHeight+s.top+window.scrollY,m=s.left+window.scrollX;vt(this.dropdown,{width:s.width+"px",top:u+"px",left:m+"px"})}}clear(i){var s=this;if(s.items.length){var u=s.controlChildren();Qe(u,m=>{s.removeItem(m,!0)}),s.inputState(),i||s.updateOriginalInput(),s.trigger("clear")}}insertAtCaret(i){let s=this,u=s.caretPos,m=s.control;m.insertBefore(i,m.children[u]||null),s.setCaret(u+1)}deleteSelection(i){var s,u,m,w,b=this;s=i&&i.keyCode===Ot?-1:1,u=Et(b.control_input);let M=[];if(b.activeItems.length)w=St(b.activeItems,s),m=pn(w),s>0&&m++,Qe(b.activeItems,j=>M.push(j));else if((b.isFocused||b.settings.mode==="single")&&b.items.length){let j=b.controlChildren(),q;s<0&&u.start===0&&u.length===0?q=j[b.caretPos-1]:s>0&&u.start===b.inputValue().length&&(q=j[b.caretPos]),q!==void 0&&M.push(q)}if(!b.shouldDelete(M,i))return!1;for(ve(i,!0),typeof m<"u"&&b.setCaret(m);M.length;)b.removeItem(M.pop());return b.inputState(),b.positionDropdown(),b.refreshOptions(!1),!0}shouldDelete(i,s){let u=i.map(m=>m.dataset.value);return!(!u.length||typeof this.settings.onDelete=="function"&&this.settings.onDelete(u,s)===!1)}advanceSelection(i,s){var u,m,w=this;w.rtl&&(i*=-1),!w.inputValue().length&&(p(Qt,s)||p("shiftKey",s)?(u=w.getLastActive(i),u?u.classList.contains("active")?m=w.getAdjacent(u,i,"item"):m=u:i>0?m=w.control_input.nextElementSibling:m=w.control_input.previousElementSibling,m&&(m.classList.contains("active")&&w.removeActiveItem(u),w.setActiveItemClass(m))):w.moveCaret(i))}moveCaret(i){}getLastActive(i){let s=this.control.querySelector(".last-active");if(s)return s;var u=this.control.querySelectorAll(".active");if(u)return St(u,i)}setCaret(i){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.setLocked(!0)}unlock(){this.setLocked(!1)}setLocked(i=this.isReadOnly||this.isDisabled){this.isLocked=i,this.refreshState()}disable(){this.setDisabled(!0),this.close()}enable(){this.setDisabled(!1)}setDisabled(i){this.focus_node.tabIndex=i?-1:this.tabIndex,this.isDisabled=i,this.input.disabled=i,this.control_input.disabled=i,this.setLocked()}setReadOnly(i){this.isReadOnly=i,this.input.readOnly=i,this.control_input.readOnly=i,this.setLocked()}destroy(){var i=this,s=i.revertSettings;i.trigger("destroy"),i.off(),i.wrapper.remove(),i.dropdown.remove(),i.input.innerHTML=s.innerHTML,i.input.tabIndex=s.tabIndex,xt(i.input,"tomselected","ts-hidden-accessible"),i._destroy(),delete i.input.tomselect}render(i,s){var u,m;let w=this;if(typeof this.settings.render[i]!="function"||(m=w.settings.render[i].call(this,s,yt),!m))return null;if(m=He(m),i==="option"||i==="option_create"?s[w.settings.disabledField]?je(m,{"aria-disabled":"true"}):je(m,{"data-selectable":""}):i==="optgroup"&&(u=s.group[w.settings.optgroupValueField],je(m,{"data-group":u}),s.group[w.settings.disabledField]&&je(m,{"data-disabled":""})),i==="option"||i==="item"){let b=It(s[w.settings.valueField]);je(m,{"data-value":b}),i==="item"?(Ze(m,w.settings.itemClass),je(m,{"data-ts-item":""})):(Ze(m,w.settings.optionClass),je(m,{role:"option",id:s.$id}),s.$div=m,w.options[b]=s)}return m}_render(i,s){let u=this.render(i,s);if(u==null)throw"HTMLElement expected";return u}clearCache(){Qe(this.options,i=>{i.$div&&(i.$div.remove(),delete i.$div)})}uncacheValue(i){let s=this.getOption(i);s&&s.remove()}canCreate(i){return this.settings.create&&i.length>0&&this.settings.createFilter.call(this,i)}hook(i,s,u){var m=this,w=m[s];m[s]=function(){var b,M;return i==="after"&&(b=w.apply(m,arguments)),M=u.apply(m,arguments),i==="instead"?M:(i==="before"&&(b=w.apply(m,arguments)),b)}}}function J(){ge(this.input,"change",()=>{this.sync()})}function we(f){var i=this,s=i.onOptionSelect;i.settings.hideSelected=!1;let u=Object.assign({className:"tomselect-checkbox",checkedClassNames:void 0,uncheckedClassNames:void 0},f);var m=function(M,j){j?(M.checked=!0,u.uncheckedClassNames&&M.classList.remove(...u.uncheckedClassNames),u.checkedClassNames&&M.classList.add(...u.checkedClassNames)):(M.checked=!1,u.checkedClassNames&&M.classList.remove(...u.checkedClassNames),u.uncheckedClassNames&&M.classList.add(...u.uncheckedClassNames))},w=function(M){setTimeout(()=>{var j=M.querySelector("input."+u.className);j instanceof HTMLInputElement&&m(j,M.classList.contains("selected"))},1)};i.hook("after","setupTemplates",()=>{var b=i.settings.render.option;i.settings.render.option=(M,j)=>{var q=He(b.call(i,M,j)),B=document.createElement("input");u.className&&B.classList.add(u.className),B.addEventListener("click",function(te){ve(te)}),B.type="checkbox";let Y=Se(M[i.settings.valueField]);return m(B,!!(Y&&i.items.indexOf(Y)>-1)),q.prepend(B),q}}),i.on("item_remove",b=>{var M=i.getOption(b);M&&(M.classList.remove("selected"),w(M))}),i.on("item_add",b=>{var M=i.getOption(b);M&&w(M)}),i.hook("instead","onOptionSelect",(b,M)=>{if(M.classList.contains("selected")){M.classList.remove("selected"),i.removeItem(M.dataset.value),i.refreshOptions(),ve(b,!0);return}s.call(i,b,M),w(M)})}function Z(f){let i=this,s=Object.assign({className:"clear-button",title:"Clear All",html:u=>`<div class="${u.className}" title="${u.title}">&#10799;</div>`},f);i.on("initialize",()=>{var u=He(s.html(s));u.addEventListener("click",m=>{i.isLocked||(i.clear(),i.settings.mode==="single"&&i.settings.allowEmptyOption&&i.addItem(""),m.preventDefault(),m.stopPropagation())}),i.control.appendChild(u)})}let de=(f,i)=>{var s;(s=f.parentNode)==null||s.insertBefore(i,f.nextSibling)},Ne=(f,i)=>{var s;(s=f.parentNode)==null||s.insertBefore(i,f)},Mt=(f,i)=>{do{var s;if(i=(s=i)==null?void 0:s.previousElementSibling,f==i)return!0}while(i&&i.previousElementSibling);return!1};function mt(){var f=this;if(f.settings.mode!=="multi")return;var i=f.lock,s=f.unlock;let u=!0,m;f.hook("after","setupTemplates",()=>{var w=f.settings.render.item;f.settings.render.item=(b,M)=>{let j=He(w.call(f,b,M));je(j,{draggable:"true"});let q=Te=>{u||ve(Te),Te.stopPropagation()},B=Te=>{m=j,setTimeout(()=>{j.classList.add("ts-dragging")},0)},Y=Te=>{Te.preventDefault(),j.classList.add("ts-drag-over"),Fe(j,m)},te=()=>{j.classList.remove("ts-drag-over")},Fe=(Te,Ge)=>{Ge!==void 0&&(Mt(Ge,j)?de(Te,Ge):Ne(Te,Ge))},ee=()=>{var Te;document.querySelectorAll(".ts-drag-over").forEach(Me=>Me.classList.remove("ts-drag-over")),(Te=m)==null||Te.classList.remove("ts-dragging"),m=void 0;var Ge=[];f.control.querySelectorAll("[data-value]").forEach(Me=>{if(Me.dataset.value){let ce=Me.dataset.value;ce&&Ge.push(ce)}}),f.setValue(Ge)};return ge(j,"mousedown",q),ge(j,"dragstart",B),ge(j,"dragenter",Y),ge(j,"dragover",Y),ge(j,"dragleave",te),ge(j,"dragend",ee),j}}),f.hook("instead","lock",()=>(u=!1,i.call(f))),f.hook("instead","unlock",()=>(u=!0,s.call(f)))}function rn(f){let i=this,s=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:u=>'<div class="'+u.headerClass+'"><div class="'+u.titleRowClass+'"><span class="'+u.labelClass+'">'+u.title+'</span><a class="'+u.closeClass+'">&times;</a></div></div>'},f);i.on("initialize",()=>{var u=He(s.html(s)),m=u.querySelector("."+s.closeClass);m&&m.addEventListener("click",w=>{ve(w,!0),i.close()}),i.dropdown.insertBefore(u,i.dropdown.firstChild)})}function $t(){var f=this;f.hook("instead","setCaret",i=>{f.settings.mode==="single"||!f.control.contains(f.control_input)?i=f.items.length:(i=Math.max(0,Math.min(f.items.length,i)),i!=f.caretPos&&!f.isPending&&f.controlChildren().forEach((s,u)=>{u<i?f.control_input.insertAdjacentElement("beforebegin",s):f.control.appendChild(s)})),f.caretPos=i}),f.hook("instead","moveCaret",i=>{if(!f.isFocused)return;let s=f.getLastActive(i);if(s){let u=pn(s);f.setCaret(i>0?u+1:u),f.setActiveItem(),xt(s,"last-active")}else f.setCaret(f.caretPos+i)})}function Un(){let f=this;f.settings.shouldOpen=!0,f.hook("before","setup",()=>{f.focus_node=f.control,Ze(f.control_input,"dropdown-input");let i=He('<div class="dropdown-input-wrap">');i.append(f.control_input),f.dropdown.insertBefore(i,f.dropdown.firstChild);let s=He('<input class="items-placeholder" tabindex="-1" />');s.placeholder=f.settings.placeholder||"",f.control.append(s)}),f.on("initialize",()=>{f.control_input.addEventListener("keydown",s=>{switch(s.keyCode){case Ln:f.isOpen&&(ve(s,!0),f.close()),f.clearActiveItems();return;case Yt:f.focus_node.tabIndex=-1;break}return f.onKeyDown.call(f,s)}),f.on("blur",()=>{f.focus_node.tabIndex=f.isDisabled?-1:f.tabIndex}),f.on("dropdown_open",()=>{f.control_input.focus()});let i=f.onBlur;f.hook("instead","onBlur",s=>{if(!(s&&s.relatedTarget==f.control_input))return i.call(f)}),ge(f.control_input,"blur",()=>f.onBlur()),f.hook("before","close",()=>{f.isOpen&&f.focus_node.focus({preventScroll:!0})})})}function bn(){var f=this;f.on("initialize",()=>{var i=document.createElement("span"),s=f.control_input;i.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",f.wrapper.appendChild(i);var u=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];for(let w of u)i.style[w]=s.style[w];var m=()=>{i.textContent=s.value,s.style.width=i.clientWidth+"px"};m(),f.on("update item_add item_remove",m),ge(s,"input",m),ge(s,"keyup",m),ge(s,"blur",m),ge(s,"update",m)})}function qn(){var f=this,i=f.deleteSelection;this.hook("instead","deleteSelection",s=>f.activeItems.length?i.call(f,s):!1)}function An(){this.hook("instead","setActiveItem",()=>{}),this.hook("instead","selectAll",()=>{})}function Wn(){var f=this,i=f.onKeyDown;f.hook("instead","onKeyDown",s=>{var u,m,w,b;if(!f.isOpen||!(s.keyCode===nn||s.keyCode===In))return i.call(f,s);f.ignoreHover=!0,b=Kt(f.activeOption,"[data-group]"),u=pn(f.activeOption,"[data-selectable]"),b&&(s.keyCode===nn?b=b.previousSibling:b=b.nextSibling,b&&(w=b.querySelectorAll("[data-selectable]"),m=w[Math.min(w.length-1,u)],m&&f.setActiveOption(m)))})}function ni(f){let i=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},f);var s=this;if(i.append){var u='<a href="javascript:void(0)" class="'+i.className+'" tabindex="-1" title="'+yt(i.title)+'">'+i.label+"</a>";s.hook("after","setupTemplates",()=>{var m=s.settings.render.item;s.settings.render.item=(w,b)=>{var M=He(m.call(s,w,b)),j=He(u);return M.appendChild(j),ge(j,"mousedown",q=>{ve(q,!0)}),ge(j,"click",q=>{s.isLocked||(ve(q,!0),!s.isLocked&&s.shouldDelete([M],q)&&(s.removeItem(M),s.refreshOptions(!1),s.inputState()))}),M}})}}function Dn(f){let i=this,s=Object.assign({text:u=>u[i.settings.labelField]},f);i.on("item_remove",function(u){if(i.isFocused&&i.control_input.value.trim()===""){var m=i.options[u];m&&i.setTextboxValue(s.text.call(i,m))}})}function Vn(){let f=this,i=f.canLoad,s=f.clearActiveOption,u=f.loadCallback;var m={},w,b=!1,M,j=[];if(f.settings.shouldLoadMore||(f.settings.shouldLoadMore=()=>{if(w.clientHeight/(w.scrollHeight-w.scrollTop)>.9)return!0;if(f.activeOption){var te=f.selectable(),Fe=Array.from(te).indexOf(f.activeOption);if(Fe>=te.length-2)return!0}return!1}),!f.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";f.settings.sortField=[{field:"$order"},{field:"$score"}];let q=Y=>typeof f.settings.maxOptions=="number"&&w.children.length>=f.settings.maxOptions?!1:!!(Y in m&&m[Y]),B=(Y,te)=>f.items.indexOf(te)>=0||j.indexOf(te)>=0;f.setNextUrl=(Y,te)=>{m[Y]=te},f.getUrl=Y=>{if(Y in m){let te=m[Y];return m[Y]=!1,te}return f.clearPagination(),f.settings.firstUrl.call(f,Y)},f.clearPagination=()=>{m={}},f.hook("instead","clearActiveOption",()=>{if(!b)return s.call(f)}),f.hook("instead","canLoad",Y=>Y in m?q(Y):i.call(f,Y)),f.hook("instead","loadCallback",(Y,te)=>{if(!b)f.clearOptions(B);else if(M){let Fe=Y[0];Fe!==void 0&&(M.dataset.value=Fe[f.settings.valueField])}u.call(f,Y,te),b=!1}),f.hook("after","refreshOptions",()=>{let Y=f.lastValue;var te;q(Y)?(te=f.render("loading_more",{query:Y}),te&&(te.setAttribute("data-selectable",""),M=te)):Y in m&&!w.querySelector(".no-results")&&(te=f.render("no_more_results",{query:Y})),te&&(Ze(te,f.settings.optionClass),w.append(te))}),f.on("initialize",()=>{j=Object.keys(f.options),w=f.dropdown_content,f.settings.render=Object.assign({},{loading_more:()=>'<div class="loading-more-results">Loading more results ... </div>',no_more_results:()=>'<div class="no-more-results">No more results</div>'},f.settings.render),w.addEventListener("scroll",()=>{f.settings.shouldLoadMore.call(f)&&q(f.lastValue)&&(b||(b=!0,f.load.call(f,f.lastValue)))})})}return ie.define("change_listener",J),ie.define("checkbox_options",we),ie.define("clear_button",Z),ie.define("drag_drop",mt),ie.define("dropdown_header",rn),ie.define("caret_position",$t),ie.define("dropdown_input",Un),ie.define("input_autogrow",bn),ie.define("no_backspace_delete",qn),ie.define("no_active_items",An),ie.define("optgroup_columns",Wn),ie.define("remove_button",ni),ie.define("restore_on_backspace",Dn),ie.define("virtual_scroll",Vn),ie})});var wr=Wi((Dr,Di)=>{(function(g,a){"use strict";typeof Di=="object"&&typeof Di.exports=="object"?Di.exports=g.document?a(g,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return a(e)}:a(g)})(typeof window<"u"?window:Dr,function(g,a){"use strict";var e=[],_=Object.getPrototypeOf,I=e.slice,R=e.flat?function(t){return e.flat.call(t)}:function(t){return e.concat.apply([],t)},V=e.push,G=e.indexOf,A={},ye=A.toString,$e=A.hasOwnProperty,Ye=$e.toString,Xe=Ye.call(Object),se={},ae=function(t){return typeof t=="function"&&typeof t.nodeType!="number"&&typeof t.item!="function"},be=function(t){return t!=null&&t===t.window},le=g.document,Gt={type:!0,src:!0,nonce:!0,noModule:!0};function ht(t,n,r){var l,c,d=(r=r||le).createElement("script");if(d.text=t,n)for(l in Gt)(c=n[l]||n.getAttribute&&n.getAttribute(l))&&d.setAttribute(l,c);r.head.appendChild(d).parentNode.removeChild(d)}function ct(t){return t==null?t+"":typeof t=="object"||typeof t=="function"?A[ye.call(t)]||"object":typeof t}var kt="3.7.1",en=/HTML$/i,o=function(t,n){return new o.fn.init(t,n)};function Ft(t){var n=!!t&&"length"in t&&t.length,r=ct(t);return!ae(t)&&!be(t)&&(r==="array"||n===0||typeof n=="number"&&0<n&&n-1 in t)}function W(t,n){return t.nodeName&&t.nodeName.toLowerCase()===n.toLowerCase()}o.fn=o.prototype={jquery:kt,constructor:o,length:0,toArray:function(){return I.call(this)},get:function(t){return t==null?I.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var n=o.merge(this.constructor(),t);return n.prevObject=this,n},each:function(t){return o.each(this,t)},map:function(t){return this.pushStack(o.map(this,function(n,r){return t.call(n,r,n)}))},slice:function(){return this.pushStack(I.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(o.grep(this,function(t,n){return(n+1)%2}))},odd:function(){return this.pushStack(o.grep(this,function(t,n){return n%2}))},eq:function(t){var n=this.length,r=+t+(t<0?n:0);return this.pushStack(0<=r&&r<n?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:V,sort:e.sort,splice:e.splice},o.extend=o.fn.extend=function(){var t,n,r,l,c,d,h=arguments[0]||{},C=1,D=arguments.length,O=!1;for(typeof h=="boolean"&&(O=h,h=arguments[C]||{},C++),typeof h=="object"||ae(h)||(h={}),C===D&&(h=this,C--);C<D;C++)if((t=arguments[C])!=null)for(n in t)l=t[n],n!=="__proto__"&&h!==l&&(O&&l&&(o.isPlainObject(l)||(c=Array.isArray(l)))?(r=h[n],d=c&&!Array.isArray(r)?[]:c||o.isPlainObject(r)?r:{},c=!1,h[n]=o.extend(O,d,l)):l!==void 0&&(h[n]=l));return h},o.extend({expando:"jQuery"+(kt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var n,r;return!(!t||ye.call(t)!=="[object Object]")&&(!(n=_(t))||typeof(r=$e.call(n,"constructor")&&n.constructor)=="function"&&Ye.call(r)===Xe)},isEmptyObject:function(t){var n;for(n in t)return!1;return!0},globalEval:function(t,n,r){ht(t,{nonce:n&&n.nonce},r)},each:function(t,n){var r,l=0;if(Ft(t))for(r=t.length;l<r&&n.call(t[l],l,t[l])!==!1;l++);else for(l in t)if(n.call(t[l],l,t[l])===!1)break;return t},text:function(t){var n,r="",l=0,c=t.nodeType;if(!c)for(;n=t[l++];)r+=o.text(n);return c===1||c===11?t.textContent:c===9?t.documentElement.textContent:c===3||c===4?t.nodeValue:r},makeArray:function(t,n){var r=n||[];return t!=null&&(Ft(Object(t))?o.merge(r,typeof t=="string"?[t]:t):V.call(r,t)),r},inArray:function(t,n,r){return n==null?-1:G.call(n,t,r)},isXMLDoc:function(t){var n=t&&t.namespaceURI,r=t&&(t.ownerDocument||t).documentElement;return!en.test(n||r&&r.nodeName||"HTML")},merge:function(t,n){for(var r=+n.length,l=0,c=t.length;l<r;l++)t[c++]=n[l];return t.length=c,t},grep:function(t,n,r){for(var l=[],c=0,d=t.length,h=!r;c<d;c++)!n(t[c],c)!==h&&l.push(t[c]);return l},map:function(t,n,r){var l,c,d=0,h=[];if(Ft(t))for(l=t.length;d<l;d++)(c=n(t[d],d,r))!=null&&h.push(c);else for(d in t)(c=n(t[d],d,r))!=null&&h.push(c);return R(h)},guid:1,support:se}),typeof Symbol=="function"&&(o.fn[Symbol.iterator]=e[Symbol.iterator]),o.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,n){A["[object "+n+"]"]=n.toLowerCase()});var Oe=e.pop,ke=e.sort,pt=e.splice,_e="[\\x20\\t\\r\\n\\f]",gt=new RegExp("^"+_e+"+|((?:^|[^\\\\])(?:\\\\.)*)"+_e+"+$","g");o.contains=function(t,n){var r=n&&n.parentNode;return t===r||!(!r||r.nodeType!==1||!(t.contains?t.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))};var un=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Ht(t,n){return n?t==="\0"?"\uFFFD":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t}o.escapeSelector=function(t){return(t+"").replace(un,Ht)};var qt=le,zn=V;(function(){var t,n,r,l,c,d,h,C,D,O,F=zn,N=o.expando,T=0,P=0,oe=nt(),he=nt(),pe=nt(),tt=nt(),ut=function(y,x){return y===x&&(c=!0),0},an="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",on="(?:\\\\[\\da-fA-F]{1,6}"+_e+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Ae="\\["+_e+"*("+on+")(?:"+_e+"*([*^$|!~]?=)"+_e+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+on+"))|)"+_e+"*\\]",Rn=":("+on+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Ae+")*)|.*)\\)|)",ze=new RegExp(_e+"+","g"),et=new RegExp("^"+_e+"*,"+_e+"*"),ri=new RegExp("^"+_e+"*([>+~]|"+_e+")"+_e+"*"),Ri=new RegExp(_e+"|>"),sn=new RegExp(Rn),ai=new RegExp("^"+on+"$"),Cn={ID:new RegExp("^#("+on+")"),CLASS:new RegExp("^\\.("+on+")"),TAG:new RegExp("^("+on+"|[*])"),ATTR:new RegExp("^"+Ae),PSEUDO:new RegExp("^"+Rn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+_e+"*(even|odd|(([+-]|)(\\d*)n|)"+_e+"*(?:([+-]|)"+_e+"*(\\d+)|))"+_e+"*\\)|)","i"),bool:new RegExp("^(?:"+an+")$","i"),needsContext:new RegExp("^"+_e+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+_e+"*((?:-\\d)?\\d*)"+_e+"*\\)|)(?=[^-]|$)","i")},kn=/^(?:input|select|textarea|button)$/i,Xn=/^h\d$/i,Ut=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,dt=/[+~]/,at=new RegExp("\\\\[\\da-fA-F]{1,6}"+_e+"?|\\\\([^\\r\\n\\f])","g"),At=function(y,x){var k="0x"+y.slice(1)-65536;return x||(k<0?String.fromCharCode(k+65536):String.fromCharCode(k>>10|55296,1023&k|56320))},Fn=function(){En()},Tt=gi(function(y){return y.disabled===!0&&W(y,"fieldset")},{dir:"parentNode",next:"legend"});try{F.apply(e=I.call(qt.childNodes),qt.childNodes),e[qt.childNodes.length].nodeType}catch{F={apply:function(x,k){zn.apply(x,I.call(k))},call:function(x){zn.apply(x,I.call(arguments,1))}}}function ue(y,x,k,z){var L,X,Q,re,K,Pe,me,De=x&&x.ownerDocument,Ee=x?x.nodeType:9;if(k=k||[],typeof y!="string"||!y||Ee!==1&&Ee!==9&&Ee!==11)return k;if(!z&&(En(x),x=x||d,C)){if(Ee!==11&&(K=Ut.exec(y)))if(L=K[1]){if(Ee===9){if(!(Q=x.getElementById(L)))return k;if(Q.id===L)return F.call(k,Q),k}else if(De&&(Q=De.getElementById(L))&&ue.contains(x,Q)&&Q.id===L)return F.call(k,Q),k}else{if(K[2])return F.apply(k,x.getElementsByTagName(y)),k;if((L=K[3])&&x.getElementsByClassName)return F.apply(k,x.getElementsByClassName(L)),k}if(!(tt[y+" "]||D&&D.test(y))){if(me=y,De=x,Ee===1&&(Ri.test(y)||ri.test(y))){for((De=dt.test(y)&&Gi(x.parentNode)||x)==x&&se.scope||((re=x.getAttribute("id"))?re=o.escapeSelector(re):x.setAttribute("id",re=N)),X=(Pe=oi(y)).length;X--;)Pe[X]=(re?"#"+re:":scope")+" "+pi(Pe[X]);me=Pe.join(",")}try{return F.apply(k,De.querySelectorAll(me)),k}catch{tt(y,!0)}finally{re===N&&x.removeAttribute("id")}}}return gr(y.replace(gt,"$1"),x,k,z)}function nt(){var y=[];return function x(k,z){return y.push(k+" ")>n.cacheLength&&delete x[y.shift()],x[k+" "]=z}}function it(y){return y[N]=!0,y}function Be(y){var x=d.createElement("fieldset");try{return!!y(x)}catch{return!1}finally{x.parentNode&&x.parentNode.removeChild(x),x=null}}function ln(y){return function(x){return W(x,"input")&&x.type===y}}function Qn(y){return function(x){return(W(x,"input")||W(x,"button"))&&x.type===y}}function hi(y){return function(x){return"form"in x?x.parentNode&&x.disabled===!1?"label"in x?"label"in x.parentNode?x.parentNode.disabled===y:x.disabled===y:x.isDisabled===y||x.isDisabled!==!y&&Tt(x)===y:x.disabled===y:"label"in x&&x.disabled===y}}function Gn(y){return it(function(x){return x=+x,it(function(k,z){for(var L,X=y([],k.length,x),Q=X.length;Q--;)k[L=X[Q]]&&(k[L]=!(z[L]=k[L]))})})}function Gi(y){return y&&typeof y.getElementsByTagName<"u"&&y}function En(y){var x,k=y?y.ownerDocument||y:qt;return k!=d&&k.nodeType===9&&k.documentElement&&(h=(d=k).documentElement,C=!o.isXMLDoc(d),O=h.matches||h.webkitMatchesSelector||h.msMatchesSelector,h.msMatchesSelector&&qt!=d&&(x=d.defaultView)&&x.top!==x&&x.addEventListener("unload",Fn),se.getById=Be(function(z){return h.appendChild(z).id=o.expando,!d.getElementsByName||!d.getElementsByName(o.expando).length}),se.disconnectedMatch=Be(function(z){return O.call(z,"*")}),se.scope=Be(function(){return d.querySelectorAll(":scope")}),se.cssHas=Be(function(){try{return d.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),se.getById?(n.filter.ID=function(z){var L=z.replace(at,At);return function(X){return X.getAttribute("id")===L}},n.find.ID=function(z,L){if(typeof L.getElementById<"u"&&C){var X=L.getElementById(z);return X?[X]:[]}}):(n.filter.ID=function(z){var L=z.replace(at,At);return function(X){var Q=typeof X.getAttributeNode<"u"&&X.getAttributeNode("id");return Q&&Q.value===L}},n.find.ID=function(z,L){if(typeof L.getElementById<"u"&&C){var X,Q,re,K=L.getElementById(z);if(K){if((X=K.getAttributeNode("id"))&&X.value===z)return[K];for(re=L.getElementsByName(z),Q=0;K=re[Q++];)if((X=K.getAttributeNode("id"))&&X.value===z)return[K]}return[]}}),n.find.TAG=function(z,L){return typeof L.getElementsByTagName<"u"?L.getElementsByTagName(z):L.querySelectorAll(z)},n.find.CLASS=function(z,L){if(typeof L.getElementsByClassName<"u"&&C)return L.getElementsByClassName(z)},D=[],Be(function(z){var L;h.appendChild(z).innerHTML="<a id='"+N+"' href='' disabled='disabled'></a><select id='"+N+"-\r\\' disabled='disabled'><option selected=''></option></select>",z.querySelectorAll("[selected]").length||D.push("\\["+_e+"*(?:value|"+an+")"),z.querySelectorAll("[id~="+N+"-]").length||D.push("~="),z.querySelectorAll("a#"+N+"+*").length||D.push(".#.+[+~]"),z.querySelectorAll(":checked").length||D.push(":checked"),(L=d.createElement("input")).setAttribute("type","hidden"),z.appendChild(L).setAttribute("name","D"),h.appendChild(z).disabled=!0,z.querySelectorAll(":disabled").length!==2&&D.push(":enabled",":disabled"),(L=d.createElement("input")).setAttribute("name",""),z.appendChild(L),z.querySelectorAll("[name='']").length||D.push("\\["+_e+"*name"+_e+"*="+_e+`*(?:''|"")`)}),se.cssHas||D.push(":has"),D=D.length&&new RegExp(D.join("|")),ut=function(z,L){if(z===L)return c=!0,0;var X=!z.compareDocumentPosition-!L.compareDocumentPosition;return X||(1&(X=(z.ownerDocument||z)==(L.ownerDocument||L)?z.compareDocumentPosition(L):1)||!se.sortDetached&&L.compareDocumentPosition(z)===X?z===d||z.ownerDocument==qt&&ue.contains(qt,z)?-1:L===d||L.ownerDocument==qt&&ue.contains(qt,L)?1:l?G.call(l,z)-G.call(l,L):0:4&X?-1:1)}),d}for(t in ue.matches=function(y,x){return ue(y,null,null,x)},ue.matchesSelector=function(y,x){if(En(y),C&&!tt[x+" "]&&(!D||!D.test(x)))try{var k=O.call(y,x);if(k||se.disconnectedMatch||y.document&&y.document.nodeType!==11)return k}catch{tt(x,!0)}return 0<ue(x,d,null,[y]).length},ue.contains=function(y,x){return(y.ownerDocument||y)!=d&&En(y),o.contains(y,x)},ue.attr=function(y,x){(y.ownerDocument||y)!=d&&En(y);var k=n.attrHandle[x.toLowerCase()],z=k&&$e.call(n.attrHandle,x.toLowerCase())?k(y,x,!C):void 0;return z!==void 0?z:y.getAttribute(x)},ue.error=function(y){throw new Error("Syntax error, unrecognized expression: "+y)},o.uniqueSort=function(y){var x,k=[],z=0,L=0;if(c=!se.sortStable,l=!se.sortStable&&I.call(y,0),ke.call(y,ut),c){for(;x=y[L++];)x===y[L]&&(z=k.push(L));for(;z--;)pt.call(y,k[z],1)}return l=null,y},o.fn.uniqueSort=function(){return this.pushStack(o.uniqueSort(I.apply(this)))},(n=o.expr={cacheLength:50,createPseudo:it,match:Cn,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(y){return y[1]=y[1].replace(at,At),y[3]=(y[3]||y[4]||y[5]||"").replace(at,At),y[2]==="~="&&(y[3]=" "+y[3]+" "),y.slice(0,4)},CHILD:function(y){return y[1]=y[1].toLowerCase(),y[1].slice(0,3)==="nth"?(y[3]||ue.error(y[0]),y[4]=+(y[4]?y[5]+(y[6]||1):2*(y[3]==="even"||y[3]==="odd")),y[5]=+(y[7]+y[8]||y[3]==="odd")):y[3]&&ue.error(y[0]),y},PSEUDO:function(y){var x,k=!y[6]&&y[2];return Cn.CHILD.test(y[0])?null:(y[3]?y[2]=y[4]||y[5]||"":k&&sn.test(k)&&(x=oi(k,!0))&&(x=k.indexOf(")",k.length-x)-k.length)&&(y[0]=y[0].slice(0,x),y[2]=k.slice(0,x)),y.slice(0,3))}},filter:{TAG:function(y){var x=y.replace(at,At).toLowerCase();return y==="*"?function(){return!0}:function(k){return W(k,x)}},CLASS:function(y){var x=oe[y+" "];return x||(x=new RegExp("(^|"+_e+")"+y+"("+_e+"|$)"))&&oe(y,function(k){return x.test(typeof k.className=="string"&&k.className||typeof k.getAttribute<"u"&&k.getAttribute("class")||"")})},ATTR:function(y,x,k){return function(z){var L=ue.attr(z,y);return L==null?x==="!=":!x||(L+="",x==="="?L===k:x==="!="?L!==k:x==="^="?k&&L.indexOf(k)===0:x==="*="?k&&-1<L.indexOf(k):x==="$="?k&&L.slice(-k.length)===k:x==="~="?-1<(" "+L.replace(ze," ")+" ").indexOf(k):x==="|="&&(L===k||L.slice(0,k.length+1)===k+"-"))}},CHILD:function(y,x,k,z,L){var X=y.slice(0,3)!=="nth",Q=y.slice(-4)!=="last",re=x==="of-type";return z===1&&L===0?function(K){return!!K.parentNode}:function(K,Pe,me){var De,Ee,fe,lt,Dt,ft=X!==Q?"nextSibling":"previousSibling",zt=K.parentNode,Rt=re&&K.nodeName.toLowerCase(),Jt=!me&&!re,Ue=!1;if(zt){if(X){for(;ft;){for(fe=K;fe=fe[ft];)if(re?W(fe,Rt):fe.nodeType===1)return!1;Dt=ft=y==="only"&&!Dt&&"nextSibling"}return!0}if(Dt=[Q?zt.firstChild:zt.lastChild],Q&&Jt){for(Ue=(lt=(De=(Ee=zt[N]||(zt[N]={}))[y]||[])[0]===T&&De[1])&&De[2],fe=lt&&zt.childNodes[lt];fe=++lt&&fe&&fe[ft]||(Ue=lt=0)||Dt.pop();)if(fe.nodeType===1&&++Ue&&fe===K){Ee[y]=[T,lt,Ue];break}}else if(Jt&&(Ue=lt=(De=(Ee=K[N]||(K[N]={}))[y]||[])[0]===T&&De[1]),Ue===!1)for(;(fe=++lt&&fe&&fe[ft]||(Ue=lt=0)||Dt.pop())&&!((re?W(fe,Rt):fe.nodeType===1)&&++Ue&&(Jt&&((Ee=fe[N]||(fe[N]={}))[y]=[T,Ue]),fe===K)););return(Ue-=L)===z||Ue%z==0&&0<=Ue/z}}},PSEUDO:function(y,x){var k,z=n.pseudos[y]||n.setFilters[y.toLowerCase()]||ue.error("unsupported pseudo: "+y);return z[N]?z(x):1<z.length?(k=[y,y,"",x],n.setFilters.hasOwnProperty(y.toLowerCase())?it(function(L,X){for(var Q,re=z(L,x),K=re.length;K--;)L[Q=G.call(L,re[K])]=!(X[Q]=re[K])}):function(L){return z(L,0,k)}):z}},pseudos:{not:it(function(y){var x=[],k=[],z=Ui(y.replace(gt,"$1"));return z[N]?it(function(L,X,Q,re){for(var K,Pe=z(L,null,re,[]),me=L.length;me--;)(K=Pe[me])&&(L[me]=!(X[me]=K))}):function(L,X,Q){return x[0]=L,z(x,null,Q,k),x[0]=null,!k.pop()}}),has:it(function(y){return function(x){return 0<ue(y,x).length}}),contains:it(function(y){return y=y.replace(at,At),function(x){return-1<(x.textContent||o.text(x)).indexOf(y)}}),lang:it(function(y){return ai.test(y||"")||ue.error("unsupported lang: "+y),y=y.replace(at,At).toLowerCase(),function(x){var k;do if(k=C?x.lang:x.getAttribute("xml:lang")||x.getAttribute("lang"))return(k=k.toLowerCase())===y||k.indexOf(y+"-")===0;while((x=x.parentNode)&&x.nodeType===1);return!1}}),target:function(y){var x=g.location&&g.location.hash;return x&&x.slice(1)===y.id},root:function(y){return y===h},focus:function(y){return y===function(){try{return d.activeElement}catch{}}()&&d.hasFocus()&&!!(y.type||y.href||~y.tabIndex)},enabled:hi(!1),disabled:hi(!0),checked:function(y){return W(y,"input")&&!!y.checked||W(y,"option")&&!!y.selected},selected:function(y){return y.parentNode&&y.parentNode.selectedIndex,y.selected===!0},empty:function(y){for(y=y.firstChild;y;y=y.nextSibling)if(y.nodeType<6)return!1;return!0},parent:function(y){return!n.pseudos.empty(y)},header:function(y){return Xn.test(y.nodeName)},input:function(y){return kn.test(y.nodeName)},button:function(y){return W(y,"input")&&y.type==="button"||W(y,"button")},text:function(y){var x;return W(y,"input")&&y.type==="text"&&((x=y.getAttribute("type"))==null||x.toLowerCase()==="text")},first:Gn(function(){return[0]}),last:Gn(function(y,x){return[x-1]}),eq:Gn(function(y,x,k){return[k<0?k+x:k]}),even:Gn(function(y,x){for(var k=0;k<x;k+=2)y.push(k);return y}),odd:Gn(function(y,x){for(var k=1;k<x;k+=2)y.push(k);return y}),lt:Gn(function(y,x,k){var z;for(z=k<0?k+x:x<k?x:k;0<=--z;)y.push(z);return y}),gt:Gn(function(y,x,k){for(var z=k<0?k+x:k;++z<x;)y.push(z);return y})}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[t]=ln(t);for(t in{submit:!0,reset:!0})n.pseudos[t]=Qn(t);function pr(){}function oi(y,x){var k,z,L,X,Q,re,K,Pe=he[y+" "];if(Pe)return x?0:Pe.slice(0);for(Q=y,re=[],K=n.preFilter;Q;){for(X in k&&!(z=et.exec(Q))||(z&&(Q=Q.slice(z[0].length)||Q),re.push(L=[])),k=!1,(z=ri.exec(Q))&&(k=z.shift(),L.push({value:k,type:z[0].replace(gt," ")}),Q=Q.slice(k.length)),n.filter)!(z=Cn[X].exec(Q))||K[X]&&!(z=K[X](z))||(k=z.shift(),L.push({value:k,type:X,matches:z}),Q=Q.slice(k.length));if(!k)break}return x?Q.length:Q?ue.error(y):he(y,re).slice(0)}function pi(y){for(var x=0,k=y.length,z="";x<k;x++)z+=y[x].value;return z}function gi(y,x,k){var z=x.dir,L=x.next,X=L||z,Q=k&&X==="parentNode",re=P++;return x.first?function(K,Pe,me){for(;K=K[z];)if(K.nodeType===1||Q)return y(K,Pe,me);return!1}:function(K,Pe,me){var De,Ee,fe=[T,re];if(me){for(;K=K[z];)if((K.nodeType===1||Q)&&y(K,Pe,me))return!0}else for(;K=K[z];)if(K.nodeType===1||Q)if(Ee=K[N]||(K[N]={}),L&&W(K,L))K=K[z]||K;else{if((De=Ee[X])&&De[0]===T&&De[1]===re)return fe[2]=De[2];if((Ee[X]=fe)[2]=y(K,Pe,me))return!0}return!1}}function Hi(y){return 1<y.length?function(x,k,z){for(var L=y.length;L--;)if(!y[L](x,k,z))return!1;return!0}:y[0]}function mi(y,x,k,z,L){for(var X,Q=[],re=0,K=y.length,Pe=x!=null;re<K;re++)(X=y[re])&&(k&&!k(X,z,L)||(Q.push(X),Pe&&x.push(re)));return Q}function Yi(y,x,k,z,L,X){return z&&!z[N]&&(z=Yi(z)),L&&!L[N]&&(L=Yi(L,X)),it(function(Q,re,K,Pe){var me,De,Ee,fe,lt=[],Dt=[],ft=re.length,zt=Q||function(Jt,Ue,Hn){for(var Zt=0,vi=Ue.length;Zt<vi;Zt++)ue(Jt,Ue[Zt],Hn);return Hn}(x||"*",K.nodeType?[K]:K,[]),Rt=!y||!Q&&x?zt:mi(zt,lt,y,K,Pe);if(k?k(Rt,fe=L||(Q?y:ft||z)?[]:re,K,Pe):fe=Rt,z)for(me=mi(fe,Dt),z(me,[],K,Pe),De=me.length;De--;)(Ee=me[De])&&(fe[Dt[De]]=!(Rt[Dt[De]]=Ee));if(Q){if(L||y){if(L){for(me=[],De=fe.length;De--;)(Ee=fe[De])&&me.push(Rt[De]=Ee);L(null,fe=[],me,Pe)}for(De=fe.length;De--;)(Ee=fe[De])&&-1<(me=L?G.call(Q,Ee):lt[De])&&(Q[me]=!(re[me]=Ee))}}else fe=mi(fe===re?fe.splice(ft,fe.length):fe),L?L(null,re,fe,Pe):F.apply(re,fe)})}function Bi(y){for(var x,k,z,L=y.length,X=n.relative[y[0].type],Q=X||n.relative[" "],re=X?1:0,K=gi(function(De){return De===x},Q,!0),Pe=gi(function(De){return-1<G.call(x,De)},Q,!0),me=[function(De,Ee,fe){var lt=!X&&(fe||Ee!=r)||((x=Ee).nodeType?K(De,Ee,fe):Pe(De,Ee,fe));return x=null,lt}];re<L;re++)if(k=n.relative[y[re].type])me=[gi(Hi(me),k)];else{if((k=n.filter[y[re].type].apply(null,y[re].matches))[N]){for(z=++re;z<L&&!n.relative[y[z].type];z++);return Yi(1<re&&Hi(me),1<re&&pi(y.slice(0,re-1).concat({value:y[re-2].type===" "?"*":""})).replace(gt,"$1"),k,re<z&&Bi(y.slice(re,z)),z<L&&Bi(y=y.slice(z)),z<L&&pi(y))}me.push(k)}return Hi(me)}function Ui(y,x){var k,z,L,X,Q,re,K=[],Pe=[],me=pe[y+" "];if(!me){for(x||(x=oi(y)),k=x.length;k--;)(me=Bi(x[k]))[N]?K.push(me):Pe.push(me);(me=pe(y,(z=Pe,X=0<(L=K).length,Q=0<z.length,re=function(De,Ee,fe,lt,Dt){var ft,zt,Rt,Jt=0,Ue="0",Hn=De&&[],Zt=[],vi=r,mr=De||Q&&n.find.TAG("*",Dt),vr=T+=vi==null?1:Math.random()||.1,Rr=mr.length;for(Dt&&(r=Ee==d||Ee||Dt);Ue!==Rr&&(ft=mr[Ue])!=null;Ue++){if(Q&&ft){for(zt=0,Ee||ft.ownerDocument==d||(En(ft),fe=!C);Rt=z[zt++];)if(Rt(ft,Ee||d,fe)){F.call(lt,ft);break}Dt&&(T=vr)}X&&((ft=!Rt&&ft)&&Jt--,De&&Hn.push(ft))}if(Jt+=Ue,X&&Ue!==Jt){for(zt=0;Rt=L[zt++];)Rt(Hn,Zt,Ee,fe);if(De){if(0<Jt)for(;Ue--;)Hn[Ue]||Zt[Ue]||(Zt[Ue]=Oe.call(lt));Zt=mi(Zt)}F.apply(lt,Zt),Dt&&!De&&0<Zt.length&&1<Jt+L.length&&o.uniqueSort(lt)}return Dt&&(T=vr,r=vi),Hn},X?it(re):re))).selector=y}return me}function gr(y,x,k,z){var L,X,Q,re,K,Pe=typeof y=="function"&&y,me=!z&&oi(y=Pe.selector||y);if(k=k||[],me.length===1){if(2<(X=me[0]=me[0].slice(0)).length&&(Q=X[0]).type==="ID"&&x.nodeType===9&&C&&n.relative[X[1].type]){if(!(x=(n.find.ID(Q.matches[0].replace(at,At),x)||[])[0]))return k;Pe&&(x=x.parentNode),y=y.slice(X.shift().value.length)}for(L=Cn.needsContext.test(y)?0:X.length;L--&&(Q=X[L],!n.relative[re=Q.type]);)if((K=n.find[re])&&(z=K(Q.matches[0].replace(at,At),dt.test(X[0].type)&&Gi(x.parentNode)||x))){if(X.splice(L,1),!(y=z.length&&pi(X)))return F.apply(k,z),k;break}}return(Pe||Ui(y,me))(z,x,!C,k,!x||dt.test(y)&&Gi(x.parentNode)||x),k}pr.prototype=n.filters=n.pseudos,n.setFilters=new pr,se.sortStable=N.split("").sort(ut).join("")===N,En(),se.sortDetached=Be(function(y){return 1&y.compareDocumentPosition(d.createElement("fieldset"))}),o.find=ue,o.expr[":"]=o.expr.pseudos,o.unique=o.uniqueSort,ue.compile=Ui,ue.select=gr,ue.setDocument=En,ue.tokenize=oi,ue.escape=o.escapeSelector,ue.getText=o.text,ue.isXML=o.isXMLDoc,ue.selectors=o.expr,ue.support=o.support,ue.uniqueSort=o.uniqueSort})();var Vt=function(t,n,r){for(var l=[],c=r!==void 0;(t=t[n])&&t.nodeType!==9;)if(t.nodeType===1){if(c&&o(t).is(r))break;l.push(t)}return l},dn=function(t,n){for(var r=[];t;t=t.nextSibling)t.nodeType===1&&t!==n&&r.push(t);return r},xn=o.expr.match.needsContext,Qe=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Nn(t,n,r){return ae(n)?o.grep(t,function(l,c){return!!n.call(l,c,l)!==r}):n.nodeType?o.grep(t,function(l){return l===n!==r}):typeof n!="string"?o.grep(t,function(l){return-1<G.call(n,l)!==r}):o.filter(n,t,r)}o.filter=function(t,n,r){var l=n[0];return r&&(t=":not("+t+")"),n.length===1&&l.nodeType===1?o.find.matchesSelector(l,t)?[l]:[]:o.find.matches(t,o.grep(n,function(c){return c.nodeType===1}))},o.fn.extend({find:function(t){var n,r,l=this.length,c=this;if(typeof t!="string")return this.pushStack(o(t).filter(function(){for(n=0;n<l;n++)if(o.contains(c[n],this))return!0}));for(r=this.pushStack([]),n=0;n<l;n++)o.find(t,c[n],r);return 1<l?o.uniqueSort(r):r},filter:function(t){return this.pushStack(Nn(this,t||[],!1))},not:function(t){return this.pushStack(Nn(this,t||[],!0))},is:function(t){return!!Nn(this,typeof t=="string"&&xn.test(t)?o(t):t||[],!1).length}});var Yn,tn=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(o.fn.init=function(t,n,r){var l,c;if(!t)return this;if(r=r||Yn,typeof t=="string"){if(!(l=t[0]==="<"&&t[t.length-1]===">"&&3<=t.length?[null,t,null]:tn.exec(t))||!l[1]&&n)return!n||n.jquery?(n||r).find(t):this.constructor(n).find(t);if(l[1]){if(n=n instanceof o?n[0]:n,o.merge(this,o.parseHTML(l[1],n&&n.nodeType?n.ownerDocument||n:le,!0)),Qe.test(l[1])&&o.isPlainObject(n))for(l in n)ae(this[l])?this[l](n[l]):this.attr(l,n[l]);return this}return(c=le.getElementById(l[2]))&&(this[0]=c,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):ae(t)?r.ready!==void 0?r.ready(t):t(o):o.makeArray(t,this)}).prototype=o.fn,Yn=o(le);var He=/^(?:parents|prev(?:Until|All))/,Sn={children:!0,contents:!0,next:!0,prev:!0};function fn(t,n){for(;(t=t[n])&&t.nodeType!==1;);return t}o.fn.extend({has:function(t){var n=o(t,this),r=n.length;return this.filter(function(){for(var l=0;l<r;l++)if(o.contains(this,n[l]))return!0})},closest:function(t,n){var r,l=0,c=this.length,d=[],h=typeof t!="string"&&o(t);if(!xn.test(t)){for(;l<c;l++)for(r=this[l];r&&r!==n;r=r.parentNode)if(r.nodeType<11&&(h?-1<h.index(r):r.nodeType===1&&o.find.matchesSelector(r,t))){d.push(r);break}}return this.pushStack(1<d.length?o.uniqueSort(d):d)},index:function(t){return t?typeof t=="string"?G.call(o(t),this[0]):G.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,n){return this.pushStack(o.uniqueSort(o.merge(this.get(),o(t,n))))},addBack:function(t){return this.add(t==null?this.prevObject:this.prevObject.filter(t))}}),o.each({parent:function(t){var n=t.parentNode;return n&&n.nodeType!==11?n:null},parents:function(t){return Vt(t,"parentNode")},parentsUntil:function(t,n,r){return Vt(t,"parentNode",r)},next:function(t){return fn(t,"nextSibling")},prev:function(t){return fn(t,"previousSibling")},nextAll:function(t){return Vt(t,"nextSibling")},prevAll:function(t){return Vt(t,"previousSibling")},nextUntil:function(t,n,r){return Vt(t,"nextSibling",r)},prevUntil:function(t,n,r){return Vt(t,"previousSibling",r)},siblings:function(t){return dn((t.parentNode||{}).firstChild,t)},children:function(t){return dn(t.firstChild)},contents:function(t){return t.contentDocument!=null&&_(t.contentDocument)?t.contentDocument:(W(t,"template")&&(t=t.content||t),o.merge([],t.childNodes))}},function(t,n){o.fn[t]=function(r,l){var c=o.map(this,n,r);return t.slice(-5)!=="Until"&&(l=r),l&&typeof l=="string"&&(c=o.filter(l,c)),1<this.length&&(Sn[t]||o.uniqueSort(c),He.test(t)&&c.reverse()),this.pushStack(c)}});var Je=/[^\x20\t\r\n\f]+/g;function vt(t){return t}function Ze(t){throw t}function xt(t,n,r,l){var c;try{t&&ae(c=t.promise)?c.call(t).done(n).fail(r):t&&ae(c=t.then)?c.call(t,n,r):n.apply(void 0,[t].slice(l))}catch(d){r.apply(void 0,[d])}}o.Callbacks=function(t){var n,r;t=typeof t=="string"?(n=t,r={},o.each(n.match(Je)||[],function(T,P){r[P]=!0}),r):o.extend({},t);var l,c,d,h,C=[],D=[],O=-1,F=function(){for(h=h||t.once,d=l=!0;D.length;O=-1)for(c=D.shift();++O<C.length;)C[O].apply(c[0],c[1])===!1&&t.stopOnFalse&&(O=C.length,c=!1);t.memory||(c=!1),l=!1,h&&(C=c?[]:"")},N={add:function(){return C&&(c&&!l&&(O=C.length-1,D.push(c)),function T(P){o.each(P,function(oe,he){ae(he)?t.unique&&N.has(he)||C.push(he):he&&he.length&&ct(he)!=="string"&&T(he)})}(arguments),c&&!l&&F()),this},remove:function(){return o.each(arguments,function(T,P){for(var oe;-1<(oe=o.inArray(P,C,oe));)C.splice(oe,1),oe<=O&&O--}),this},has:function(T){return T?-1<o.inArray(T,C):0<C.length},empty:function(){return C&&(C=[]),this},disable:function(){return h=D=[],C=c="",this},disabled:function(){return!C},lock:function(){return h=D=[],c||l||(C=c=""),this},locked:function(){return!!h},fireWith:function(T,P){return h||(P=[T,(P=P||[]).slice?P.slice():P],D.push(P),l||F()),this},fire:function(){return N.fireWith(this,arguments),this},fired:function(){return!!d}};return N},o.extend({Deferred:function(t){var n=[["notify","progress",o.Callbacks("memory"),o.Callbacks("memory"),2],["resolve","done",o.Callbacks("once memory"),o.Callbacks("once memory"),0,"resolved"],["reject","fail",o.Callbacks("once memory"),o.Callbacks("once memory"),1,"rejected"]],r="pending",l={state:function(){return r},always:function(){return c.done(arguments).fail(arguments),this},catch:function(d){return l.then(null,d)},pipe:function(){var d=arguments;return o.Deferred(function(h){o.each(n,function(C,D){var O=ae(d[D[4]])&&d[D[4]];c[D[1]](function(){var F=O&&O.apply(this,arguments);F&&ae(F.promise)?F.promise().progress(h.notify).done(h.resolve).fail(h.reject):h[D[0]+"With"](this,O?[F]:arguments)})}),d=null}).promise()},then:function(d,h,C){var D=0;function O(F,N,T,P){return function(){var oe=this,he=arguments,pe=function(){var ut,an;if(!(F<D)){if((ut=T.apply(oe,he))===N.promise())throw new TypeError("Thenable self-resolution");an=ut&&(typeof ut=="object"||typeof ut=="function")&&ut.then,ae(an)?P?an.call(ut,O(D,N,vt,P),O(D,N,Ze,P)):(D++,an.call(ut,O(D,N,vt,P),O(D,N,Ze,P),O(D,N,vt,N.notifyWith))):(T!==vt&&(oe=void 0,he=[ut]),(P||N.resolveWith)(oe,he))}},tt=P?pe:function(){try{pe()}catch(ut){o.Deferred.exceptionHook&&o.Deferred.exceptionHook(ut,tt.error),D<=F+1&&(T!==Ze&&(oe=void 0,he=[ut]),N.rejectWith(oe,he))}};F?tt():(o.Deferred.getErrorHook?tt.error=o.Deferred.getErrorHook():o.Deferred.getStackHook&&(tt.error=o.Deferred.getStackHook()),g.setTimeout(tt))}}return o.Deferred(function(F){n[0][3].add(O(0,F,ae(C)?C:vt,F.notifyWith)),n[1][3].add(O(0,F,ae(d)?d:vt)),n[2][3].add(O(0,F,ae(h)?h:Ze))}).promise()},promise:function(d){return d!=null?o.extend(d,l):l}},c={};return o.each(n,function(d,h){var C=h[2],D=h[5];l[h[1]]=C.add,D&&C.add(function(){r=D},n[3-d][2].disable,n[3-d][3].disable,n[0][2].lock,n[0][3].lock),C.add(h[3].fire),c[h[0]]=function(){return c[h[0]+"With"](this===c?void 0:this,arguments),this},c[h[0]+"With"]=C.fireWith}),l.promise(c),t&&t.call(c,c),c},when:function(t){var n=arguments.length,r=n,l=Array(r),c=I.call(arguments),d=o.Deferred(),h=function(C){return function(D){l[C]=this,c[C]=1<arguments.length?I.call(arguments):D,--n||d.resolveWith(l,c)}};if(n<=1&&(xt(t,d.done(h(r)).resolve,d.reject,!n),d.state()==="pending"||ae(c[r]&&c[r].then)))return d.then();for(;r--;)xt(c[r],h(r),d.reject);return d.promise()}});var hn=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;o.Deferred.exceptionHook=function(t,n){g.console&&g.console.warn&&t&&hn.test(t.name)&&g.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},o.readyException=function(t){g.setTimeout(function(){throw t})};var On=o.Deferred();function Kt(){le.removeEventListener("DOMContentLoaded",Kt),g.removeEventListener("load",Kt),o.ready()}o.fn.ready=function(t){return On.then(t).catch(function(n){o.readyException(n)}),this},o.extend({isReady:!1,readyWait:1,ready:function(t){(t===!0?--o.readyWait:o.isReady)||(o.isReady=!0)!==t&&0<--o.readyWait||On.resolveWith(le,[o])}}),o.ready.then=On.then,le.readyState==="complete"||le.readyState!=="loading"&&!le.documentElement.doScroll?g.setTimeout(o.ready):(le.addEventListener("DOMContentLoaded",Kt),g.addEventListener("load",Kt));var St=function(t,n,r,l,c,d,h){var C=0,D=t.length,O=r==null;if(ct(r)==="object")for(C in c=!0,r)St(t,n,C,r[C],!0,d,h);else if(l!==void 0&&(c=!0,ae(l)||(h=!0),O&&(h?(n.call(t,l),n=null):(O=n,n=function(F,N,T){return O.call(o(F),T)})),n))for(;C<D;C++)n(t[C],r,h?l:l.call(t[C],C,n(t[C],r)));return c?t:O?n.call(t):D?n(t[0],r):d},ei=/^-ms-/,pn=/-([a-z])/g;function je(t,n){return n.toUpperCase()}function st(t){return t.replace(ei,"ms-").replace(pn,je)}var gn=function(t){return t.nodeType===1||t.nodeType===9||!+t.nodeType};function mn(){this.expando=o.expando+mn.uid++}mn.uid=1,mn.prototype={cache:function(t){var n=t[this.expando];return n||(n={},gn(t)&&(t.nodeType?t[this.expando]=n:Object.defineProperty(t,this.expando,{value:n,configurable:!0}))),n},set:function(t,n,r){var l,c=this.cache(t);if(typeof n=="string")c[st(n)]=r;else for(l in n)c[st(l)]=n[l];return c},get:function(t,n){return n===void 0?this.cache(t):t[this.expando]&&t[this.expando][st(n)]},access:function(t,n,r){return n===void 0||n&&typeof n=="string"&&r===void 0?this.get(t,n):(this.set(t,n,r),r!==void 0?r:n)},remove:function(t,n){var r,l=t[this.expando];if(l!==void 0){if(n!==void 0)for(r=(n=Array.isArray(n)?n.map(st):(n=st(n))in l?[n]:n.match(Je)||[]).length;r--;)delete l[n[r]];(n===void 0||o.isEmptyObject(l))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var n=t[this.expando];return n!==void 0&&!o.isEmptyObject(n)}};var ne=new mn,rt=new mn,Ln=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,nn=/[A-Z]/g;function Bn(t,n,r){var l,c;if(r===void 0&&t.nodeType===1)if(l="data-"+n.replace(nn,"-$&").toLowerCase(),typeof(r=t.getAttribute(l))=="string"){try{r=(c=r)==="true"||c!=="false"&&(c==="null"?null:c===+c+""?+c:Ln.test(c)?JSON.parse(c):c)}catch{}rt.set(t,n,r)}else r=void 0;return r}o.extend({hasData:function(t){return rt.hasData(t)||ne.hasData(t)},data:function(t,n,r){return rt.access(t,n,r)},removeData:function(t,n){rt.remove(t,n)},_data:function(t,n,r){return ne.access(t,n,r)},_removeData:function(t,n){ne.remove(t,n)}}),o.fn.extend({data:function(t,n){var r,l,c,d=this[0],h=d&&d.attributes;if(t===void 0){if(this.length&&(c=rt.get(d),d.nodeType===1&&!ne.get(d,"hasDataAttrs"))){for(r=h.length;r--;)h[r]&&(l=h[r].name).indexOf("data-")===0&&(l=st(l.slice(5)),Bn(d,l,c[l]));ne.set(d,"hasDataAttrs",!0)}return c}return typeof t=="object"?this.each(function(){rt.set(this,t)}):St(this,function(C){var D;if(d&&C===void 0)return(D=rt.get(d,t))!==void 0||(D=Bn(d,t))!==void 0?D:void 0;this.each(function(){rt.set(this,t,C)})},null,n,1<arguments.length,null,!0)},removeData:function(t){return this.each(function(){rt.remove(this,t)})}}),o.extend({queue:function(t,n,r){var l;if(t)return n=(n||"fx")+"queue",l=ne.get(t,n),r&&(!l||Array.isArray(r)?l=ne.access(t,n,o.makeArray(r)):l.push(r)),l||[]},dequeue:function(t,n){n=n||"fx";var r=o.queue(t,n),l=r.length,c=r.shift(),d=o._queueHooks(t,n);c==="inprogress"&&(c=r.shift(),l--),c&&(n==="fx"&&r.unshift("inprogress"),delete d.stop,c.call(t,function(){o.dequeue(t,n)},d)),!l&&d&&d.empty.fire()},_queueHooks:function(t,n){var r=n+"queueHooks";return ne.get(t,r)||ne.access(t,r,{empty:o.Callbacks("once memory").add(function(){ne.remove(t,[n+"queue",r])})})}}),o.fn.extend({queue:function(t,n){var r=2;return typeof t!="string"&&(n=t,t="fx",r--),arguments.length<r?o.queue(this[0],t):n===void 0?this:this.each(function(){var l=o.queue(this,t,n);o._queueHooks(this,t),t==="fx"&&l[0]!=="inprogress"&&o.dequeue(this,t)})},dequeue:function(t){return this.each(function(){o.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,n){var r,l=1,c=o.Deferred(),d=this,h=this.length,C=function(){--l||c.resolveWith(d,[d])};for(typeof t!="string"&&(n=t,t=void 0),t=t||"fx";h--;)(r=ne.get(d[h],t+"queueHooks"))&&r.empty&&(l++,r.empty.add(C));return C(),c.promise(n)}});var In=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,vn=new RegExp("^(?:([+-])=|)("+In+")([a-z%]*)$","i"),Ot=["Top","Right","Bottom","Left"],Xt=le.documentElement,Yt=function(t){return o.contains(t.ownerDocument,t)},ti={composed:!0};Xt.getRootNode&&(Yt=function(t){return o.contains(t.ownerDocument,t)||t.getRootNode(ti)===t.ownerDocument});var Qt=function(t,n){return(t=n||t).style.display==="none"||t.style.display===""&&Yt(t)&&o.css(t,"display")==="none"};function Pn(t,n,r,l){var c,d,h=20,C=l?function(){return l.cur()}:function(){return o.css(t,n,"")},D=C(),O=r&&r[3]||(o.cssNumber[n]?"":"px"),F=t.nodeType&&(o.cssNumber[n]||O!=="px"&&+D)&&vn.exec(o.css(t,n));if(F&&F[3]!==O){for(D/=2,O=O||F[3],F=+D||1;h--;)o.style(t,n,F+O),(1-d)*(1-(d=C()/D||.5))<=0&&(h=0),F/=d;F*=2,o.style(t,n,F+O),r=r||[]}return r&&(F=+F||+D||0,c=r[1]?F+(r[1]+1)*r[2]:+r[2],l&&(l.unit=O,l.start=F,l.end=c)),c}var Se={};function It(t,n){for(var r,l,c,d,h,C,D,O=[],F=0,N=t.length;F<N;F++)(l=t[F]).style&&(r=l.style.display,n?(r==="none"&&(O[F]=ne.get(l,"display")||null,O[F]||(l.style.display="")),l.style.display===""&&Qt(l)&&(O[F]=(D=h=d=void 0,h=(c=l).ownerDocument,C=c.nodeName,(D=Se[C])||(d=h.body.appendChild(h.createElement(C)),D=o.css(d,"display"),d.parentNode.removeChild(d),D==="none"&&(D="block"),Se[C]=D)))):r!=="none"&&(O[F]="none",ne.set(l,"display",r)));for(F=0;F<N;F++)O[F]!=null&&(t[F].style.display=O[F]);return t}o.fn.extend({show:function(){return It(this,!0)},hide:function(){return It(this)},toggle:function(t){return typeof t=="boolean"?t?this.show():this.hide():this.each(function(){Qt(this)?o(this).show():o(this).hide()})}});var yt,$n,Bt=/^(?:checkbox|radio)$/i,yn=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Et=/^$|^module$|\/(?:java|ecma)script/i;yt=le.createDocumentFragment().appendChild(le.createElement("div")),($n=le.createElement("input")).setAttribute("type","radio"),$n.setAttribute("checked","checked"),$n.setAttribute("name","t"),yt.appendChild($n),se.checkClone=yt.cloneNode(!0).cloneNode(!0).lastChild.checked,yt.innerHTML="<textarea>x</textarea>",se.noCloneChecked=!!yt.cloneNode(!0).lastChild.defaultValue,yt.innerHTML="<option></option>",se.option=!!yt.lastChild;var ve={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ge(t,n){var r;return r=typeof t.getElementsByTagName<"u"?t.getElementsByTagName(n||"*"):typeof t.querySelectorAll<"u"?t.querySelectorAll(n||"*"):[],n===void 0||n&&W(t,n)?o.merge([t],r):r}function p(t,n){for(var r=0,l=t.length;r<l;r++)ne.set(t[r],"globalEval",!n||ne.get(n[r],"globalEval"))}ve.tbody=ve.tfoot=ve.colgroup=ve.caption=ve.thead,ve.th=ve.td,se.option||(ve.optgroup=ve.option=[1,"<select multiple='multiple'>","</select>"]);var v=/<|&#?\w+;/;function S(t,n,r,l,c){for(var d,h,C,D,O,F,N=n.createDocumentFragment(),T=[],P=0,oe=t.length;P<oe;P++)if((d=t[P])||d===0)if(ct(d)==="object")o.merge(T,d.nodeType?[d]:d);else if(v.test(d)){for(h=h||N.appendChild(n.createElement("div")),C=(yn.exec(d)||["",""])[1].toLowerCase(),D=ve[C]||ve._default,h.innerHTML=D[1]+o.htmlPrefilter(d)+D[2],F=D[0];F--;)h=h.lastChild;o.merge(T,h.childNodes),(h=N.firstChild).textContent=""}else T.push(n.createTextNode(d));for(N.textContent="",P=0;d=T[P++];)if(l&&-1<o.inArray(d,l))c&&c.push(d);else if(O=Yt(d),h=ge(N.appendChild(d),"script"),O&&p(h),r)for(F=0;d=h[F++];)Et.test(d.type||"")&&r.push(d);return N}var E=/^([^.]*)(?:\.(.+)|)/;function H(){return!0}function U(){return!1}function ie(t,n,r,l,c,d){var h,C;if(typeof n=="object"){for(C in typeof r!="string"&&(l=l||r,r=void 0),n)ie(t,C,r,l,n[C],d);return t}if(l==null&&c==null?(c=r,l=r=void 0):c==null&&(typeof r=="string"?(c=l,l=void 0):(c=l,l=r,r=void 0)),c===!1)c=U;else if(!c)return t;return d===1&&(h=c,(c=function(D){return o().off(D),h.apply(this,arguments)}).guid=h.guid||(h.guid=o.guid++)),t.each(function(){o.event.add(this,n,c,l,r)})}function J(t,n,r){r?(ne.set(t,n,!1),o.event.add(t,n,{namespace:!1,handler:function(l){var c,d=ne.get(this,n);if(1&l.isTrigger&&this[n]){if(d)(o.event.special[n]||{}).delegateType&&l.stopPropagation();else if(d=I.call(arguments),ne.set(this,n,d),this[n](),c=ne.get(this,n),ne.set(this,n,!1),d!==c)return l.stopImmediatePropagation(),l.preventDefault(),c}else d&&(ne.set(this,n,o.event.trigger(d[0],d.slice(1),this)),l.stopPropagation(),l.isImmediatePropagationStopped=H)}})):ne.get(t,n)===void 0&&o.event.add(t,n,H)}o.event={global:{},add:function(t,n,r,l,c){var d,h,C,D,O,F,N,T,P,oe,he,pe=ne.get(t);if(gn(t))for(r.handler&&(r=(d=r).handler,c=d.selector),c&&o.find.matchesSelector(Xt,c),r.guid||(r.guid=o.guid++),(D=pe.events)||(D=pe.events=Object.create(null)),(h=pe.handle)||(h=pe.handle=function(tt){return typeof o<"u"&&o.event.triggered!==tt.type?o.event.dispatch.apply(t,arguments):void 0}),O=(n=(n||"").match(Je)||[""]).length;O--;)P=he=(C=E.exec(n[O])||[])[1],oe=(C[2]||"").split(".").sort(),P&&(N=o.event.special[P]||{},P=(c?N.delegateType:N.bindType)||P,N=o.event.special[P]||{},F=o.extend({type:P,origType:he,data:l,handler:r,guid:r.guid,selector:c,needsContext:c&&o.expr.match.needsContext.test(c),namespace:oe.join(".")},d),(T=D[P])||((T=D[P]=[]).delegateCount=0,N.setup&&N.setup.call(t,l,oe,h)!==!1||t.addEventListener&&t.addEventListener(P,h)),N.add&&(N.add.call(t,F),F.handler.guid||(F.handler.guid=r.guid)),c?T.splice(T.delegateCount++,0,F):T.push(F),o.event.global[P]=!0)},remove:function(t,n,r,l,c){var d,h,C,D,O,F,N,T,P,oe,he,pe=ne.hasData(t)&&ne.get(t);if(pe&&(D=pe.events)){for(O=(n=(n||"").match(Je)||[""]).length;O--;)if(P=he=(C=E.exec(n[O])||[])[1],oe=(C[2]||"").split(".").sort(),P){for(N=o.event.special[P]||{},T=D[P=(l?N.delegateType:N.bindType)||P]||[],C=C[2]&&new RegExp("(^|\\.)"+oe.join("\\.(?:.*\\.|)")+"(\\.|$)"),h=d=T.length;d--;)F=T[d],!c&&he!==F.origType||r&&r.guid!==F.guid||C&&!C.test(F.namespace)||l&&l!==F.selector&&(l!=="**"||!F.selector)||(T.splice(d,1),F.selector&&T.delegateCount--,N.remove&&N.remove.call(t,F));h&&!T.length&&(N.teardown&&N.teardown.call(t,oe,pe.handle)!==!1||o.removeEvent(t,P,pe.handle),delete D[P])}else for(P in D)o.event.remove(t,P+n[O],r,l,!0);o.isEmptyObject(D)&&ne.remove(t,"handle events")}},dispatch:function(t){var n,r,l,c,d,h,C=new Array(arguments.length),D=o.event.fix(t),O=(ne.get(this,"events")||Object.create(null))[D.type]||[],F=o.event.special[D.type]||{};for(C[0]=D,n=1;n<arguments.length;n++)C[n]=arguments[n];if(D.delegateTarget=this,!F.preDispatch||F.preDispatch.call(this,D)!==!1){for(h=o.event.handlers.call(this,D,O),n=0;(c=h[n++])&&!D.isPropagationStopped();)for(D.currentTarget=c.elem,r=0;(d=c.handlers[r++])&&!D.isImmediatePropagationStopped();)D.rnamespace&&d.namespace!==!1&&!D.rnamespace.test(d.namespace)||(D.handleObj=d,D.data=d.data,(l=((o.event.special[d.origType]||{}).handle||d.handler).apply(c.elem,C))!==void 0&&(D.result=l)===!1&&(D.preventDefault(),D.stopPropagation()));return F.postDispatch&&F.postDispatch.call(this,D),D.result}},handlers:function(t,n){var r,l,c,d,h,C=[],D=n.delegateCount,O=t.target;if(D&&O.nodeType&&!(t.type==="click"&&1<=t.button)){for(;O!==this;O=O.parentNode||this)if(O.nodeType===1&&(t.type!=="click"||O.disabled!==!0)){for(d=[],h={},r=0;r<D;r++)h[c=(l=n[r]).selector+" "]===void 0&&(h[c]=l.needsContext?-1<o(c,this).index(O):o.find(c,this,null,[O]).length),h[c]&&d.push(l);d.length&&C.push({elem:O,handlers:d})}}return O=this,D<n.length&&C.push({elem:O,handlers:n.slice(D)}),C},addProp:function(t,n){Object.defineProperty(o.Event.prototype,t,{enumerable:!0,configurable:!0,get:ae(n)?function(){if(this.originalEvent)return n(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(r){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:r})}})},fix:function(t){return t[o.expando]?t:new o.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var n=this||t;return Bt.test(n.type)&&n.click&&W(n,"input")&&J(n,"click",!0),!1},trigger:function(t){var n=this||t;return Bt.test(n.type)&&n.click&&W(n,"input")&&J(n,"click"),!0},_default:function(t){var n=t.target;return Bt.test(n.type)&&n.click&&W(n,"input")&&ne.get(n,"click")||W(n,"a")}},beforeunload:{postDispatch:function(t){t.result!==void 0&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},o.removeEvent=function(t,n,r){t.removeEventListener&&t.removeEventListener(n,r)},o.Event=function(t,n){if(!(this instanceof o.Event))return new o.Event(t,n);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===void 0&&t.returnValue===!1?H:U,this.target=t.target&&t.target.nodeType===3?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,n&&o.extend(this,n),this.timeStamp=t&&t.timeStamp||Date.now(),this[o.expando]=!0},o.Event.prototype={constructor:o.Event,isDefaultPrevented:U,isPropagationStopped:U,isImmediatePropagationStopped:U,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=H,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=H,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=H,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},o.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},o.event.addProp),o.each({focus:"focusin",blur:"focusout"},function(t,n){function r(l){if(le.documentMode){var c=ne.get(this,"handle"),d=o.event.fix(l);d.type=l.type==="focusin"?"focus":"blur",d.isSimulated=!0,c(l),d.target===d.currentTarget&&c(d)}else o.event.simulate(n,l.target,o.event.fix(l))}o.event.special[t]={setup:function(){var l;if(J(this,t,!0),!le.documentMode)return!1;(l=ne.get(this,n))||this.addEventListener(n,r),ne.set(this,n,(l||0)+1)},trigger:function(){return J(this,t),!0},teardown:function(){var l;if(!le.documentMode)return!1;(l=ne.get(this,n)-1)?ne.set(this,n,l):(this.removeEventListener(n,r),ne.remove(this,n))},_default:function(l){return ne.get(l.target,t)},delegateType:n},o.event.special[n]={setup:function(){var l=this.ownerDocument||this.document||this,c=le.documentMode?this:l,d=ne.get(c,n);d||(le.documentMode?this.addEventListener(n,r):l.addEventListener(t,r,!0)),ne.set(c,n,(d||0)+1)},teardown:function(){var l=this.ownerDocument||this.document||this,c=le.documentMode?this:l,d=ne.get(c,n)-1;d?ne.set(c,n,d):(le.documentMode?this.removeEventListener(n,r):l.removeEventListener(t,r,!0),ne.remove(c,n))}}}),o.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,n){o.event.special[t]={delegateType:n,bindType:n,handle:function(r){var l,c=r.relatedTarget,d=r.handleObj;return c&&(c===this||o.contains(this,c))||(r.type=d.origType,l=d.handler.apply(this,arguments),r.type=n),l}}}),o.fn.extend({on:function(t,n,r,l){return ie(this,t,n,r,l)},one:function(t,n,r,l){return ie(this,t,n,r,l,1)},off:function(t,n,r){var l,c;if(t&&t.preventDefault&&t.handleObj)return l=t.handleObj,o(t.delegateTarget).off(l.namespace?l.origType+"."+l.namespace:l.origType,l.selector,l.handler),this;if(typeof t=="object"){for(c in t)this.off(c,n,t[c]);return this}return n!==!1&&typeof n!="function"||(r=n,n=void 0),r===!1&&(r=U),this.each(function(){o.event.remove(this,t,r,n)})}});var we=/<script|<style|<link/i,Z=/checked\s*(?:[^=]|=\s*.checked.)/i,de=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ne(t,n){return W(t,"table")&&W(n.nodeType!==11?n:n.firstChild,"tr")&&o(t).children("tbody")[0]||t}function Mt(t){return t.type=(t.getAttribute("type")!==null)+"/"+t.type,t}function mt(t){return(t.type||"").slice(0,5)==="true/"?t.type=t.type.slice(5):t.removeAttribute("type"),t}function rn(t,n){var r,l,c,d,h,C;if(n.nodeType===1){if(ne.hasData(t)&&(C=ne.get(t).events))for(c in ne.remove(n,"handle events"),C)for(r=0,l=C[c].length;r<l;r++)o.event.add(n,c,C[c][r]);rt.hasData(t)&&(d=rt.access(t),h=o.extend({},d),rt.set(n,h))}}function $t(t,n,r,l){n=R(n);var c,d,h,C,D,O,F=0,N=t.length,T=N-1,P=n[0],oe=ae(P);if(oe||1<N&&typeof P=="string"&&!se.checkClone&&Z.test(P))return t.each(function(he){var pe=t.eq(he);oe&&(n[0]=P.call(this,he,pe.html())),$t(pe,n,r,l)});if(N&&(d=(c=S(n,t[0].ownerDocument,!1,t,l)).firstChild,c.childNodes.length===1&&(c=d),d||l)){for(C=(h=o.map(ge(c,"script"),Mt)).length;F<N;F++)D=c,F!==T&&(D=o.clone(D,!0,!0),C&&o.merge(h,ge(D,"script"))),r.call(t[F],D,F);if(C)for(O=h[h.length-1].ownerDocument,o.map(h,mt),F=0;F<C;F++)D=h[F],Et.test(D.type||"")&&!ne.access(D,"globalEval")&&o.contains(O,D)&&(D.src&&(D.type||"").toLowerCase()!=="module"?o._evalUrl&&!D.noModule&&o._evalUrl(D.src,{nonce:D.nonce||D.getAttribute("nonce")},O):ht(D.textContent.replace(de,""),D,O))}return t}function Un(t,n,r){for(var l,c=n?o.filter(n,t):t,d=0;(l=c[d])!=null;d++)r||l.nodeType!==1||o.cleanData(ge(l)),l.parentNode&&(r&&Yt(l)&&p(ge(l,"script")),l.parentNode.removeChild(l));return t}o.extend({htmlPrefilter:function(t){return t},clone:function(t,n,r){var l,c,d,h,C,D,O,F=t.cloneNode(!0),N=Yt(t);if(!(se.noCloneChecked||t.nodeType!==1&&t.nodeType!==11||o.isXMLDoc(t)))for(h=ge(F),l=0,c=(d=ge(t)).length;l<c;l++)C=d[l],D=h[l],(O=D.nodeName.toLowerCase())==="input"&&Bt.test(C.type)?D.checked=C.checked:O!=="input"&&O!=="textarea"||(D.defaultValue=C.defaultValue);if(n)if(r)for(d=d||ge(t),h=h||ge(F),l=0,c=d.length;l<c;l++)rn(d[l],h[l]);else rn(t,F);return 0<(h=ge(F,"script")).length&&p(h,!N&&ge(t,"script")),F},cleanData:function(t){for(var n,r,l,c=o.event.special,d=0;(r=t[d])!==void 0;d++)if(gn(r)){if(n=r[ne.expando]){if(n.events)for(l in n.events)c[l]?o.event.remove(r,l):o.removeEvent(r,l,n.handle);r[ne.expando]=void 0}r[rt.expando]&&(r[rt.expando]=void 0)}}}),o.fn.extend({detach:function(t){return Un(this,t,!0)},remove:function(t){return Un(this,t)},text:function(t){return St(this,function(n){return n===void 0?o.text(this):this.empty().each(function(){this.nodeType!==1&&this.nodeType!==11&&this.nodeType!==9||(this.textContent=n)})},null,t,arguments.length)},append:function(){return $t(this,arguments,function(t){this.nodeType!==1&&this.nodeType!==11&&this.nodeType!==9||Ne(this,t).appendChild(t)})},prepend:function(){return $t(this,arguments,function(t){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var n=Ne(this,t);n.insertBefore(t,n.firstChild)}})},before:function(){return $t(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return $t(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,n=0;(t=this[n])!=null;n++)t.nodeType===1&&(o.cleanData(ge(t,!1)),t.textContent="");return this},clone:function(t,n){return t=t!=null&&t,n=n??t,this.map(function(){return o.clone(this,t,n)})},html:function(t){return St(this,function(n){var r=this[0]||{},l=0,c=this.length;if(n===void 0&&r.nodeType===1)return r.innerHTML;if(typeof n=="string"&&!we.test(n)&&!ve[(yn.exec(n)||["",""])[1].toLowerCase()]){n=o.htmlPrefilter(n);try{for(;l<c;l++)(r=this[l]||{}).nodeType===1&&(o.cleanData(ge(r,!1)),r.innerHTML=n);r=0}catch{}}r&&this.empty().append(n)},null,t,arguments.length)},replaceWith:function(){var t=[];return $t(this,arguments,function(n){var r=this.parentNode;o.inArray(this,t)<0&&(o.cleanData(ge(this)),r&&r.replaceChild(n,this))},t)}}),o.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,n){o.fn[t]=function(r){for(var l,c=[],d=o(r),h=d.length-1,C=0;C<=h;C++)l=C===h?this:this.clone(!0),o(d[C])[n](l),V.apply(c,l.get());return this.pushStack(c)}});var bn=new RegExp("^("+In+")(?!px)[a-z%]+$","i"),qn=/^--/,An=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=g),n.getComputedStyle(t)},Wn=function(t,n,r){var l,c,d={};for(c in n)d[c]=t.style[c],t.style[c]=n[c];for(c in l=r.call(t),n)t.style[c]=d[c];return l},ni=new RegExp(Ot.join("|"),"i");function Dn(t,n,r){var l,c,d,h,C=qn.test(n),D=t.style;return(r=r||An(t))&&(h=r.getPropertyValue(n)||r[n],C&&h&&(h=h.replace(gt,"$1")||void 0),h!==""||Yt(t)||(h=o.style(t,n)),!se.pixelBoxStyles()&&bn.test(h)&&ni.test(n)&&(l=D.width,c=D.minWidth,d=D.maxWidth,D.minWidth=D.maxWidth=D.width=h,h=r.width,D.width=l,D.minWidth=c,D.maxWidth=d)),h!==void 0?h+"":h}function Vn(t,n){return{get:function(){if(!t())return(this.get=n).apply(this,arguments);delete this.get}}}(function(){function t(){if(O){D.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",O.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Xt.appendChild(D).appendChild(O);var F=g.getComputedStyle(O);r=F.top!=="1%",C=n(F.marginLeft)===12,O.style.right="60%",d=n(F.right)===36,l=n(F.width)===36,O.style.position="absolute",c=n(O.offsetWidth/3)===12,Xt.removeChild(D),O=null}}function n(F){return Math.round(parseFloat(F))}var r,l,c,d,h,C,D=le.createElement("div"),O=le.createElement("div");O.style&&(O.style.backgroundClip="content-box",O.cloneNode(!0).style.backgroundClip="",se.clearCloneStyle=O.style.backgroundClip==="content-box",o.extend(se,{boxSizingReliable:function(){return t(),l},pixelBoxStyles:function(){return t(),d},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),C},scrollboxSize:function(){return t(),c},reliableTrDimensions:function(){var F,N,T,P;return h==null&&(F=le.createElement("table"),N=le.createElement("tr"),T=le.createElement("div"),F.style.cssText="position:absolute;left:-11111px;border-collapse:separate",N.style.cssText="box-sizing:content-box;border:1px solid",N.style.height="1px",T.style.height="9px",T.style.display="block",Xt.appendChild(F).appendChild(N).appendChild(T),P=g.getComputedStyle(N),h=parseInt(P.height,10)+parseInt(P.borderTopWidth,10)+parseInt(P.borderBottomWidth,10)===N.offsetHeight,Xt.removeChild(F)),h}}))})();var f=["Webkit","Moz","ms"],i=le.createElement("div").style,s={};function u(t){var n=o.cssProps[t]||s[t];return n||(t in i?t:s[t]=function(r){for(var l=r[0].toUpperCase()+r.slice(1),c=f.length;c--;)if((r=f[c]+l)in i)return r}(t)||t)}var m=/^(none|table(?!-c[ea]).+)/,w={position:"absolute",visibility:"hidden",display:"block"},b={letterSpacing:"0",fontWeight:"400"};function M(t,n,r){var l=vn.exec(n);return l?Math.max(0,l[2]-(r||0))+(l[3]||"px"):n}function j(t,n,r,l,c,d){var h=n==="width"?1:0,C=0,D=0,O=0;if(r===(l?"border":"content"))return 0;for(;h<4;h+=2)r==="margin"&&(O+=o.css(t,r+Ot[h],!0,c)),l?(r==="content"&&(D-=o.css(t,"padding"+Ot[h],!0,c)),r!=="margin"&&(D-=o.css(t,"border"+Ot[h]+"Width",!0,c))):(D+=o.css(t,"padding"+Ot[h],!0,c),r!=="padding"?D+=o.css(t,"border"+Ot[h]+"Width",!0,c):C+=o.css(t,"border"+Ot[h]+"Width",!0,c));return!l&&0<=d&&(D+=Math.max(0,Math.ceil(t["offset"+n[0].toUpperCase()+n.slice(1)]-d-D-C-.5))||0),D+O}function q(t,n,r){var l=An(t),c=(!se.boxSizingReliable()||r)&&o.css(t,"boxSizing",!1,l)==="border-box",d=c,h=Dn(t,n,l),C="offset"+n[0].toUpperCase()+n.slice(1);if(bn.test(h)){if(!r)return h;h="auto"}return(!se.boxSizingReliable()&&c||!se.reliableTrDimensions()&&W(t,"tr")||h==="auto"||!parseFloat(h)&&o.css(t,"display",!1,l)==="inline")&&t.getClientRects().length&&(c=o.css(t,"boxSizing",!1,l)==="border-box",(d=C in t)&&(h=t[C])),(h=parseFloat(h)||0)+j(t,n,r||(c?"border":"content"),d,l,h)+"px"}function B(t,n,r,l,c){return new B.prototype.init(t,n,r,l,c)}o.extend({cssHooks:{opacity:{get:function(t,n){if(n){var r=Dn(t,"opacity");return r===""?"1":r}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(t,n,r,l){if(t&&t.nodeType!==3&&t.nodeType!==8&&t.style){var c,d,h,C=st(n),D=qn.test(n),O=t.style;if(D||(n=u(C)),h=o.cssHooks[n]||o.cssHooks[C],r===void 0)return h&&"get"in h&&(c=h.get(t,!1,l))!==void 0?c:O[n];(d=typeof r)=="string"&&(c=vn.exec(r))&&c[1]&&(r=Pn(t,n,c),d="number"),r!=null&&r==r&&(d!=="number"||D||(r+=c&&c[3]||(o.cssNumber[C]?"":"px")),se.clearCloneStyle||r!==""||n.indexOf("background")!==0||(O[n]="inherit"),h&&"set"in h&&(r=h.set(t,r,l))===void 0||(D?O.setProperty(n,r):O[n]=r))}},css:function(t,n,r,l){var c,d,h,C=st(n);return qn.test(n)||(n=u(C)),(h=o.cssHooks[n]||o.cssHooks[C])&&"get"in h&&(c=h.get(t,!0,r)),c===void 0&&(c=Dn(t,n,l)),c==="normal"&&n in b&&(c=b[n]),r===""||r?(d=parseFloat(c),r===!0||isFinite(d)?d||0:c):c}}),o.each(["height","width"],function(t,n){o.cssHooks[n]={get:function(r,l,c){if(l)return!m.test(o.css(r,"display"))||r.getClientRects().length&&r.getBoundingClientRect().width?q(r,n,c):Wn(r,w,function(){return q(r,n,c)})},set:function(r,l,c){var d,h=An(r),C=!se.scrollboxSize()&&h.position==="absolute",D=(C||c)&&o.css(r,"boxSizing",!1,h)==="border-box",O=c?j(r,n,c,D,h):0;return D&&C&&(O-=Math.ceil(r["offset"+n[0].toUpperCase()+n.slice(1)]-parseFloat(h[n])-j(r,n,"border",!1,h)-.5)),O&&(d=vn.exec(l))&&(d[3]||"px")!=="px"&&(r.style[n]=l,l=o.css(r,n)),M(0,l,O)}}}),o.cssHooks.marginLeft=Vn(se.reliableMarginLeft,function(t,n){if(n)return(parseFloat(Dn(t,"marginLeft"))||t.getBoundingClientRect().left-Wn(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),o.each({margin:"",padding:"",border:"Width"},function(t,n){o.cssHooks[t+n]={expand:function(r){for(var l=0,c={},d=typeof r=="string"?r.split(" "):[r];l<4;l++)c[t+Ot[l]+n]=d[l]||d[l-2]||d[0];return c}},t!=="margin"&&(o.cssHooks[t+n].set=M)}),o.fn.extend({css:function(t,n){return St(this,function(r,l,c){var d,h,C={},D=0;if(Array.isArray(l)){for(d=An(r),h=l.length;D<h;D++)C[l[D]]=o.css(r,l[D],!1,d);return C}return c!==void 0?o.style(r,l,c):o.css(r,l)},t,n,1<arguments.length)}}),((o.Tween=B).prototype={constructor:B,init:function(t,n,r,l,c,d){this.elem=t,this.prop=r,this.easing=c||o.easing._default,this.options=n,this.start=this.now=this.cur(),this.end=l,this.unit=d||(o.cssNumber[r]?"":"px")},cur:function(){var t=B.propHooks[this.prop];return t&&t.get?t.get(this):B.propHooks._default.get(this)},run:function(t){var n,r=B.propHooks[this.prop];return this.options.duration?this.pos=n=o.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=n=t,this.now=(this.end-this.start)*n+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):B.propHooks._default.set(this),this}}).init.prototype=B.prototype,(B.propHooks={_default:{get:function(t){var n;return t.elem.nodeType!==1||t.elem[t.prop]!=null&&t.elem.style[t.prop]==null?t.elem[t.prop]:(n=o.css(t.elem,t.prop,""))&&n!=="auto"?n:0},set:function(t){o.fx.step[t.prop]?o.fx.step[t.prop](t):t.elem.nodeType!==1||!o.cssHooks[t.prop]&&t.elem.style[u(t.prop)]==null?t.elem[t.prop]=t.now:o.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=B.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},o.easing={linear:function(t){return t},swing:function(t){return .5-Math.cos(t*Math.PI)/2},_default:"swing"},o.fx=B.prototype.init,o.fx.step={};var Y,te,Fe,ee,Te=/^(?:toggle|show|hide)$/,Ge=/queueHooks$/;function Me(){te&&(le.hidden===!1&&g.requestAnimationFrame?g.requestAnimationFrame(Me):g.setTimeout(Me,o.fx.interval),o.fx.tick())}function ce(){return g.setTimeout(function(){Y=void 0}),Y=Date.now()}function Re(t,n){var r,l=0,c={height:t};for(n=n?1:0;l<4;l+=2-n)c["margin"+(r=Ot[l])]=c["padding"+r]=t;return n&&(c.opacity=c.width=t),c}function jt(t,n,r){for(var l,c=(bt.tweeners[n]||[]).concat(bt.tweeners["*"]),d=0,h=c.length;d<h;d++)if(l=c[d].call(r,n,t))return l}function bt(t,n,r){var l,c,d=0,h=bt.prefilters.length,C=o.Deferred().always(function(){delete D.elem}),D=function(){if(c)return!1;for(var N=Y||ce(),T=Math.max(0,O.startTime+O.duration-N),P=1-(T/O.duration||0),oe=0,he=O.tweens.length;oe<he;oe++)O.tweens[oe].run(P);return C.notifyWith(t,[O,P,T]),P<1&&he?T:(he||C.notifyWith(t,[O,1,0]),C.resolveWith(t,[O]),!1)},O=C.promise({elem:t,props:o.extend({},n),opts:o.extend(!0,{specialEasing:{},easing:o.easing._default},r),originalProperties:n,originalOptions:r,startTime:Y||ce(),duration:r.duration,tweens:[],createTween:function(N,T){var P=o.Tween(t,O.opts,N,T,O.opts.specialEasing[N]||O.opts.easing);return O.tweens.push(P),P},stop:function(N){var T=0,P=N?O.tweens.length:0;if(c)return this;for(c=!0;T<P;T++)O.tweens[T].run(1);return N?(C.notifyWith(t,[O,1,0]),C.resolveWith(t,[O,N])):C.rejectWith(t,[O,N]),this}}),F=O.props;for(!function(N,T){var P,oe,he,pe,tt;for(P in N)if(he=T[oe=st(P)],pe=N[P],Array.isArray(pe)&&(he=pe[1],pe=N[P]=pe[0]),P!==oe&&(N[oe]=pe,delete N[P]),(tt=o.cssHooks[oe])&&"expand"in tt)for(P in pe=tt.expand(pe),delete N[oe],pe)P in N||(N[P]=pe[P],T[P]=he);else T[oe]=he}(F,O.opts.specialEasing);d<h;d++)if(l=bt.prefilters[d].call(O,t,F,O.opts))return ae(l.stop)&&(o._queueHooks(O.elem,O.opts.queue).stop=l.stop.bind(l)),l;return o.map(F,jt,O),ae(O.opts.start)&&O.opts.start.call(t,O),O.progress(O.opts.progress).done(O.opts.done,O.opts.complete).fail(O.opts.fail).always(O.opts.always),o.fx.timer(o.extend(D,{elem:t,anim:O,queue:O.opts.queue})),O}o.Animation=o.extend(bt,{tweeners:{"*":[function(t,n){var r=this.createTween(t,n);return Pn(r.elem,t,vn.exec(n),r),r}]},tweener:function(t,n){ae(t)?(n=t,t=["*"]):t=t.match(Je);for(var r,l=0,c=t.length;l<c;l++)r=t[l],bt.tweeners[r]=bt.tweeners[r]||[],bt.tweeners[r].unshift(n)},prefilters:[function(t,n,r){var l,c,d,h,C,D,O,F,N="width"in n||"height"in n,T=this,P={},oe=t.style,he=t.nodeType&&Qt(t),pe=ne.get(t,"fxshow");for(l in r.queue||((h=o._queueHooks(t,"fx")).unqueued==null&&(h.unqueued=0,C=h.empty.fire,h.empty.fire=function(){h.unqueued||C()}),h.unqueued++,T.always(function(){T.always(function(){h.unqueued--,o.queue(t,"fx").length||h.empty.fire()})})),n)if(c=n[l],Te.test(c)){if(delete n[l],d=d||c==="toggle",c===(he?"hide":"show")){if(c!=="show"||!pe||pe[l]===void 0)continue;he=!0}P[l]=pe&&pe[l]||o.style(t,l)}if((D=!o.isEmptyObject(n))||!o.isEmptyObject(P))for(l in N&&t.nodeType===1&&(r.overflow=[oe.overflow,oe.overflowX,oe.overflowY],(O=pe&&pe.display)==null&&(O=ne.get(t,"display")),(F=o.css(t,"display"))==="none"&&(O?F=O:(It([t],!0),O=t.style.display||O,F=o.css(t,"display"),It([t]))),(F==="inline"||F==="inline-block"&&O!=null)&&o.css(t,"float")==="none"&&(D||(T.done(function(){oe.display=O}),O==null&&(F=oe.display,O=F==="none"?"":F)),oe.display="inline-block")),r.overflow&&(oe.overflow="hidden",T.always(function(){oe.overflow=r.overflow[0],oe.overflowX=r.overflow[1],oe.overflowY=r.overflow[2]})),D=!1,P)D||(pe?"hidden"in pe&&(he=pe.hidden):pe=ne.access(t,"fxshow",{display:O}),d&&(pe.hidden=!he),he&&It([t],!0),T.done(function(){for(l in he||It([t]),ne.remove(t,"fxshow"),P)o.style(t,l,P[l])})),D=jt(he?pe[l]:0,l,T),l in pe||(pe[l]=D.start,he&&(D.end=D.start,D.start=0))}],prefilter:function(t,n){n?bt.prefilters.unshift(t):bt.prefilters.push(t)}}),o.speed=function(t,n,r){var l=t&&typeof t=="object"?o.extend({},t):{complete:r||!r&&n||ae(t)&&t,duration:t,easing:r&&n||n&&!ae(n)&&n};return o.fx.off?l.duration=0:typeof l.duration!="number"&&(l.duration in o.fx.speeds?l.duration=o.fx.speeds[l.duration]:l.duration=o.fx.speeds._default),l.queue!=null&&l.queue!==!0||(l.queue="fx"),l.old=l.complete,l.complete=function(){ae(l.old)&&l.old.call(this),l.queue&&o.dequeue(this,l.queue)},l},o.fn.extend({fadeTo:function(t,n,r,l){return this.filter(Qt).css("opacity",0).show().end().animate({opacity:n},t,r,l)},animate:function(t,n,r,l){var c=o.isEmptyObject(t),d=o.speed(n,r,l),h=function(){var C=bt(this,o.extend({},t),d);(c||ne.get(this,"finish"))&&C.stop(!0)};return h.finish=h,c||d.queue===!1?this.each(h):this.queue(d.queue,h)},stop:function(t,n,r){var l=function(c){var d=c.stop;delete c.stop,d(r)};return typeof t!="string"&&(r=n,n=t,t=void 0),n&&this.queue(t||"fx",[]),this.each(function(){var c=!0,d=t!=null&&t+"queueHooks",h=o.timers,C=ne.get(this);if(d)C[d]&&C[d].stop&&l(C[d]);else for(d in C)C[d]&&C[d].stop&&Ge.test(d)&&l(C[d]);for(d=h.length;d--;)h[d].elem!==this||t!=null&&h[d].queue!==t||(h[d].anim.stop(r),c=!1,h.splice(d,1));!c&&r||o.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var n,r=ne.get(this),l=r[t+"queue"],c=r[t+"queueHooks"],d=o.timers,h=l?l.length:0;for(r.finish=!0,o.queue(this,t,[]),c&&c.stop&&c.stop.call(this,!0),n=d.length;n--;)d[n].elem===this&&d[n].queue===t&&(d[n].anim.stop(!0),d.splice(n,1));for(n=0;n<h;n++)l[n]&&l[n].finish&&l[n].finish.call(this);delete r.finish})}}),o.each(["toggle","show","hide"],function(t,n){var r=o.fn[n];o.fn[n]=function(l,c,d){return l==null||typeof l=="boolean"?r.apply(this,arguments):this.animate(Re(n,!0),l,c,d)}}),o.each({slideDown:Re("show"),slideUp:Re("hide"),slideToggle:Re("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,n){o.fn[t]=function(r,l,c){return this.animate(n,r,l,c)}}),o.timers=[],o.fx.tick=function(){var t,n=0,r=o.timers;for(Y=Date.now();n<r.length;n++)(t=r[n])()||r[n]!==t||r.splice(n--,1);r.length||o.fx.stop(),Y=void 0},o.fx.timer=function(t){o.timers.push(t),o.fx.start()},o.fx.interval=13,o.fx.start=function(){te||(te=!0,Me())},o.fx.stop=function(){te=null},o.fx.speeds={slow:600,fast:200,_default:400},o.fn.delay=function(t,n){return t=o.fx&&o.fx.speeds[t]||t,n=n||"fx",this.queue(n,function(r,l){var c=g.setTimeout(r,t);l.stop=function(){g.clearTimeout(c)}})},Fe=le.createElement("input"),ee=le.createElement("select").appendChild(le.createElement("option")),Fe.type="checkbox",se.checkOn=Fe.value!=="",se.optSelected=ee.selected,(Fe=le.createElement("input")).value="t",Fe.type="radio",se.radioValue=Fe.value==="t";var wn,Ce=o.expr.attrHandle;o.fn.extend({attr:function(t,n){return St(this,o.attr,t,n,1<arguments.length)},removeAttr:function(t){return this.each(function(){o.removeAttr(this,t)})}}),o.extend({attr:function(t,n,r){var l,c,d=t.nodeType;if(d!==3&&d!==8&&d!==2)return typeof t.getAttribute>"u"?o.prop(t,n,r):(d===1&&o.isXMLDoc(t)||(c=o.attrHooks[n.toLowerCase()]||(o.expr.match.bool.test(n)?wn:void 0)),r!==void 0?r===null?void o.removeAttr(t,n):c&&"set"in c&&(l=c.set(t,r,n))!==void 0?l:(t.setAttribute(n,r+""),r):c&&"get"in c&&(l=c.get(t,n))!==null?l:(l=o.find.attr(t,n))==null?void 0:l)},attrHooks:{type:{set:function(t,n){if(!se.radioValue&&n==="radio"&&W(t,"input")){var r=t.value;return t.setAttribute("type",n),r&&(t.value=r),n}}}},removeAttr:function(t,n){var r,l=0,c=n&&n.match(Je);if(c&&t.nodeType===1)for(;r=c[l++];)t.removeAttribute(r)}}),wn={set:function(t,n,r){return n===!1?o.removeAttr(t,r):t.setAttribute(r,r),r}},o.each(o.expr.match.bool.source.match(/\w+/g),function(t,n){var r=Ce[n]||o.find.attr;Ce[n]=function(l,c,d){var h,C,D=c.toLowerCase();return d||(C=Ce[D],Ce[D]=h,h=r(l,c,d)!=null?D:null,Ce[D]=C),h}});var Le=/^(?:input|select|textarea|button)$/i,xe=/^(?:a|area)$/i;function We(t){return(t.match(Je)||[]).join(" ")}function Ie(t){return t.getAttribute&&t.getAttribute("class")||""}function Tn(t){return Array.isArray(t)?t:typeof t=="string"&&t.match(Je)||[]}o.fn.extend({prop:function(t,n){return St(this,o.prop,t,n,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[o.propFix[t]||t]})}}),o.extend({prop:function(t,n,r){var l,c,d=t.nodeType;if(d!==3&&d!==8&&d!==2)return d===1&&o.isXMLDoc(t)||(n=o.propFix[n]||n,c=o.propHooks[n]),r!==void 0?c&&"set"in c&&(l=c.set(t,r,n))!==void 0?l:t[n]=r:c&&"get"in c&&(l=c.get(t,n))!==null?l:t[n]},propHooks:{tabIndex:{get:function(t){var n=o.find.attr(t,"tabindex");return n?parseInt(n,10):Le.test(t.nodeName)||xe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),se.optSelected||(o.propHooks.selected={get:function(t){var n=t.parentNode;return n&&n.parentNode&&n.parentNode.selectedIndex,null},set:function(t){var n=t.parentNode;n&&(n.selectedIndex,n.parentNode&&n.parentNode.selectedIndex)}}),o.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){o.propFix[this.toLowerCase()]=this}),o.fn.extend({addClass:function(t){var n,r,l,c,d,h;return ae(t)?this.each(function(C){o(this).addClass(t.call(this,C,Ie(this)))}):(n=Tn(t)).length?this.each(function(){if(l=Ie(this),r=this.nodeType===1&&" "+We(l)+" "){for(d=0;d<n.length;d++)c=n[d],r.indexOf(" "+c+" ")<0&&(r+=c+" ");h=We(r),l!==h&&this.setAttribute("class",h)}}):this},removeClass:function(t){var n,r,l,c,d,h;return ae(t)?this.each(function(C){o(this).removeClass(t.call(this,C,Ie(this)))}):arguments.length?(n=Tn(t)).length?this.each(function(){if(l=Ie(this),r=this.nodeType===1&&" "+We(l)+" "){for(d=0;d<n.length;d++)for(c=n[d];-1<r.indexOf(" "+c+" ");)r=r.replace(" "+c+" "," ");h=We(r),l!==h&&this.setAttribute("class",h)}}):this:this.attr("class","")},toggleClass:function(t,n){var r,l,c,d,h=typeof t,C=h==="string"||Array.isArray(t);return ae(t)?this.each(function(D){o(this).toggleClass(t.call(this,D,Ie(this),n),n)}):typeof n=="boolean"&&C?n?this.addClass(t):this.removeClass(t):(r=Tn(t),this.each(function(){if(C)for(d=o(this),c=0;c<r.length;c++)l=r[c],d.hasClass(l)?d.removeClass(l):d.addClass(l);else t!==void 0&&h!=="boolean"||((l=Ie(this))&&ne.set(this,"__className__",l),this.setAttribute&&this.setAttribute("class",l||t===!1?"":ne.get(this,"__className__")||""))}))},hasClass:function(t){var n,r,l=0;for(n=" "+t+" ";r=this[l++];)if(r.nodeType===1&&-1<(" "+We(Ie(r))+" ").indexOf(n))return!0;return!1}});var Kn=/\r/g;o.fn.extend({val:function(t){var n,r,l,c=this[0];return arguments.length?(l=ae(t),this.each(function(d){var h;this.nodeType===1&&((h=l?t.call(this,d,o(this).val()):t)==null?h="":typeof h=="number"?h+="":Array.isArray(h)&&(h=o.map(h,function(C){return C==null?"":C+""})),(n=o.valHooks[this.type]||o.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&n.set(this,h,"value")!==void 0||(this.value=h))})):c?(n=o.valHooks[c.type]||o.valHooks[c.nodeName.toLowerCase()])&&"get"in n&&(r=n.get(c,"value"))!==void 0?r:typeof(r=c.value)=="string"?r.replace(Kn,""):r??"":void 0}}),o.extend({valHooks:{option:{get:function(t){var n=o.find.attr(t,"value");return n??We(o.text(t))}},select:{get:function(t){var n,r,l,c=t.options,d=t.selectedIndex,h=t.type==="select-one",C=h?null:[],D=h?d+1:c.length;for(l=d<0?D:h?d:0;l<D;l++)if(((r=c[l]).selected||l===d)&&!r.disabled&&(!r.parentNode.disabled||!W(r.parentNode,"optgroup"))){if(n=o(r).val(),h)return n;C.push(n)}return C},set:function(t,n){for(var r,l,c=t.options,d=o.makeArray(n),h=c.length;h--;)((l=c[h]).selected=-1<o.inArray(o.valHooks.option.get(l),d))&&(r=!0);return r||(t.selectedIndex=-1),d}}}}),o.each(["radio","checkbox"],function(){o.valHooks[this]={set:function(t,n){if(Array.isArray(n))return t.checked=-1<o.inArray(o(t).val(),n)}},se.checkOn||(o.valHooks[this].get=function(t){return t.getAttribute("value")===null?"on":t.value})});var jn=g.location,fi={guid:Date.now()},zi=/\?/;o.parseXML=function(t){var n,r;if(!t||typeof t!="string")return null;try{n=new g.DOMParser().parseFromString(t,"text/xml")}catch{}return r=n&&n.getElementsByTagName("parsererror")[0],n&&!r||o.error("Invalid XML: "+(r?o.map(r.childNodes,function(l){return l.textContent}).join(`
`):t)),n};var ar=/^(?:focusinfocus|focusoutblur)$/,or=function(t){t.stopPropagation()};o.extend(o.event,{trigger:function(t,n,r,l){var c,d,h,C,D,O,F,N,T=[r||le],P=$e.call(t,"type")?t.type:t,oe=$e.call(t,"namespace")?t.namespace.split("."):[];if(d=N=h=r=r||le,r.nodeType!==3&&r.nodeType!==8&&!ar.test(P+o.event.triggered)&&(-1<P.indexOf(".")&&(P=(oe=P.split(".")).shift(),oe.sort()),D=P.indexOf(":")<0&&"on"+P,(t=t[o.expando]?t:new o.Event(P,typeof t=="object"&&t)).isTrigger=l?2:3,t.namespace=oe.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+oe.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=n==null?[t]:o.makeArray(n,[t]),F=o.event.special[P]||{},l||!F.trigger||F.trigger.apply(r,n)!==!1)){if(!l&&!F.noBubble&&!be(r)){for(C=F.delegateType||P,ar.test(C+P)||(d=d.parentNode);d;d=d.parentNode)T.push(d),h=d;h===(r.ownerDocument||le)&&T.push(h.defaultView||h.parentWindow||g)}for(c=0;(d=T[c++])&&!t.isPropagationStopped();)N=d,t.type=1<c?C:F.bindType||P,(O=(ne.get(d,"events")||Object.create(null))[t.type]&&ne.get(d,"handle"))&&O.apply(d,n),(O=D&&d[D])&&O.apply&&gn(d)&&(t.result=O.apply(d,n),t.result===!1&&t.preventDefault());return t.type=P,l||t.isDefaultPrevented()||F._default&&F._default.apply(T.pop(),n)!==!1||!gn(r)||D&&ae(r[P])&&!be(r)&&((h=r[D])&&(r[D]=null),o.event.triggered=P,t.isPropagationStopped()&&N.addEventListener(P,or),r[P](),t.isPropagationStopped()&&N.removeEventListener(P,or),o.event.triggered=void 0,h&&(r[D]=h)),t.result}},simulate:function(t,n,r){var l=o.extend(new o.Event,r,{type:t,isSimulated:!0});o.event.trigger(l,null,n)}}),o.fn.extend({trigger:function(t,n){return this.each(function(){o.event.trigger(t,n,this)})},triggerHandler:function(t,n){var r=this[0];if(r)return o.event.trigger(t,n,r,!0)}});var $r=/\[\]$/,sr=/\r?\n/g,Ar=/^(?:submit|button|image|reset|file)$/i,Tr=/^(?:input|select|textarea|keygen)/i;function Ni(t,n,r,l){var c;if(Array.isArray(n))o.each(n,function(d,h){r||$r.test(t)?l(t,h):Ni(t+"["+(typeof h=="object"&&h!=null?d:"")+"]",h,r,l)});else if(r||ct(n)!=="object")l(t,n);else for(c in n)Ni(t+"["+c+"]",n[c],r,l)}o.param=function(t,n){var r,l=[],c=function(d,h){var C=ae(h)?h():h;l[l.length]=encodeURIComponent(d)+"="+encodeURIComponent(C??"")};if(t==null)return"";if(Array.isArray(t)||t.jquery&&!o.isPlainObject(t))o.each(t,function(){c(this.name,this.value)});else for(r in t)Ni(r,t[r],n,c);return l.join("&")},o.fn.extend({serialize:function(){return o.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=o.prop(this,"elements");return t?o.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!o(this).is(":disabled")&&Tr.test(this.nodeName)&&!Ar.test(t)&&(this.checked||!Bt.test(t))}).map(function(t,n){var r=o(this).val();return r==null?null:Array.isArray(r)?o.map(r,function(l){return{name:n.name,value:l.replace(sr,`\r
`)}}):{name:n.name,value:r.replace(sr,`\r
`)}}).get()}});var kr=/%20/g,Fr=/#.*$/,Er=/([?&])_=[^&]*/,Mr=/^(.*?):[ \t]*([^\r\n]*)$/gm,zr=/^(?:GET|HEAD)$/,Nr=/^\/\//,lr={},Li={},cr="*/".concat("*"),Pi=le.createElement("a");function ur(t){return function(n,r){typeof n!="string"&&(r=n,n="*");var l,c=0,d=n.toLowerCase().match(Je)||[];if(ae(r))for(;l=d[c++];)l[0]==="+"?(l=l.slice(1)||"*",(t[l]=t[l]||[]).unshift(r)):(t[l]=t[l]||[]).push(r)}}function dr(t,n,r,l){var c={},d=t===Li;function h(C){var D;return c[C]=!0,o.each(t[C]||[],function(O,F){var N=F(n,r,l);return typeof N!="string"||d||c[N]?d?!(D=N):void 0:(n.dataTypes.unshift(N),h(N),!1)}),D}return h(n.dataTypes[0])||!c["*"]&&h("*")}function qi(t,n){var r,l,c=o.ajaxSettings.flatOptions||{};for(r in n)n[r]!==void 0&&((c[r]?t:l||(l={}))[r]=n[r]);return l&&o.extend(!0,t,l),t}Pi.href=jn.href,o.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jn.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(jn.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":cr,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":o.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,n){return n?qi(qi(t,o.ajaxSettings),n):qi(o.ajaxSettings,t)},ajaxPrefilter:ur(lr),ajaxTransport:ur(Li),ajax:function(t,n){typeof t=="object"&&(n=t,t=void 0),n=n||{};var r,l,c,d,h,C,D,O,F,N,T=o.ajaxSetup({},n),P=T.context||T,oe=T.context&&(P.nodeType||P.jquery)?o(P):o.event,he=o.Deferred(),pe=o.Callbacks("once memory"),tt=T.statusCode||{},ut={},an={},on="canceled",Ae={readyState:0,getResponseHeader:function(ze){var et;if(D){if(!d)for(d={};et=Mr.exec(c);)d[et[1].toLowerCase()+" "]=(d[et[1].toLowerCase()+" "]||[]).concat(et[2]);et=d[ze.toLowerCase()+" "]}return et==null?null:et.join(", ")},getAllResponseHeaders:function(){return D?c:null},setRequestHeader:function(ze,et){return D==null&&(ze=an[ze.toLowerCase()]=an[ze.toLowerCase()]||ze,ut[ze]=et),this},overrideMimeType:function(ze){return D==null&&(T.mimeType=ze),this},statusCode:function(ze){var et;if(ze)if(D)Ae.always(ze[Ae.status]);else for(et in ze)tt[et]=[tt[et],ze[et]];return this},abort:function(ze){var et=ze||on;return r&&r.abort(et),Rn(0,et),this}};if(he.promise(Ae),T.url=((t||T.url||jn.href)+"").replace(Nr,jn.protocol+"//"),T.type=n.method||n.type||T.method||T.type,T.dataTypes=(T.dataType||"*").toLowerCase().match(Je)||[""],T.crossDomain==null){C=le.createElement("a");try{C.href=T.url,C.href=C.href,T.crossDomain=Pi.protocol+"//"+Pi.host!=C.protocol+"//"+C.host}catch{T.crossDomain=!0}}if(T.data&&T.processData&&typeof T.data!="string"&&(T.data=o.param(T.data,T.traditional)),dr(lr,T,n,Ae),D)return Ae;for(F in(O=o.event&&T.global)&&o.active++==0&&o.event.trigger("ajaxStart"),T.type=T.type.toUpperCase(),T.hasContent=!zr.test(T.type),l=T.url.replace(Fr,""),T.hasContent?T.data&&T.processData&&(T.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(T.data=T.data.replace(kr,"+")):(N=T.url.slice(l.length),T.data&&(T.processData||typeof T.data=="string")&&(l+=(zi.test(l)?"&":"?")+T.data,delete T.data),T.cache===!1&&(l=l.replace(Er,"$1"),N=(zi.test(l)?"&":"?")+"_="+fi.guid+++N),T.url=l+N),T.ifModified&&(o.lastModified[l]&&Ae.setRequestHeader("If-Modified-Since",o.lastModified[l]),o.etag[l]&&Ae.setRequestHeader("If-None-Match",o.etag[l])),(T.data&&T.hasContent&&T.contentType!==!1||n.contentType)&&Ae.setRequestHeader("Content-Type",T.contentType),Ae.setRequestHeader("Accept",T.dataTypes[0]&&T.accepts[T.dataTypes[0]]?T.accepts[T.dataTypes[0]]+(T.dataTypes[0]!=="*"?", "+cr+"; q=0.01":""):T.accepts["*"]),T.headers)Ae.setRequestHeader(F,T.headers[F]);if(T.beforeSend&&(T.beforeSend.call(P,Ae,T)===!1||D))return Ae.abort();if(on="abort",pe.add(T.complete),Ae.done(T.success),Ae.fail(T.error),r=dr(Li,T,n,Ae)){if(Ae.readyState=1,O&&oe.trigger("ajaxSend",[Ae,T]),D)return Ae;T.async&&0<T.timeout&&(h=g.setTimeout(function(){Ae.abort("timeout")},T.timeout));try{D=!1,r.send(ut,Rn)}catch(ze){if(D)throw ze;Rn(-1,ze)}}else Rn(-1,"No Transport");function Rn(ze,et,ri,Ri){var sn,ai,Cn,kn,Xn,Ut=et;D||(D=!0,h&&g.clearTimeout(h),r=void 0,c=Ri||"",Ae.readyState=0<ze?4:0,sn=200<=ze&&ze<300||ze===304,ri&&(kn=function(dt,at,At){for(var Fn,Tt,ue,nt,it=dt.contents,Be=dt.dataTypes;Be[0]==="*";)Be.shift(),Fn===void 0&&(Fn=dt.mimeType||at.getResponseHeader("Content-Type"));if(Fn){for(Tt in it)if(it[Tt]&&it[Tt].test(Fn)){Be.unshift(Tt);break}}if(Be[0]in At)ue=Be[0];else{for(Tt in At){if(!Be[0]||dt.converters[Tt+" "+Be[0]]){ue=Tt;break}nt||(nt=Tt)}ue=ue||nt}if(ue)return ue!==Be[0]&&Be.unshift(ue),At[ue]}(T,Ae,ri)),!sn&&-1<o.inArray("script",T.dataTypes)&&o.inArray("json",T.dataTypes)<0&&(T.converters["text script"]=function(){}),kn=function(dt,at,At,Fn){var Tt,ue,nt,it,Be,ln={},Qn=dt.dataTypes.slice();if(Qn[1])for(nt in dt.converters)ln[nt.toLowerCase()]=dt.converters[nt];for(ue=Qn.shift();ue;)if(dt.responseFields[ue]&&(At[dt.responseFields[ue]]=at),!Be&&Fn&&dt.dataFilter&&(at=dt.dataFilter(at,dt.dataType)),Be=ue,ue=Qn.shift()){if(ue==="*")ue=Be;else if(Be!=="*"&&Be!==ue){if(!(nt=ln[Be+" "+ue]||ln["* "+ue])){for(Tt in ln)if((it=Tt.split(" "))[1]===ue&&(nt=ln[Be+" "+it[0]]||ln["* "+it[0]])){nt===!0?nt=ln[Tt]:ln[Tt]!==!0&&(ue=it[0],Qn.unshift(it[1]));break}}if(nt!==!0)if(nt&&dt.throws)at=nt(at);else try{at=nt(at)}catch(hi){return{state:"parsererror",error:nt?hi:"No conversion from "+Be+" to "+ue}}}}return{state:"success",data:at}}(T,kn,Ae,sn),sn?(T.ifModified&&((Xn=Ae.getResponseHeader("Last-Modified"))&&(o.lastModified[l]=Xn),(Xn=Ae.getResponseHeader("etag"))&&(o.etag[l]=Xn)),ze===204||T.type==="HEAD"?Ut="nocontent":ze===304?Ut="notmodified":(Ut=kn.state,ai=kn.data,sn=!(Cn=kn.error))):(Cn=Ut,!ze&&Ut||(Ut="error",ze<0&&(ze=0))),Ae.status=ze,Ae.statusText=(et||Ut)+"",sn?he.resolveWith(P,[ai,Ut,Ae]):he.rejectWith(P,[Ae,Ut,Cn]),Ae.statusCode(tt),tt=void 0,O&&oe.trigger(sn?"ajaxSuccess":"ajaxError",[Ae,T,sn?ai:Cn]),pe.fireWith(P,[Ae,Ut]),O&&(oe.trigger("ajaxComplete",[Ae,T]),--o.active||o.event.trigger("ajaxStop")))}return Ae},getJSON:function(t,n,r){return o.get(t,n,r,"json")},getScript:function(t,n){return o.get(t,void 0,n,"script")}}),o.each(["get","post"],function(t,n){o[n]=function(r,l,c,d){return ae(l)&&(d=d||c,c=l,l=void 0),o.ajax(o.extend({url:r,type:n,dataType:d,data:l,success:c},o.isPlainObject(r)&&r))}}),o.ajaxPrefilter(function(t){var n;for(n in t.headers)n.toLowerCase()==="content-type"&&(t.contentType=t.headers[n]||"")}),o._evalUrl=function(t,n,r){return o.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(l){o.globalEval(l,n,r)}})},o.fn.extend({wrapAll:function(t){var n;return this[0]&&(ae(t)&&(t=t.call(this[0])),n=o(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&n.insertBefore(this[0]),n.map(function(){for(var r=this;r.firstElementChild;)r=r.firstElementChild;return r}).append(this)),this},wrapInner:function(t){return ae(t)?this.each(function(n){o(this).wrapInner(t.call(this,n))}):this.each(function(){var n=o(this),r=n.contents();r.length?r.wrapAll(t):n.append(t)})},wrap:function(t){var n=ae(t);return this.each(function(r){o(this).wrapAll(n?t.call(this,r):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){o(this).replaceWith(this.childNodes)}),this}}),o.expr.pseudos.hidden=function(t){return!o.expr.pseudos.visible(t)},o.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},o.ajaxSettings.xhr=function(){try{return new g.XMLHttpRequest}catch{}};var Lr={0:200,1223:204},ii=o.ajaxSettings.xhr();se.cors=!!ii&&"withCredentials"in ii,se.ajax=ii=!!ii,o.ajaxTransport(function(t){var n,r;if(se.cors||ii&&!t.crossDomain)return{send:function(l,c){var d,h=t.xhr();if(h.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(d in t.xhrFields)h[d]=t.xhrFields[d];for(d in t.mimeType&&h.overrideMimeType&&h.overrideMimeType(t.mimeType),t.crossDomain||l["X-Requested-With"]||(l["X-Requested-With"]="XMLHttpRequest"),l)h.setRequestHeader(d,l[d]);n=function(C){return function(){n&&(n=r=h.onload=h.onerror=h.onabort=h.ontimeout=h.onreadystatechange=null,C==="abort"?h.abort():C==="error"?typeof h.status!="number"?c(0,"error"):c(h.status,h.statusText):c(Lr[h.status]||h.status,h.statusText,(h.responseType||"text")!=="text"||typeof h.responseText!="string"?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=n(),r=h.onerror=h.ontimeout=n("error"),h.onabort!==void 0?h.onabort=r:h.onreadystatechange=function(){h.readyState===4&&g.setTimeout(function(){n&&r()})},n=n("abort");try{h.send(t.hasContent&&t.data||null)}catch(C){if(n)throw C}},abort:function(){n&&n()}}}),o.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),o.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return o.globalEval(t),t}}}),o.ajaxPrefilter("script",function(t){t.cache===void 0&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),o.ajaxTransport("script",function(t){var n,r;if(t.crossDomain||t.scriptAttrs)return{send:function(l,c){n=o("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",r=function(d){n.remove(),r=null,d&&c(d.type==="error"?404:200,d.type)}),le.head.appendChild(n[0])},abort:function(){r&&r()}}});var fr,hr=[],ji=/(=)\?(?=&|$)|\?\?/;o.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=hr.pop()||o.expando+"_"+fi.guid++;return this[t]=!0,t}}),o.ajaxPrefilter("json jsonp",function(t,n,r){var l,c,d,h=t.jsonp!==!1&&(ji.test(t.url)?"url":typeof t.data=="string"&&(t.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&ji.test(t.data)&&"data");if(h||t.dataTypes[0]==="jsonp")return l=t.jsonpCallback=ae(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,h?t[h]=t[h].replace(ji,"$1"+l):t.jsonp!==!1&&(t.url+=(zi.test(t.url)?"&":"?")+t.jsonp+"="+l),t.converters["script json"]=function(){return d||o.error(l+" was not called"),d[0]},t.dataTypes[0]="json",c=g[l],g[l]=function(){d=arguments},r.always(function(){c===void 0?o(g).removeProp(l):g[l]=c,t[l]&&(t.jsonpCallback=n.jsonpCallback,hr.push(l)),d&&ae(c)&&c(d[0]),d=c=void 0}),"script"}),se.createHTMLDocument=((fr=le.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",fr.childNodes.length===2),o.parseHTML=function(t,n,r){return typeof t!="string"?[]:(typeof n=="boolean"&&(r=n,n=!1),n||(se.createHTMLDocument?((l=(n=le.implementation.createHTMLDocument("")).createElement("base")).href=le.location.href,n.head.appendChild(l)):n=le),d=!r&&[],(c=Qe.exec(t))?[n.createElement(c[1])]:(c=S([t],n,d),d&&d.length&&o(d).remove(),o.merge([],c.childNodes)));var l,c,d},o.fn.load=function(t,n,r){var l,c,d,h=this,C=t.indexOf(" ");return-1<C&&(l=We(t.slice(C)),t=t.slice(0,C)),ae(n)?(r=n,n=void 0):n&&typeof n=="object"&&(c="POST"),0<h.length&&o.ajax({url:t,type:c||"GET",dataType:"html",data:n}).done(function(D){d=arguments,h.html(l?o("<div>").append(o.parseHTML(D)).find(l):D)}).always(r&&function(D,O){h.each(function(){r.apply(this,d||[D.responseText,O,D])})}),this},o.expr.pseudos.animated=function(t){return o.grep(o.timers,function(n){return t===n.elem}).length},o.offset={setOffset:function(t,n,r){var l,c,d,h,C,D,O=o.css(t,"position"),F=o(t),N={};O==="static"&&(t.style.position="relative"),C=F.offset(),d=o.css(t,"top"),D=o.css(t,"left"),(O==="absolute"||O==="fixed")&&-1<(d+D).indexOf("auto")?(h=(l=F.position()).top,c=l.left):(h=parseFloat(d)||0,c=parseFloat(D)||0),ae(n)&&(n=n.call(t,r,o.extend({},C))),n.top!=null&&(N.top=n.top-C.top+h),n.left!=null&&(N.left=n.left-C.left+c),"using"in n?n.using.call(t,N):F.css(N)}},o.fn.extend({offset:function(t){if(arguments.length)return t===void 0?this:this.each(function(c){o.offset.setOffset(this,t,c)});var n,r,l=this[0];return l?l.getClientRects().length?(n=l.getBoundingClientRect(),r=l.ownerDocument.defaultView,{top:n.top+r.pageYOffset,left:n.left+r.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,n,r,l=this[0],c={top:0,left:0};if(o.css(l,"position")==="fixed")n=l.getBoundingClientRect();else{for(n=this.offset(),r=l.ownerDocument,t=l.offsetParent||r.documentElement;t&&(t===r.body||t===r.documentElement)&&o.css(t,"position")==="static";)t=t.parentNode;t&&t!==l&&t.nodeType===1&&((c=o(t).offset()).top+=o.css(t,"borderTopWidth",!0),c.left+=o.css(t,"borderLeftWidth",!0))}return{top:n.top-c.top-o.css(l,"marginTop",!0),left:n.left-c.left-o.css(l,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&o.css(t,"position")==="static";)t=t.offsetParent;return t||Xt})}}),o.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r=n==="pageYOffset";o.fn[t]=function(l){return St(this,function(c,d,h){var C;if(be(c)?C=c:c.nodeType===9&&(C=c.defaultView),h===void 0)return C?C[n]:c[d];C?C.scrollTo(r?C.pageXOffset:h,r?h:C.pageYOffset):c[d]=h},t,l,arguments.length)}}),o.each(["top","left"],function(t,n){o.cssHooks[n]=Vn(se.pixelPosition,function(r,l){if(l)return l=Dn(r,n),bn.test(l)?o(r).position()[n]+"px":l})}),o.each({Height:"height",Width:"width"},function(t,n){o.each({padding:"inner"+t,content:n,"":"outer"+t},function(r,l){o.fn[l]=function(c,d){var h=arguments.length&&(r||typeof c!="boolean"),C=r||(c===!0||d===!0?"margin":"border");return St(this,function(D,O,F){var N;return be(D)?l.indexOf("outer")===0?D["inner"+t]:D.document.documentElement["client"+t]:D.nodeType===9?(N=D.documentElement,Math.max(D.body["scroll"+t],N["scroll"+t],D.body["offset"+t],N["offset"+t],N["client"+t])):F===void 0?o.css(D,O,C):o.style(D,O,F,C)},n,h?c:void 0,h)}})}),o.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,n){o.fn[n]=function(r){return this.on(n,r)}}),o.fn.extend({bind:function(t,n,r){return this.on(t,null,n,r)},unbind:function(t,n){return this.off(t,null,n)},delegate:function(t,n,r,l){return this.on(n,t,r,l)},undelegate:function(t,n,r){return arguments.length===1?this.off(t,"**"):this.off(n,t||"**",r)},hover:function(t,n){return this.on("mouseenter",t).on("mouseleave",n||t)}}),o.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,n){o.fn[n]=function(r,l){return 0<arguments.length?this.on(n,null,r,l):this.trigger(n)}});var Pr=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;o.proxy=function(t,n){var r,l,c;if(typeof n=="string"&&(r=t[n],n=t,t=r),ae(t))return l=I.call(arguments,2),(c=function(){return t.apply(n||this,l.concat(I.call(arguments)))}).guid=t.guid=t.guid||o.guid++,c},o.holdReady=function(t){t?o.readyWait++:o.ready(!0)},o.isArray=Array.isArray,o.parseJSON=JSON.parse,o.nodeName=W,o.isFunction=ae,o.isWindow=be,o.camelCase=st,o.type=ct,o.now=Date.now,o.isNumeric=function(t){var n=o.type(t);return(n==="number"||n==="string")&&!isNaN(t-parseFloat(t))},o.trim=function(t){return t==null?"":(t+"").replace(Pr,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return o});var qr=g.jQuery,jr=g.$;return o.noConflict=function(t){return g.$===o&&(g.$=jr),t&&g.jQuery===o&&(g.jQuery=qr),o},typeof a>"u"&&(g.jQuery=g.$=o),o})});var Ir=Wi((ir,rr)=>{(function(g,a){typeof ir=="object"&&typeof rr<"u"?rr.exports=a():typeof define=="function"&&define.amd?define(a):(g=typeof globalThis<"u"?globalThis:g||self,g.monthSelectPlugin=a())})(ir,function(){"use strict";var g=function(){return g=Object.assign||function(G){for(var A,ye=1,$e=arguments.length;ye<$e;ye++){A=arguments[ye];for(var Ye in A)Object.prototype.hasOwnProperty.call(A,Ye)&&(G[Ye]=A[Ye])}return G},g.apply(this,arguments)},a=function(V,G,A){return A.months[G?"shorthand":"longhand"][V]};function e(V){for(;V.firstChild;)V.removeChild(V.firstChild)}function _(V){try{if(typeof V.composedPath=="function"){var G=V.composedPath();return G[0]}return V.target}catch{return V.target}}var I={shorthand:!1,dateFormat:"F Y",altFormat:"F Y",theme:"light"};function R(V){var G=g(g({},I),V);return function(A){A.config.dateFormat=G.dateFormat,A.config.altFormat=G.altFormat;var ye={monthsContainer:null};function $e(){if(A.rContainer){e(A.rContainer);for(var W=0;W<A.monthElements.length;W++){var Oe=A.monthElements[W];Oe.parentNode&&Oe.parentNode.removeChild(Oe)}}}function Ye(){A.rContainer&&(ye.monthsContainer=A._createElement("div","flatpickr-monthSelect-months"),ye.monthsContainer.tabIndex=-1,Xe(),A.rContainer.appendChild(ye.monthsContainer),A.calendarContainer.classList.add("flatpickr-monthSelect-theme-"+G.theme))}function Xe(){if(ye.monthsContainer){e(ye.monthsContainer);for(var W=document.createDocumentFragment(),Oe=0;Oe<12;Oe++){var ke=A.createDay("flatpickr-monthSelect-month",new Date(A.currentYear,Oe),0,Oe);ke.dateObj.getMonth()===new Date().getMonth()&&ke.dateObj.getFullYear()===new Date().getFullYear()&&ke.classList.add("today"),ke.textContent=a(Oe,G.shorthand,A.l10n),ke.addEventListener("click",le),W.appendChild(ke)}ye.monthsContainer.appendChild(W),A.config.minDate&&A.currentYear===A.config.minDate.getFullYear()?A.prevMonthNav.classList.add("flatpickr-disabled"):A.prevMonthNav.classList.remove("flatpickr-disabled"),A.config.maxDate&&A.currentYear===A.config.maxDate.getFullYear()?A.nextMonthNav.classList.add("flatpickr-disabled"):A.nextMonthNav.classList.remove("flatpickr-disabled")}}function se(){A._bind(A.prevMonthNav,"click",function(W){W.preventDefault(),W.stopPropagation(),A.changeYear(A.currentYear-1),be(),Xe()}),A._bind(A.nextMonthNav,"click",function(W){W.preventDefault(),W.stopPropagation(),A.changeYear(A.currentYear+1),be(),Xe()}),A._bind(ye.monthsContainer,"mouseover",function(W){A.config.mode==="range"&&A.onMouseOver(_(W),"flatpickr-monthSelect-month")})}function ae(){if(A.rContainer&&A.selectedDates.length){for(var W=A.rContainer.querySelectorAll(".flatpickr-monthSelect-month.selected"),Oe=0;Oe<W.length;Oe++)W[Oe].classList.remove("selected");var ke=A.selectedDates[0].getMonth(),pt=A.rContainer.querySelector(".flatpickr-monthSelect-month:nth-child("+(ke+1)+")");pt&&pt.classList.add("selected")}}function be(){var W=A.selectedDates[0];if(W&&(W=new Date(W),W.setFullYear(A.currentYear),A.config.minDate&&W<A.config.minDate&&(W=A.config.minDate),A.config.maxDate&&W>A.config.maxDate&&(W=A.config.maxDate),A.currentYear=W.getFullYear()),A.currentYearElement.value=String(A.currentYear),A.rContainer){var Oe=A.rContainer.querySelectorAll(".flatpickr-monthSelect-month");Oe.forEach(function(ke){ke.dateObj.setFullYear(A.currentYear),A.config.minDate&&ke.dateObj<A.config.minDate||A.config.maxDate&&ke.dateObj>A.config.maxDate?ke.classList.add("flatpickr-disabled"):ke.classList.remove("flatpickr-disabled")})}ae()}function le(W){W.preventDefault(),W.stopPropagation();var Oe=_(W);if(Oe instanceof Element&&!Oe.classList.contains("flatpickr-disabled")&&!Oe.classList.contains("notAllowed")&&(Gt(Oe.dateObj),A.config.closeOnSelect)){var ke=A.config.mode==="single",pt=A.config.mode==="range"&&A.selectedDates.length===2;(ke||pt)&&A.close()}}function Gt(W){var Oe=new Date(A.currentYear,W.getMonth(),W.getDate()),ke=[];switch(A.config.mode){case"single":ke=[Oe];break;case"multiple":ke.push(Oe);break;case"range":A.selectedDates.length===2?ke=[Oe]:(ke=A.selectedDates.concat([Oe]),ke.sort(function(pt,_e){return pt.getTime()-_e.getTime()}));break}A.setDate(ke,!0),ae()}var ht={37:-1,39:1,40:3,38:-3};function ct(W,Oe,ke,pt){var _e=ht[pt.keyCode]!==void 0;if(!(!_e&&pt.keyCode!==13)&&!(!A.rContainer||!ye.monthsContainer)){var gt=A.rContainer.querySelector(".flatpickr-monthSelect-month.selected"),un=Array.prototype.indexOf.call(ye.monthsContainer.children,document.activeElement);if(un===-1){var Ht=gt||ye.monthsContainer.firstElementChild;Ht.focus(),un=Ht.$i}_e?ye.monthsContainer.children[(12+un+ht[pt.keyCode])%12].focus():pt.keyCode===13&&ye.monthsContainer.contains(document.activeElement)&&Gt(document.activeElement.dateObj)}}function kt(){var W;((W=A.config)===null||W===void 0?void 0:W.mode)==="range"&&A.selectedDates.length===1&&A.clear(!1),A.selectedDates.length||Xe()}function en(){G._stubbedCurrentMonth=A._initialDate.getMonth(),A._initialDate.setMonth(G._stubbedCurrentMonth),A.currentMonth=G._stubbedCurrentMonth}function o(){G._stubbedCurrentMonth&&(A._initialDate.setMonth(G._stubbedCurrentMonth),A.currentMonth=G._stubbedCurrentMonth,delete G._stubbedCurrentMonth)}function Ft(){if(ye.monthsContainer!==null)for(var W=ye.monthsContainer.querySelectorAll(".flatpickr-monthSelect-month"),Oe=0;Oe<W.length;Oe++)W[Oe].removeEventListener("click",le)}return{onParseConfig:function(){A.config.enableTime=!1},onValueUpdate:ae,onKeyDown:ct,onReady:[en,$e,Ye,se,ae,function(){A.config.onClose.push(kt),A.loadedPlugins.push("monthSelect")}],onDestroy:[o,Ft,function(){A.config.onClose=A.config.onClose.filter(function(W){return W!==kt})}]}}}return R})});var Ki=class{constructor(a=""){this.baseUrl=a}async saveOrganizations(a=new FormData($("#newOrganizationDetailsForm")[0])){let e=await fetch("/Organization/SaveOrganizationDetails",{method:"POST",body:a});if(!e.ok)throw new Error(`HTTP ${e.status}: ${e.statusText}`);return await e.json()}async request(a,e={}){try{let _=await fetch(this.baseUrl+a,{...e,headers:{"Content-Type":"application/json",...e.headers}});if(!_.ok)throw new Error(`HTTP ${_.status}: ${_.statusText}`);return await _.json()}catch(_){throw console.error("API Error:",_),error}}async getContacts(a){return this.request(`/Organization/GetContacts?organizationId=${a}`)}async getAddresses(a){return this.request(`/Organization/GetAddresses?organizationId=${a}`)}async getFinancials(a){return this.request(`/Organization/GetFinancials?organizationId=${a}`)}async getFinancialDocuments(a){return this.request(`/Organization/GetFinancialDocuments?financialInformationId=${a}`)}async getAssessments(a){return this.request(`/Organization/GetAssessments?organizationID=${a}`)}async getAssessmentDetail(a,e){return this.request(`/Organization/GetAssessmentDetails?assessmentID=${a}&organizationID=${e}`)}async newAssessmentForm(a){return this.request(`/Organization/NewAssessmentForm?organizationID=${a}`)}async saveAssessment(a){let e=await fetch("/Organization/SaveAssessment",{method:"POST",body:a});if(!e.ok){let _=await e.text();throw console.error("response status: ",e.status),console.error("response error: ",e.error),new Error(_)}return e.json()}async deleteAssessment(a){if(!(await fetch(`/Organization/DeleteAssessment?assessmentID=${a}`,{method:"GET"})).ok)throw new Error("Failed to delete assessment")}async deleteGiftSchedule(a,e){$("#GiftDetail_Gift_GiftID").val(a),$("#GiftDetail_GiftSchedule_GiftScheduleID").val(e);let _=$("#giftDetailForm");if(!_.length){console.error("Gift form not found");return}validationService.validateForm(_[0],async I=>{try{let R=new FormData(_[0]),G=await(await fetch("/Organization/SaveGiftForm",{method:"POST",body:R})).json();Ve.saveOrganizations()}catch(R){console.error("Failed to save gift:",R)}finally{$("#blockApplicationDialog").modal("hide")}})}},Ve=new Ki;var Wt=class{constructor(){this.errors={}}required(a,e,_){return!a||a.trim()===""?(this.errors[_]=`${e} is required`,!1):!0}min(a,e,_,I){return parseFloat(a)<e||!a?(this.errors[I||_]=`${_} must have a value`,!1):!0}max(a,e,_,I){return parseFloat(a)>e?(this.errors[I||_]=`${_} cannot exceed ${e}`,!1):!0}email(a,e,_){return a&&!/^[^\s@]+@[^\s@]+\.[^\@]+$/.test(a)?(this.errors[_||e]="Invalid email format",!1):!0}validate(a){this.errors={};let e=!0;for(let[_,I]of Object.entries(a))for(let R of I)if(!R.validator()){e=!1;break}return e}showErrors(a){$(a).find(".field-validation-error").empty().removeClass("field-validation-error"),$(a).find(".input-validation-error").removeClass("input-validation-error");for(let[e,_]of Object.entries(this.errors)){let I=$(a).find(`[name="${e}"]`);I.addClass("input-validation-error"),I.siblings(".field-validation-valid").removeClass("field-validation-valid").addClass("field-validation-error").text(_)}}};var Xi=class{constructor(){this.initialStates=new Map,this.formSelectors={assessment:"#assessmentForm",request:"#requestDetailForm",gift:"#giftDetailForm",organization:"#newOrganizationDetailsForm"},this.customStateCapturers=new Map,this.setupBeforeUnloadWarning()}registerCustomCapturer(a,e){this.customStateCapturers.set(a,e)}captureFormState(a){if(this.customStateCapturers.has(a)){let G=this.customStateCapturers.get(a)();this.initialStates.set(a,G);return}let e=this.formSelectors[a],_=$(e)[0];if(!_){this.initialStates.set(a,null);return}let I=new FormData(_),R=new URLSearchParams(I).toString();this.initialStates.set(a,R)}getCurrentFormState(a){let e=this.formSelectors[a],_=$(e)[0];if(!_)return null;let I=new FormData(_);return new URLSearchParams(I).toString()}captureAssessmentState(){let a={requestDate:$("#requestDate").val()||"",assessmentNote:$("#assessmentNote").val()||"",scores:[]};return $(".score-input").each(function(){let e=$(this).data("categoryid"),_=$(`input.score-input[data-categoryid=${e}]:checked`).val(),I=$(`textarea.notes-input[data-categoryid=${e}]`).val()||"";a.scores.push({categoryId:e,score:_||"",notes:I})}),JSON.stringify(a)}isFormDirty(a){let e=this.initialStates.get(a),_;return a=="assessment"?_=this.captureAssessmentState():_=this.getCurrentFormState(a),e===null||_===null?!1:e!==_}getDirtyForms(a){let e=[];for(let[_,I]of this.initialStates)this.isFormDirty(_)&&e.push(_);return e}hasUnsavedChanges(){return this.getDirtyForms().length>0}confirmNavigation(a=!1){console.trace("confirming navigation");let e=this.getDirtyForms().filter(V=>!(a&&V==="organization"));if(e.length===0)return!0;let _=e.map((V,G)=>G===0?V:G===e.length-1?` and ${V}`:`, ${V}`).join(""),I=e.length>1?"forms":"form",R=`You have unsaved changes in the ${_} ${I}. Do you want to discard these changes?`;return confirm(R)}resetFormState(a){this.captureFormState(a)}clearAllStates(){this.initialStates.clear()}clearSpecificState(a){this.initialStates.delete(a)}setupBeforeUnloadWarning(){window.addEventListener("beforeunload",a=>{if(this.hasUnsavedChanges())return a.preventDefault(),a.returnValue,""})}withUnsavedCheck(a,e=!1){return(..._)=>this.confirmNavigation(e)?a(..._):!1}},Ke=new Xi;var yi=Vi(br()),bi=class{constructor(a){this.form=$(a),this.forms=this.serializeForms(),this.organizationId=$("#OrganizationDetails_Organization_OrganizationID").val(),this.initialState=this.serialize(),this.initializePlugins(),this.setupEventHandlers()}getOrganizationId(){return this.organizationId}serializeForms(){return[new URLSearchParams(new FormData($("#giftDetailForm")[0])).toString(),new URLSearchParams(new FormData($("#requestDetailForm")[0])).toString(),new URLSearchParams(new FormData($("#newOrganizationDetailsForm")[0])).toString()]}serialize(){return new URLSearchParams(new FormData(this.form[0])).toString()}hasChanges(){return this.serialize()!==this.initialState}resetState(){this.initialState=this.serialize()}setupEventHandlers(){$("#saveOrganizationBtn").on("click",()=>this.save()),$("#ContentServer").on("click",()=>this.handleContentServer()),$("#OrganizationDetails_Organization_CategoryID").on("change",()=>{this.toggleCategoryOther()}),this.setupLogoUpload()}initializePlugins(){new yi.default(".Organization_CategoryID",{hideSelected:!0}),new yi.default(".PartnerTypeID",{hideSelected:!0}),new yi.default(".select_regions",{create:!1,plugins:{remove_button:{title:"Remove this item"},input_autogrow:{}},sortField:{field:"text",direction:"asc"}}),$("#RequestsTable").length&&new DataTable("#RequestsTable",{paging:!0,response:!1,autoWidth:!1,columnDefs:[{targets:0,searchable:!1,orderable:!1},{type:"month/year",targets:1}],order:[1]}),this.toggleCategoryOther()}toggleCategoryOther(){let a=parseInt($("#OrganizationDetails_Organization_CategoryID").data("other-id"));parseInt($("#OrganizationDetails_Organization_CategoryID").val())===a?$("#CategoryOtherOrganizationRow").show():($("#CategoryOtherOrganizationRow").hide(),$("#OrganizationDetails_Organization_CategoryOther").val(""))}setupLogoUpload(){window.addEventListener("paste",a=>{let e=a.clipboardData.files;if(e.length===0||!e[0].type.includes("image"))return;let _=document.getElementById("my_canvas");if(_){_.style.display="block";let I=document.querySelector("#OrganizationDetails_Organization_OrganizationLogo");I.files=e,this.previewImage(e[0],_)}})}previewImage(a,e){let _=new FileReader;_.onload=I=>{let R=new Image;R.onload=()=>{let V=e.getContext("2d");e.width=R.width,e.height=R.height,V.drawImage(R,0,0)},R.src=I.target.result},_.readAsDataURL(a)}async handleContentServer(){let a=$("#OrganizationDetails_Organization_CSFolderId").val(),e=$("#ContentServer").data("folder-url");if(parseInt(a)>0){let _=e.replace("{0}",a).replaceAll("amp","");window.open(decodeURI(_))}else $("#OrganizationDetails_ContentServer").val(!0),await this.save()}validate(){return!0}async save(a=!1){if(!this.validate())return!1;try{$("#OrganizationDetails_Address_Active").val($("#OrganizationDetails_Address_Active").prop("checked"));let e=new FormData($("#newOrganizationDetailsForm")[0]),_=await Ve.saveOrganizations(e),I=new URLSearchParams(_.url.replace("/organization?","")).get("OrganizationID");if(I&&I>0)window.location.href=_.url;else return this.showError("Unable to save as it would overwrite other changes. Please reload the page and try again."),!1}catch(e){return console.error("Failed to save organization:",e),this.showError("Failed to save organization. Please try again."),!1}}showSuccess(a){$("#success-message-p").text(a),$(".success-message").modal("show")}showError(a){$("#error-message-p").text(a),$(".error-message").modal("show")}checkForChanges(a){this.hasChanges()?confirm("You've changed the organization form. Would you like to ignore these changes?")&&a():a()}async loadRequest(a){try{let e=`/Organization/RequestFormPartial?requestID=${a}&organizationID=${this.organizationId}`,_=await fetch(e).then(I=>I.text());this.container.html(_),this.currentRequestId=a,this.initializeRequestForm()}catch(e){console.error("Failed to load request:",e),alert("Failed to load request")}}};var wi=Vi(wr());window.jQuery=wi.default;window.jquery=wi.default;window.$=wi.default;var Ci=class{constructor(a,e){this.table=$(a),this.organizationId=e,this.dataTable=null,this.setupEventHandlers()}render(a){this.dataTable&&this.dataTable.destroy(),this.dataTable=new DataTable(this.table[0],{data:a,columns:this.getColumns(),responsive:!0,autoWidth:!1,paging:!0,columnDefs:[{targets:0,searchable:!1,orderable:!1}],order:[[1,"asc"]]})}getColumns(){return[{data:null,render:a=>this.renderActionButtons(a)},{data:"contactName"},{data:"email"},{data:"cell"},{data:"contactTypeName"}]}setupEventHandlers(){$("#addEditContactBtn").on("click",()=>this.showModal()),$("#tab-Contacts-body").on("click","#editContactBtn",a=>{let e=$(a.currentTarget);this.showModal({contactId:e.data("contactId"),organizationId:e.data("organizationId"),contactName:e.data("contactName"),cell:e.data("cell"),office:e.data("office"),email:e.data("email"),contactTypeId:e.data("contactTypeId"),contactTypeName:e.data("contactTypeName"),contactNotes:e.data("contactNotes"),lastChangeUser:e.data("lastChangeUser"),lastChangeDttm:e.data("lastChangeDttm")})}),$("#tab-Contacts-body").on("click",".delete-contact-btn",async a=>{let e=$(a.currentTarget).data("contactId");$("#OrganizationDetails_DeleteContact").val(!0),$("#OrganizationDetails_Contact_ContactID").val(e),await this.delete()}),$("#saveContactBtn").on("click",async a=>{$("#OrganizationDetails_SaveContact").val(!0),this.save()}),$("#addEditContactModal").on("hidden.bs.modal",()=>this.clearForm())}renderActionButtons(a){return`
            <button class="btn btn-primary" id="editContactBtn"
                data-contact-id="${a.contactID}"
                data-organization-id="${a.organizationID}"
                data-contact-name="${a.contactName||""}"
                data-email="${a.email||""}"
                data-cell="${a.cell||""}"
                data-office="${a.office||""}"
                data-contact-notes="${a.contactNotes||""}"
                data-contact-type-id="${a.contactTypeID}"
                data-contact-type-name="${a.contactTypeName}"
                data-last-change-user="${a.lastChangeUser}"
                data-last-change-dttm="${a.lastChangeDttm}">
                <i class="fa fa-edit"></i>
            </button>
            <button class="btn btn-danger delete-contact-btn" data-contact-id="${a.contactID}">
                <i class="fa fa-trash"></i>
            </button>
        `}validate(){let a=new Wt,e=$("#OrganizationDetails_Contact_ContactName").val(),_=$("#OrganizationDetails_Contact_ContactTypeID").val(),I=a.validate({"OrganizationDetails.Contact.ContactName":[{validator:()=>a.required(e,"Contact Name","OrganizationDetails.Contact.ContactName")}],"OrganizationDetails.Contact.ContactTypeID":[{validator:()=>a.required(_,"Contact Type","OrganizationDetails.Contact.ContactTypeID")}]});return I||a.showErrors("#addEditContactModal"),I}async delete(a){if(confirm("Are you sure you want to delete this contact?"))try{this.save(!0)}catch(e){console.error("Failed to delete contact",e),alert("Failed to delete contact")}}async load(){let a=await Ve.getContacts(this.organizationId);this.render(a)}async save(a){if(!(!a&&!this.validate()))try{let e=$("#newOrganizationDetailsForm");validationService.validateForm(e[0],async()=>{let _=new FormData(e[0]),I=await Ve.saveOrganizations(_);window.location.href=I.url,$("#addEditContactModal").modal("hide")})}catch(e){console.error("Failed to save contact:",e),alert("Failed to save contact")}}showModal(a=null){a?($("#OrganizationDetails_Contact_ContactID").val(a.contactId),$("#OrganizationDetails_Contact_OrganizationID").val(a.organizationId),$("#OrganizationDetails_Contact_ContactName").val(a.contactName),$("#OrganizationDetails_Contact_Cell").val(a.cell),$("#OrganizationDetails_Contact_Email").val(a.email),$("#OrganizationDetails_Contact_Office").val(a.office),$("#OrganizationDetails_Contact_ContactTypeID").val(a.contactTypeId),$("#OrganizationDetails_Contact_ContactNotes").val(a.contactNotes),a.lastChangeUser&&($("#lastChangedContact").show(),$("#lastChangedContact #OrganizationDetails_Contact_LastChangeUser").text(a.lastChangeUser),$("#lastChangedContact #OrganizationDetails_Contact_LastChangeDttm").text(a.lastChangeDttm))):this.clearForm(),$("#addEditContactModal").modal("show")}clearForm(){$("#OrganizationDetails_Contact_ContactID").val(0),$("#OrganizationDetails_Contact_OrganizationID").val(this.organizationId),$("#OrganizationDetails_Contact_ContactName").val(""),$("#OrganizationDetails_Contact_Cell").val(""),$("#OrganizationDetails_Contact_Email").val(""),$("#OrganizationDetails_Contact_Office").val(""),$("#OrganizationDetails_Contact_ContactTypeID").val(0),$("#OrganizationDetails_Contact_ContactNotes").val(""),$("#lastChangedContact").hide()}};var _i=class{constructor(a,e){this.table=$(a),this.organizationId=e,this.dataTable=null,this.setupEventHandlers()}setupEventHandlers(){$("#addEditAddressBtn").on("click",()=>this.showModal()),$("#tab-Addresses-body").on("click","#editAddressBtn",a=>{let e=$(a.currentTarget);this.showModal({addressID:e.data("addressid"),organizationID:e.data("organizationid"),attnLine:e.data("attnline"),address1:e.data("address1"),address2:e.data("address2"),city:e.data("city"),state:e.data("state"),zipCode:e.data("zipcode"),countryID:e.data("countryid"),active:e.data("active"),lastChangeUser:e.data("lastchangeuser"),lastChangeDttm:e.data("lastchangedttm")})}),$("#tab-Addresses-body").on("click",".delete-address-btn",async a=>{$("#OrganizationDetails_Address_AddressID").val($(a.currentTarget).data("addressid")),$("#OrganizationDetails_DeleteAddress").val(!0),await this.delete()}),$("#addEditAddressModal").on("hidden.bs.modal",()=>this.clearForm()),$("#saveAddressBtn").on("click",async a=>{$("#OrganizationDetails_SaveAddress").val(!0),this.save()}),$("#OrganizationDetails_Address_Active").on("change",function(){$("#OrganizationDetails_Address_Active").val(this.checked)})}async load(){try{let a=await Ve.getAddresses(this.organizationId);this.render(a)}catch(a){console.error("Failed to load addresses:",a),alert("Failed to load addresses")}}render(a){this.dataTable&&this.dataTable.destroy(),this.dataTable=new DataTable(this.table[0],{destroy:!0,responsive:!1,autoWidth:!1,data:a,paging:!0,columns:this.getColumns(),columnDefs:[{targets:0,searchable:!1,orderable:!1}],order:[[1,"asc"]]})}getColumns(){return[{data:null,render:a=>this.renderActionButtons(a)},{data:"attnLine"},{data:"address1"},{data:"address2"},{data:"city"},{data:"state"},{data:"zipCode"},{data:"countryName"},{data:null,render:a=>a.active?"Active":"Inactive"}]}renderActionButtons(a){return $("#addresses-tab").data("has-edit-permissions")?`
            <button type="button"
                class="btn btn-primary"
                id="editAddressBtn"
                data-addressid="${a.addressID}"
                data-organizationid="${a.organizationID}"
                data-attnline="${a.attnLine||""}"
                data-address1="${a.address1||""}"
                data-address2="${a.address2||""}"
                data-city="${a.city||""}"
                data-state="${a.state||""}"
                data-zipcode="${a.zipCode||""}"
                data-countryid="${a.countryID||""}"
                data-active="${a.active}"
                data-lastchangeuser="${a.lastChangeUser}"
                data-lastchangedttm="${a.lastChangeDttm}"
            ><i class="fa fa-edit"></i></button>
            <button type="button"
                class="btn btn-danger mx-1 delete-address-btn"
                data-addressid="${a.addressID}"
            ><i class="fa fa-trash"></i></button>
        `:""}showModal(a=null){a?($("#OrganizationDetails_Address_AddressID").val(a.addressID),$("#OrganizationDetails_Address_OrganizationID").val(a.organizationID),$("#OrganizationDetails_Address_AttnLine").val(a.attnLine),$("#OrganizationDetails_Address_Address1").val(a.address1),$("#OrganizationDetails_Address_Address2").val(a.address2),$("#OrganizationDetails_Address_City").val(a.city),$("#OrganizationDetails_Address_State").val(a.state),$("#OrganizationDetails_Address_ZipCode").val(a.zipCode),$("#OrganizationDetails_Address_CountryID").val(a.countryID),$("#OrganizationDetails_Address_Active").prop("checked",a.active),$("#OrganizationDetails_Address_Active").val(a.active),$("#OrganizationDetails_Address_LastChangeUser").val(a.lastChangeUser),a.lastChangeUser&&($("#lastChangedAddress").show(),$("#lastChangedAddress #OrganizationDetails_Address_LastChangeUser").text(a.lastChangeUser),$("#lastChangedAddress #OrganizationDetails_Address_LastChangeDttm").text(a.lastChangeDttm))):this.clearForm(),$("#addEditAddressModal").modal("show")}clearForm(){$("#OrganizationDetails_Address_AddressID").val(0),$("#OrganizationDetails_Address_AttnLine").val(""),$("#OrganizationDetails_Address_Address1").val(""),$("#OrganizationDetails_Address_Address2").val(""),$("#OrganizationDetails_Address_City").val(""),$("#OrganizationDetails_Address_State").val(""),$("#OrganizationDetails_Address_ZipCode").val(""),$("#OrganizationDetails_Address_CountryID").val(0),$("#OrganizationDetails_Address_Active").prop("checked",!0),$("#lastChangedAddress").hide(),$(".field-validation-error").empty().removeClass("field-validation-error"),$(".input-validation-error").removeClass("input-validation-error")}validate(){let a=new Wt,e=$("#OrganizationDetails_Address_Address1").val(),_=$("#OrganizationDetails_Address_CountryID").val(),I=a.validate({"OrganizationDetails.Address.Address1":[{validator:()=>a.required(e,"Address 1","OrganizationDetails.Address.Address1")}],"OrganizationDetails.Address.CountryID":[{validator:()=>a.min(_,1,"Country","OrganizationDetails.Address.CountryID")}]});return I||a.showErrors("#addEditAddressModal"),I}async save(a){if(!(!a&&!this.validate()))try{let e=$("#newOrganizationDetailsForm");validationService.validateForm(e[0],async()=>{let _=new FormData(e[0]),I=await Ve.saveOrganizations(_);window.location.href=I.url,$("#addEditAddressModal").modal("hide")})}catch(e){console.error("Failed to save address:",e),alert("Failed to save address")}}async delete(){if(confirm("Are you sure you want to delete this address?"))try{await this.save(!0)}catch(a){console.error("Failed to delete address",a),alert("Failed to delete address")}}};var xi=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Mn={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(g){return typeof console<"u"&&console.warn(g)},getWeek:function(g){var a=new Date(g.getTime());a.setHours(0,0,0,0),a.setDate(a.getDate()+3-(a.getDay()+6)%7);var e=new Date(a.getFullYear(),0,4);return 1+Math.round(((a.getTime()-e.getTime())/864e5-3+(e.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1};var Si={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(g){var a=g%100;if(a>3&&a<21)return"th";switch(a%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},Oi=Si;var wt=function(g,a){return a===void 0&&(a=2),("000"+g).slice(a*-1)},Nt=function(g){return g===!0?1:0};function Zi(g,a){var e;return function(){var _=this,I=arguments;clearTimeout(e),e=setTimeout(function(){return g.apply(_,I)},a)}}var Ii=function(g){return g instanceof Array?g:[g]};function Ct(g,a,e){if(e===!0)return g.classList.add(a);g.classList.remove(a)}function qe(g,a,e){var _=window.document.createElement(g);return a=a||"",e=e||"",_.className=a,e!==void 0&&(_.textContent=e),_}function si(g){for(;g.firstChild;)g.removeChild(g.firstChild)}function er(g,a){if(a(g))return g;if(g.parentNode)return er(g.parentNode,a)}function li(g,a){var e=qe("div","numInputWrapper"),_=qe("input","numInput "+g),I=qe("span","arrowUp"),R=qe("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?_.type="number":(_.type="text",_.pattern="\\d*"),a!==void 0)for(var V in a)_.setAttribute(V,a[V]);return e.appendChild(_),e.appendChild(I),e.appendChild(R),e}function Lt(g){try{if(typeof g.composedPath=="function"){var a=g.composedPath();return a[0]}return g.target}catch{return g.target}}var tr=function(){},ci=function(g,a,e){return e.months[a?"shorthand":"longhand"][g]},Cr={D:tr,F:function(g,a,e){g.setMonth(e.months.longhand.indexOf(a))},G:function(g,a){g.setHours((g.getHours()>=12?12:0)+parseFloat(a))},H:function(g,a){g.setHours(parseFloat(a))},J:function(g,a){g.setDate(parseFloat(a))},K:function(g,a,e){g.setHours(g.getHours()%12+12*Nt(new RegExp(e.amPM[1],"i").test(a)))},M:function(g,a,e){g.setMonth(e.months.shorthand.indexOf(a))},S:function(g,a){g.setSeconds(parseFloat(a))},U:function(g,a){return new Date(parseFloat(a)*1e3)},W:function(g,a,e){var _=parseInt(a),I=new Date(g.getFullYear(),0,2+(_-1)*7,0,0,0,0);return I.setDate(I.getDate()-I.getDay()+e.firstDayOfWeek),I},Y:function(g,a){g.setFullYear(parseFloat(a))},Z:function(g,a){return new Date(a)},d:function(g,a){g.setDate(parseFloat(a))},h:function(g,a){g.setHours((g.getHours()>=12?12:0)+parseFloat(a))},i:function(g,a){g.setMinutes(parseFloat(a))},j:function(g,a){g.setDate(parseFloat(a))},l:tr,m:function(g,a){g.setMonth(parseFloat(a)-1)},n:function(g,a){g.setMonth(parseFloat(a)-1)},s:function(g,a){g.setSeconds(parseFloat(a))},u:function(g,a){return new Date(parseFloat(a))},w:tr,y:function(g,a){g.setFullYear(2e3+parseFloat(a))}},_n={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},Jn={Z:function(g){return g.toISOString()},D:function(g,a,e){return a.weekdays.shorthand[Jn.w(g,a,e)]},F:function(g,a,e){return ci(Jn.n(g,a,e)-1,!1,a)},G:function(g,a,e){return wt(Jn.h(g,a,e))},H:function(g){return wt(g.getHours())},J:function(g,a){return a.ordinal!==void 0?g.getDate()+a.ordinal(g.getDate()):g.getDate()},K:function(g,a){return a.amPM[Nt(g.getHours()>11)]},M:function(g,a){return ci(g.getMonth(),!0,a)},S:function(g){return wt(g.getSeconds())},U:function(g){return g.getTime()/1e3},W:function(g,a,e){return e.getWeek(g)},Y:function(g){return wt(g.getFullYear(),4)},d:function(g){return wt(g.getDate())},h:function(g){return g.getHours()%12?g.getHours()%12:12},i:function(g){return wt(g.getMinutes())},j:function(g){return g.getDate()},l:function(g,a){return a.weekdays.longhand[g.getDay()]},m:function(g){return wt(g.getMonth()+1)},n:function(g){return g.getMonth()+1},s:function(g){return g.getSeconds()},u:function(g){return g.getTime()},w:function(g){return g.getDay()},y:function(g){return String(g.getFullYear()).substring(2)}};var nr=function(g){var a=g.config,e=a===void 0?Mn:a,_=g.l10n,I=_===void 0?Si:_,R=g.isMobile,V=R===void 0?!1:R;return function(G,A,ye){var $e=ye||I;return e.formatDate!==void 0&&!V?e.formatDate(G,A,$e):A.split("").map(function(Ye,Xe,se){return Jn[Ye]&&se[Xe-1]!=="\\"?Jn[Ye](G,$e,e):Ye!=="\\"?Ye:""}).join("")}},$i=function(g){var a=g.config,e=a===void 0?Mn:a,_=g.l10n,I=_===void 0?Si:_;return function(R,V,G,A){if(!(R!==0&&!R)){var ye=A||I,$e,Ye=R;if(R instanceof Date)$e=new Date(R.getTime());else if(typeof R!="string"&&R.toFixed!==void 0)$e=new Date(R);else if(typeof R=="string"){var Xe=V||(e||Mn).dateFormat,se=String(R).trim();if(se==="today")$e=new Date,G=!0;else if(e&&e.parseDate)$e=e.parseDate(R,Xe);else if(/Z$/.test(se)||/GMT$/.test(se))$e=new Date(R);else{for(var ae=void 0,be=[],le=0,Gt=0,ht="";le<Xe.length;le++){var ct=Xe[le],kt=ct==="\\",en=Xe[le-1]==="\\"||kt;if(_n[ct]&&!en){ht+=_n[ct];var o=new RegExp(ht).exec(R);o&&(ae=!0)&&be[ct!=="Y"?"push":"unshift"]({fn:Cr[ct],val:o[++Gt]})}else kt||(ht+=".")}$e=!e||!e.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),be.forEach(function(Ft){var W=Ft.fn,Oe=Ft.val;return $e=W($e,Oe,ye)||$e}),$e=ae?$e:void 0}}if(!($e instanceof Date&&!isNaN($e.getTime()))){e.errorHandler(new Error("Invalid date provided: "+Ye));return}return G===!0&&$e.setHours(0,0,0,0),$e}}};function Pt(g,a,e){return e===void 0&&(e=!0),e!==!1?new Date(g.getTime()).setHours(0,0,0,0)-new Date(a.getTime()).setHours(0,0,0,0):g.getTime()-a.getTime()}var _r=function(g,a,e){return g>Math.min(a,e)&&g<Math.max(a,e)},Ai=function(g,a,e){return g*3600+a*60+e},xr=function(g){var a=Math.floor(g/3600),e=(g-a*3600)/60;return[a,e,g-a*3600-e*60]},Sr={DAY:864e5};function Ti(g){var a=g.defaultHour,e=g.defaultMinute,_=g.defaultSeconds;if(g.minDate!==void 0){var I=g.minDate.getHours(),R=g.minDate.getMinutes(),V=g.minDate.getSeconds();a<I&&(a=I),a===I&&e<R&&(e=R),a===I&&e===R&&_<V&&(_=g.minDate.getSeconds())}if(g.maxDate!==void 0){var G=g.maxDate.getHours(),A=g.maxDate.getMinutes();a=Math.min(a,G),a===G&&(e=Math.min(A,e)),a===G&&e===A&&(_=g.maxDate.getSeconds())}return{hours:a,minutes:e,seconds:_}}typeof Object.assign!="function"&&(Object.assign=function(g){for(var a=[],e=1;e<arguments.length;e++)a[e-1]=arguments[e];if(!g)throw TypeError("Cannot convert undefined or null to object");for(var _=function(G){G&&Object.keys(G).forEach(function(A){return g[A]=G[A]})},I=0,R=a;I<R.length;I++){var V=R[I];_(V)}return g});var _t=function(){return _t=Object.assign||function(g){for(var a,e=1,_=arguments.length;e<_;e++){a=arguments[e];for(var I in a)Object.prototype.hasOwnProperty.call(a,I)&&(g[I]=a[I])}return g},_t.apply(this,arguments)},Or=function(){for(var g=0,a=0,e=arguments.length;a<e;a++)g+=arguments[a].length;for(var _=Array(g),I=0,a=0;a<e;a++)for(var R=arguments[a],V=0,G=R.length;V<G;V++,I++)_[I]=R[V];return _},Vr=300;function Kr(g,a){var e={config:_t(_t({},Mn),ot.defaultConfig),l10n:Oi};e.parseDate=$i({config:e.config,l10n:e.l10n}),e._handlers=[],e.pluginElements=[],e.loadedPlugins=[],e._bind=be,e._setHoursFromDate=Xe,e._positionCalendar=st,e.changeMonth=Qe,e.changeYear=fn,e.clear=Nn,e.close=Yn,e.onMouseOver=hn,e._createElement=qe,e.createDay=o,e.destroy=tn,e.isEnabled=Je,e.jumpToDate=ht,e.updateValue=Et,e.open=Kt,e.redraw=ne,e.set=Bn,e.setDate=vn,e.toggle=Pn;function _(){e.utils={getDaysInMonth:function(p,v){return p===void 0&&(p=e.currentMonth),v===void 0&&(v=e.currentYear),p===1&&(v%4===0&&v%100!==0||v%400===0)?29:e.l10n.daysInMonth[p]}}}function I(){e.element=e.input=g,e.isOpen=!1,ei(),je(),Yt(),Xt(),_(),e.isMobile||en(),Gt(),(e.selectedDates.length||e.config.noCalendar)&&(e.config.enableTime&&Xe(e.config.noCalendar?e.latestSelectedDateObj:void 0),Et(!1)),G();var p=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!e.isMobile&&p&&st(),Se("onReady")}function R(){var p;return((p=e.calendarContainer)===null||p===void 0?void 0:p.getRootNode()).activeElement||document.activeElement}function V(p){return p.bind(e)}function G(){var p=e.config;p.weekNumbers===!1&&p.showMonths===1||p.noCalendar!==!0&&window.requestAnimationFrame(function(){if(e.calendarContainer!==void 0&&(e.calendarContainer.style.visibility="hidden",e.calendarContainer.style.display="block"),e.daysContainer!==void 0){var v=(e.days.offsetWidth+1)*p.showMonths;e.daysContainer.style.width=v+"px",e.calendarContainer.style.width=v+(e.weekWrapper!==void 0?e.weekWrapper.offsetWidth:0)+"px",e.calendarContainer.style.removeProperty("visibility"),e.calendarContainer.style.removeProperty("display")}})}function A(p){if(e.selectedDates.length===0){var v=e.config.minDate===void 0||Pt(new Date,e.config.minDate)>=0?new Date:new Date(e.config.minDate.getTime()),S=Ti(e.config);v.setHours(S.hours,S.minutes,S.seconds,v.getMilliseconds()),e.selectedDates=[v],e.latestSelectedDateObj=v}p!==void 0&&p.type!=="blur"&&ge(p);var E=e._input.value;Ye(),Et(),e._input.value!==E&&e._debouncedChange()}function ye(p,v){return p%12+12*Nt(v===e.l10n.amPM[1])}function $e(p){switch(p%24){case 0:case 12:return 12;default:return p%12}}function Ye(){if(!(e.hourElement===void 0||e.minuteElement===void 0)){var p=(parseInt(e.hourElement.value.slice(-2),10)||0)%24,v=(parseInt(e.minuteElement.value,10)||0)%60,S=e.secondElement!==void 0?(parseInt(e.secondElement.value,10)||0)%60:0;e.amPM!==void 0&&(p=ye(p,e.amPM.textContent));var E=e.config.minTime!==void 0||e.config.minDate&&e.minDateHasTime&&e.latestSelectedDateObj&&Pt(e.latestSelectedDateObj,e.config.minDate,!0)===0,H=e.config.maxTime!==void 0||e.config.maxDate&&e.maxDateHasTime&&e.latestSelectedDateObj&&Pt(e.latestSelectedDateObj,e.config.maxDate,!0)===0;if(e.config.maxTime!==void 0&&e.config.minTime!==void 0&&e.config.minTime>e.config.maxTime){var U=Ai(e.config.minTime.getHours(),e.config.minTime.getMinutes(),e.config.minTime.getSeconds()),ie=Ai(e.config.maxTime.getHours(),e.config.maxTime.getMinutes(),e.config.maxTime.getSeconds()),J=Ai(p,v,S);if(J>ie&&J<U){var we=xr(U);p=we[0],v=we[1],S=we[2]}}else{if(H){var Z=e.config.maxTime!==void 0?e.config.maxTime:e.config.maxDate;p=Math.min(p,Z.getHours()),p===Z.getHours()&&(v=Math.min(v,Z.getMinutes())),v===Z.getMinutes()&&(S=Math.min(S,Z.getSeconds()))}if(E){var de=e.config.minTime!==void 0?e.config.minTime:e.config.minDate;p=Math.max(p,de.getHours()),p===de.getHours()&&v<de.getMinutes()&&(v=de.getMinutes()),v===de.getMinutes()&&(S=Math.max(S,de.getSeconds()))}}se(p,v,S)}}function Xe(p){var v=p||e.latestSelectedDateObj;v&&v instanceof Date&&se(v.getHours(),v.getMinutes(),v.getSeconds())}function se(p,v,S){e.latestSelectedDateObj!==void 0&&e.latestSelectedDateObj.setHours(p%24,v,S||0,0),!(!e.hourElement||!e.minuteElement||e.isMobile)&&(e.hourElement.value=wt(e.config.time_24hr?p:(12+p)%12+12*Nt(p%12===0)),e.minuteElement.value=wt(v),e.amPM!==void 0&&(e.amPM.textContent=e.l10n.amPM[Nt(p>=12)]),e.secondElement!==void 0&&(e.secondElement.value=wt(S)))}function ae(p){var v=Lt(p),S=parseInt(v.value)+(p.delta||0);(S/1e3>1||p.key==="Enter"&&!/[^\d]/.test(S.toString()))&&fn(S)}function be(p,v,S,E){if(v instanceof Array)return v.forEach(function(H){return be(p,H,S,E)});if(p instanceof Array)return p.forEach(function(H){return be(H,v,S,E)});p.addEventListener(v,S,E),e._handlers.push({remove:function(){return p.removeEventListener(v,S,E)}})}function le(){Se("onChange")}function Gt(){if(e.config.wrap&&["open","close","toggle","clear"].forEach(function(S){Array.prototype.forEach.call(e.element.querySelectorAll("[data-"+S+"]"),function(E){return be(E,"click",e[S])})}),e.isMobile){Qt();return}var p=Zi(On,50);if(e._debouncedChange=Zi(le,Vr),e.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&be(e.daysContainer,"mouseover",function(S){e.config.mode==="range"&&hn(Lt(S))}),be(e._input,"keydown",xt),e.calendarContainer!==void 0&&be(e.calendarContainer,"keydown",xt),!e.config.inline&&!e.config.static&&be(window,"resize",p),window.ontouchstart!==void 0?be(window.document,"touchstart",Sn):be(window.document,"mousedown",Sn),be(window.document,"focus",Sn,{capture:!0}),e.config.clickOpens===!0&&(be(e._input,"focus",e.open),be(e._input,"click",e.open)),e.daysContainer!==void 0&&(be(e.monthNav,"click",ve),be(e.monthNav,["keyup","increment"],ae),be(e.daysContainer,"click",Ln)),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0){var v=function(S){return Lt(S).select()};be(e.timeContainer,["increment"],A),be(e.timeContainer,"blur",A,{capture:!0}),be(e.timeContainer,"click",ct),be([e.hourElement,e.minuteElement],["focus","click"],v),e.secondElement!==void 0&&be(e.secondElement,"focus",function(){return e.secondElement&&e.secondElement.select()}),e.amPM!==void 0&&be(e.amPM,"click",function(S){A(S)})}e.config.allowInput&&be(e._input,"blur",Ze)}function ht(p,v){var S=p!==void 0?e.parseDate(p):e.latestSelectedDateObj||(e.config.minDate&&e.config.minDate>e.now?e.config.minDate:e.config.maxDate&&e.config.maxDate<e.now?e.config.maxDate:e.now),E=e.currentYear,H=e.currentMonth;try{S!==void 0&&(e.currentYear=S.getFullYear(),e.currentMonth=S.getMonth())}catch(U){U.message="Invalid date supplied: "+S,e.config.errorHandler(U)}v&&e.currentYear!==E&&(Se("onYearChange"),gt()),v&&(e.currentYear!==E||e.currentMonth!==H)&&Se("onMonthChange"),e.redraw()}function ct(p){var v=Lt(p);~v.className.indexOf("arrow")&&kt(p,v.classList.contains("arrowUp")?1:-1)}function kt(p,v,S){var E=p&&Lt(p),H=S||E&&E.parentNode&&E.parentNode.firstChild,U=It("increment");U.delta=v,H&&H.dispatchEvent(U)}function en(){var p=window.document.createDocumentFragment();if(e.calendarContainer=qe("div","flatpickr-calendar"),e.calendarContainer.tabIndex=-1,!e.config.noCalendar){if(p.appendChild(qt()),e.innerContainer=qe("div","flatpickr-innerContainer"),e.config.weekNumbers){var v=xn(),S=v.weekWrapper,E=v.weekNumbers;e.innerContainer.appendChild(S),e.weekNumbers=E,e.weekWrapper=S}e.rContainer=qe("div","flatpickr-rContainer"),e.rContainer.appendChild(Vt()),e.daysContainer||(e.daysContainer=qe("div","flatpickr-days"),e.daysContainer.tabIndex=-1),_e(),e.rContainer.appendChild(e.daysContainer),e.innerContainer.appendChild(e.rContainer),p.appendChild(e.innerContainer)}e.config.enableTime&&p.appendChild(zn()),Ct(e.calendarContainer,"rangeMode",e.config.mode==="range"),Ct(e.calendarContainer,"animate",e.config.animate===!0),Ct(e.calendarContainer,"multiMonth",e.config.showMonths>1),e.calendarContainer.appendChild(p);var H=e.config.appendTo!==void 0&&e.config.appendTo.nodeType!==void 0;if((e.config.inline||e.config.static)&&(e.calendarContainer.classList.add(e.config.inline?"inline":"static"),e.config.inline&&(!H&&e.element.parentNode?e.element.parentNode.insertBefore(e.calendarContainer,e._input.nextSibling):e.config.appendTo!==void 0&&e.config.appendTo.appendChild(e.calendarContainer)),e.config.static)){var U=qe("div","flatpickr-wrapper");e.element.parentNode&&e.element.parentNode.insertBefore(U,e.element),U.appendChild(e.element),e.altInput&&U.appendChild(e.altInput),U.appendChild(e.calendarContainer)}!e.config.static&&!e.config.inline&&(e.config.appendTo!==void 0?e.config.appendTo:window.document.body).appendChild(e.calendarContainer)}function o(p,v,S,E){var H=Je(v,!0),U=qe("span",p,v.getDate().toString());return U.dateObj=v,U.$i=E,U.setAttribute("aria-label",e.formatDate(v,e.config.ariaDateFormat)),p.indexOf("hidden")===-1&&Pt(v,e.now)===0&&(e.todayDateElem=U,U.classList.add("today"),U.setAttribute("aria-current","date")),H?(U.tabIndex=-1,yt(v)&&(U.classList.add("selected"),e.selectedDateElem=U,e.config.mode==="range"&&(Ct(U,"startRange",e.selectedDates[0]&&Pt(v,e.selectedDates[0],!0)===0),Ct(U,"endRange",e.selectedDates[1]&&Pt(v,e.selectedDates[1],!0)===0),p==="nextMonthDay"&&U.classList.add("inRange")))):U.classList.add("flatpickr-disabled"),e.config.mode==="range"&&$n(v)&&!yt(v)&&U.classList.add("inRange"),e.weekNumbers&&e.config.showMonths===1&&p!=="prevMonthDay"&&E%7===6&&e.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+e.config.getWeek(v)+"</span>"),Se("onDayCreate",U),U}function Ft(p){p.focus(),e.config.mode==="range"&&hn(p)}function W(p){for(var v=p>0?0:e.config.showMonths-1,S=p>0?e.config.showMonths:-1,E=v;E!=S;E+=p)for(var H=e.daysContainer.children[E],U=p>0?0:H.children.length-1,ie=p>0?H.children.length:-1,J=U;J!=ie;J+=p){var we=H.children[J];if(we.className.indexOf("hidden")===-1&&Je(we.dateObj))return we}}function Oe(p,v){for(var S=p.className.indexOf("Month")===-1?p.dateObj.getMonth():e.currentMonth,E=v>0?e.config.showMonths:-1,H=v>0?1:-1,U=S-e.currentMonth;U!=E;U+=H)for(var ie=e.daysContainer.children[U],J=S-e.currentMonth===U?p.$i+v:v<0?ie.children.length-1:0,we=ie.children.length,Z=J;Z>=0&&Z<we&&Z!=(v>0?we:-1);Z+=H){var de=ie.children[Z];if(de.className.indexOf("hidden")===-1&&Je(de.dateObj)&&Math.abs(p.$i-Z)>=Math.abs(v))return Ft(de)}e.changeMonth(H),ke(W(H),0)}function ke(p,v){var S=R(),E=vt(S||document.body),H=p!==void 0?p:E?S:e.selectedDateElem!==void 0&&vt(e.selectedDateElem)?e.selectedDateElem:e.todayDateElem!==void 0&&vt(e.todayDateElem)?e.todayDateElem:W(v>0?1:-1);H===void 0?e._input.focus():E?Oe(H,v):Ft(H)}function pt(p,v){for(var S=(new Date(p,v,1).getDay()-e.l10n.firstDayOfWeek+7)%7,E=e.utils.getDaysInMonth((v-1+12)%12,p),H=e.utils.getDaysInMonth(v,p),U=window.document.createDocumentFragment(),ie=e.config.showMonths>1,J=ie?"prevMonthDay hidden":"prevMonthDay",we=ie?"nextMonthDay hidden":"nextMonthDay",Z=E+1-S,de=0;Z<=E;Z++,de++)U.appendChild(o("flatpickr-day "+J,new Date(p,v-1,Z),Z,de));for(Z=1;Z<=H;Z++,de++)U.appendChild(o("flatpickr-day",new Date(p,v,Z),Z,de));for(var Ne=H+1;Ne<=42-S&&(e.config.showMonths===1||de%7!==0);Ne++,de++)U.appendChild(o("flatpickr-day "+we,new Date(p,v+1,Ne%H),Ne,de));var Mt=qe("div","dayContainer");return Mt.appendChild(U),Mt}function _e(){if(e.daysContainer!==void 0){si(e.daysContainer),e.weekNumbers&&si(e.weekNumbers);for(var p=document.createDocumentFragment(),v=0;v<e.config.showMonths;v++){var S=new Date(e.currentYear,e.currentMonth,1);S.setMonth(e.currentMonth+v),p.appendChild(pt(S.getFullYear(),S.getMonth()))}e.daysContainer.appendChild(p),e.days=e.daysContainer.firstChild,e.config.mode==="range"&&e.selectedDates.length===1&&hn()}}function gt(){if(!(e.config.showMonths>1||e.config.monthSelectorType!=="dropdown")){var p=function(E){return e.config.minDate!==void 0&&e.currentYear===e.config.minDate.getFullYear()&&E<e.config.minDate.getMonth()?!1:!(e.config.maxDate!==void 0&&e.currentYear===e.config.maxDate.getFullYear()&&E>e.config.maxDate.getMonth())};e.monthsDropdownContainer.tabIndex=-1,e.monthsDropdownContainer.innerHTML="";for(var v=0;v<12;v++)if(p(v)){var S=qe("option","flatpickr-monthDropdown-month");S.value=new Date(e.currentYear,v).getMonth().toString(),S.textContent=ci(v,e.config.shorthandCurrentMonth,e.l10n),S.tabIndex=-1,e.currentMonth===v&&(S.selected=!0),e.monthsDropdownContainer.appendChild(S)}}}function un(){var p=qe("div","flatpickr-month"),v=window.document.createDocumentFragment(),S;e.config.showMonths>1||e.config.monthSelectorType==="static"?S=qe("span","cur-month"):(e.monthsDropdownContainer=qe("select","flatpickr-monthDropdown-months"),e.monthsDropdownContainer.setAttribute("aria-label",e.l10n.monthAriaLabel),be(e.monthsDropdownContainer,"change",function(ie){var J=Lt(ie),we=parseInt(J.value,10);e.changeMonth(we-e.currentMonth),Se("onMonthChange")}),gt(),S=e.monthsDropdownContainer);var E=li("cur-year",{tabindex:"-1"}),H=E.getElementsByTagName("input")[0];H.setAttribute("aria-label",e.l10n.yearAriaLabel),e.config.minDate&&H.setAttribute("min",e.config.minDate.getFullYear().toString()),e.config.maxDate&&(H.setAttribute("max",e.config.maxDate.getFullYear().toString()),H.disabled=!!e.config.minDate&&e.config.minDate.getFullYear()===e.config.maxDate.getFullYear());var U=qe("div","flatpickr-current-month");return U.appendChild(S),U.appendChild(E),v.appendChild(U),p.appendChild(v),{container:p,yearElement:H,monthElement:S}}function Ht(){si(e.monthNav),e.monthNav.appendChild(e.prevMonthNav),e.config.showMonths&&(e.yearElements=[],e.monthElements=[]);for(var p=e.config.showMonths;p--;){var v=un();e.yearElements.push(v.yearElement),e.monthElements.push(v.monthElement),e.monthNav.appendChild(v.container)}e.monthNav.appendChild(e.nextMonthNav)}function qt(){return e.monthNav=qe("div","flatpickr-months"),e.yearElements=[],e.monthElements=[],e.prevMonthNav=qe("span","flatpickr-prev-month"),e.prevMonthNav.innerHTML=e.config.prevArrow,e.nextMonthNav=qe("span","flatpickr-next-month"),e.nextMonthNav.innerHTML=e.config.nextArrow,Ht(),Object.defineProperty(e,"_hidePrevMonthArrow",{get:function(){return e.__hidePrevMonthArrow},set:function(p){e.__hidePrevMonthArrow!==p&&(Ct(e.prevMonthNav,"flatpickr-disabled",p),e.__hidePrevMonthArrow=p)}}),Object.defineProperty(e,"_hideNextMonthArrow",{get:function(){return e.__hideNextMonthArrow},set:function(p){e.__hideNextMonthArrow!==p&&(Ct(e.nextMonthNav,"flatpickr-disabled",p),e.__hideNextMonthArrow=p)}}),e.currentYearElement=e.yearElements[0],Bt(),e.monthNav}function zn(){e.calendarContainer.classList.add("hasTime"),e.config.noCalendar&&e.calendarContainer.classList.add("noCalendar");var p=Ti(e.config);e.timeContainer=qe("div","flatpickr-time"),e.timeContainer.tabIndex=-1;var v=qe("span","flatpickr-time-separator",":"),S=li("flatpickr-hour",{"aria-label":e.l10n.hourAriaLabel});e.hourElement=S.getElementsByTagName("input")[0];var E=li("flatpickr-minute",{"aria-label":e.l10n.minuteAriaLabel});if(e.minuteElement=E.getElementsByTagName("input")[0],e.hourElement.tabIndex=e.minuteElement.tabIndex=-1,e.hourElement.value=wt(e.latestSelectedDateObj?e.latestSelectedDateObj.getHours():e.config.time_24hr?p.hours:$e(p.hours)),e.minuteElement.value=wt(e.latestSelectedDateObj?e.latestSelectedDateObj.getMinutes():p.minutes),e.hourElement.setAttribute("step",e.config.hourIncrement.toString()),e.minuteElement.setAttribute("step",e.config.minuteIncrement.toString()),e.hourElement.setAttribute("min",e.config.time_24hr?"0":"1"),e.hourElement.setAttribute("max",e.config.time_24hr?"23":"12"),e.hourElement.setAttribute("maxlength","2"),e.minuteElement.setAttribute("min","0"),e.minuteElement.setAttribute("max","59"),e.minuteElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(S),e.timeContainer.appendChild(v),e.timeContainer.appendChild(E),e.config.time_24hr&&e.timeContainer.classList.add("time24hr"),e.config.enableSeconds){e.timeContainer.classList.add("hasSeconds");var H=li("flatpickr-second");e.secondElement=H.getElementsByTagName("input")[0],e.secondElement.value=wt(e.latestSelectedDateObj?e.latestSelectedDateObj.getSeconds():p.seconds),e.secondElement.setAttribute("step",e.minuteElement.getAttribute("step")),e.secondElement.setAttribute("min","0"),e.secondElement.setAttribute("max","59"),e.secondElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(qe("span","flatpickr-time-separator",":")),e.timeContainer.appendChild(H)}return e.config.time_24hr||(e.amPM=qe("span","flatpickr-am-pm",e.l10n.amPM[Nt((e.latestSelectedDateObj?e.hourElement.value:e.config.defaultHour)>11)]),e.amPM.title=e.l10n.toggleTitle,e.amPM.tabIndex=-1,e.timeContainer.appendChild(e.amPM)),e.timeContainer}function Vt(){e.weekdayContainer?si(e.weekdayContainer):e.weekdayContainer=qe("div","flatpickr-weekdays");for(var p=e.config.showMonths;p--;){var v=qe("div","flatpickr-weekdaycontainer");e.weekdayContainer.appendChild(v)}return dn(),e.weekdayContainer}function dn(){if(e.weekdayContainer){var p=e.l10n.firstDayOfWeek,v=Or(e.l10n.weekdays.shorthand);p>0&&p<v.length&&(v=Or(v.splice(p,v.length),v.splice(0,p)));for(var S=e.config.showMonths;S--;)e.weekdayContainer.children[S].innerHTML=`
      <span class='flatpickr-weekday'>
        `+v.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function xn(){e.calendarContainer.classList.add("hasWeeks");var p=qe("div","flatpickr-weekwrapper");p.appendChild(qe("span","flatpickr-weekday",e.l10n.weekAbbreviation));var v=qe("div","flatpickr-weeks");return p.appendChild(v),{weekWrapper:p,weekNumbers:v}}function Qe(p,v){v===void 0&&(v=!0);var S=v?p:p-e.currentMonth;S<0&&e._hidePrevMonthArrow===!0||S>0&&e._hideNextMonthArrow===!0||(e.currentMonth+=S,(e.currentMonth<0||e.currentMonth>11)&&(e.currentYear+=e.currentMonth>11?1:-1,e.currentMonth=(e.currentMonth+12)%12,Se("onYearChange"),gt()),_e(),Se("onMonthChange"),Bt())}function Nn(p,v){if(p===void 0&&(p=!0),v===void 0&&(v=!0),e.input.value="",e.altInput!==void 0&&(e.altInput.value=""),e.mobileInput!==void 0&&(e.mobileInput.value=""),e.selectedDates=[],e.latestSelectedDateObj=void 0,v===!0&&(e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth()),e.config.enableTime===!0){var S=Ti(e.config),E=S.hours,H=S.minutes,U=S.seconds;se(E,H,U)}e.redraw(),p&&Se("onChange")}function Yn(){e.isOpen=!1,e.isMobile||(e.calendarContainer!==void 0&&e.calendarContainer.classList.remove("open"),e._input!==void 0&&e._input.classList.remove("active")),Se("onClose")}function tn(){e.config!==void 0&&Se("onDestroy");for(var p=e._handlers.length;p--;)e._handlers[p].remove();if(e._handlers=[],e.mobileInput)e.mobileInput.parentNode&&e.mobileInput.parentNode.removeChild(e.mobileInput),e.mobileInput=void 0;else if(e.calendarContainer&&e.calendarContainer.parentNode)if(e.config.static&&e.calendarContainer.parentNode){var v=e.calendarContainer.parentNode;if(v.lastChild&&v.removeChild(v.lastChild),v.parentNode){for(;v.firstChild;)v.parentNode.insertBefore(v.firstChild,v);v.parentNode.removeChild(v)}}else e.calendarContainer.parentNode.removeChild(e.calendarContainer);e.altInput&&(e.input.type="text",e.altInput.parentNode&&e.altInput.parentNode.removeChild(e.altInput),delete e.altInput),e.input&&(e.input.type=e.input._type,e.input.classList.remove("flatpickr-input"),e.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(S){try{delete e[S]}catch{}})}function He(p){return e.calendarContainer.contains(p)}function Sn(p){if(e.isOpen&&!e.config.inline){var v=Lt(p),S=He(v),E=v===e.input||v===e.altInput||e.element.contains(v)||p.path&&p.path.indexOf&&(~p.path.indexOf(e.input)||~p.path.indexOf(e.altInput)),H=!E&&!S&&!He(p.relatedTarget),U=!e.config.ignoredFocusElements.some(function(ie){return ie.contains(v)});H&&U&&(e.config.allowInput&&e.setDate(e._input.value,!1,e.config.altInput?e.config.altFormat:e.config.dateFormat),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0&&e.input.value!==""&&e.input.value!==void 0&&A(),e.close(),e.config&&e.config.mode==="range"&&e.selectedDates.length===1&&e.clear(!1))}}function fn(p){if(!(!p||e.config.minDate&&p<e.config.minDate.getFullYear()||e.config.maxDate&&p>e.config.maxDate.getFullYear())){var v=p,S=e.currentYear!==v;e.currentYear=v||e.currentYear,e.config.maxDate&&e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth=Math.min(e.config.maxDate.getMonth(),e.currentMonth):e.config.minDate&&e.currentYear===e.config.minDate.getFullYear()&&(e.currentMonth=Math.max(e.config.minDate.getMonth(),e.currentMonth)),S&&(e.redraw(),Se("onYearChange"),gt())}}function Je(p,v){var S;v===void 0&&(v=!0);var E=e.parseDate(p,void 0,v);if(e.config.minDate&&E&&Pt(E,e.config.minDate,v!==void 0?v:!e.minDateHasTime)<0||e.config.maxDate&&E&&Pt(E,e.config.maxDate,v!==void 0?v:!e.maxDateHasTime)>0)return!1;if(!e.config.enable&&e.config.disable.length===0)return!0;if(E===void 0)return!1;for(var H=!!e.config.enable,U=(S=e.config.enable)!==null&&S!==void 0?S:e.config.disable,ie=0,J=void 0;ie<U.length;ie++){if(J=U[ie],typeof J=="function"&&J(E))return H;if(J instanceof Date&&E!==void 0&&J.getTime()===E.getTime())return H;if(typeof J=="string"){var we=e.parseDate(J,void 0,!0);return we&&we.getTime()===E.getTime()?H:!H}else if(typeof J=="object"&&E!==void 0&&J.from&&J.to&&E.getTime()>=J.from.getTime()&&E.getTime()<=J.to.getTime())return H}return!H}function vt(p){return e.daysContainer!==void 0?p.className.indexOf("hidden")===-1&&p.className.indexOf("flatpickr-disabled")===-1&&e.daysContainer.contains(p):!1}function Ze(p){var v=p.target===e._input,S=e._input.value.trimEnd()!==yn();v&&S&&!(p.relatedTarget&&He(p.relatedTarget))&&e.setDate(e._input.value,!0,p.target===e.altInput?e.config.altFormat:e.config.dateFormat)}function xt(p){var v=Lt(p),S=e.config.wrap?g.contains(v):v===e._input,E=e.config.allowInput,H=e.isOpen&&(!E||!S),U=e.config.inline&&S&&!E;if(p.keyCode===13&&S){if(E)return e.setDate(e._input.value,!0,v===e.altInput?e.config.altFormat:e.config.dateFormat),e.close(),v.blur();e.open()}else if(He(v)||H||U){var ie=!!e.timeContainer&&e.timeContainer.contains(v);switch(p.keyCode){case 13:ie?(p.preventDefault(),A(),rt()):Ln(p);break;case 27:p.preventDefault(),rt();break;case 8:case 46:S&&!e.config.allowInput&&(p.preventDefault(),e.clear());break;case 37:case 39:if(!ie&&!S){p.preventDefault();var J=R();if(e.daysContainer!==void 0&&(E===!1||J&&vt(J))){var we=p.keyCode===39?1:-1;p.ctrlKey?(p.stopPropagation(),Qe(we),ke(W(1),0)):ke(void 0,we)}}else e.hourElement&&e.hourElement.focus();break;case 38:case 40:p.preventDefault();var Z=p.keyCode===40?1:-1;e.daysContainer&&v.$i!==void 0||v===e.input||v===e.altInput?p.ctrlKey?(p.stopPropagation(),fn(e.currentYear-Z),ke(W(1),0)):ie||ke(void 0,Z*7):v===e.currentYearElement?fn(e.currentYear-Z):e.config.enableTime&&(!ie&&e.hourElement&&e.hourElement.focus(),A(p),e._debouncedChange());break;case 9:if(ie){var de=[e.hourElement,e.minuteElement,e.secondElement,e.amPM].concat(e.pluginElements).filter(function(mt){return mt}),Ne=de.indexOf(v);if(Ne!==-1){var Mt=de[Ne+(p.shiftKey?-1:1)];p.preventDefault(),(Mt||e._input).focus()}}else!e.config.noCalendar&&e.daysContainer&&e.daysContainer.contains(v)&&p.shiftKey&&(p.preventDefault(),e._input.focus());break;default:break}}if(e.amPM!==void 0&&v===e.amPM)switch(p.key){case e.l10n.amPM[0].charAt(0):case e.l10n.amPM[0].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[0],Ye(),Et();break;case e.l10n.amPM[1].charAt(0):case e.l10n.amPM[1].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[1],Ye(),Et();break}(S||He(v))&&Se("onKeyDown",p)}function hn(p,v){if(v===void 0&&(v="flatpickr-day"),!(e.selectedDates.length!==1||p&&(!p.classList.contains(v)||p.classList.contains("flatpickr-disabled")))){for(var S=p?p.dateObj.getTime():e.days.firstElementChild.dateObj.getTime(),E=e.parseDate(e.selectedDates[0],void 0,!0).getTime(),H=Math.min(S,e.selectedDates[0].getTime()),U=Math.max(S,e.selectedDates[0].getTime()),ie=!1,J=0,we=0,Z=H;Z<U;Z+=Sr.DAY)Je(new Date(Z),!0)||(ie=ie||Z>H&&Z<U,Z<E&&(!J||Z>J)?J=Z:Z>E&&(!we||Z<we)&&(we=Z));var de=Array.from(e.rContainer.querySelectorAll("*:nth-child(-n+"+e.config.showMonths+") > ."+v));de.forEach(function(Ne){var Mt=Ne.dateObj,mt=Mt.getTime(),rn=J>0&&mt<J||we>0&&mt>we;if(rn){Ne.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function($t){Ne.classList.remove($t)});return}else if(ie&&!rn)return;["startRange","inRange","endRange","notAllowed"].forEach(function($t){Ne.classList.remove($t)}),p!==void 0&&(p.classList.add(S<=e.selectedDates[0].getTime()?"startRange":"endRange"),E<S&&mt===E?Ne.classList.add("startRange"):E>S&&mt===E&&Ne.classList.add("endRange"),mt>=J&&(we===0||mt<=we)&&_r(mt,E,S)&&Ne.classList.add("inRange"))})}}function On(){e.isOpen&&!e.config.static&&!e.config.inline&&st()}function Kt(p,v){if(v===void 0&&(v=e._positionElement),e.isMobile===!0){if(p){p.preventDefault();var S=Lt(p);S&&S.blur()}e.mobileInput!==void 0&&(e.mobileInput.focus(),e.mobileInput.click()),Se("onOpen");return}else if(e._input.disabled||e.config.inline)return;var E=e.isOpen;e.isOpen=!0,E||(e.calendarContainer.classList.add("open"),e._input.classList.add("active"),Se("onOpen"),st(v)),e.config.enableTime===!0&&e.config.noCalendar===!0&&e.config.allowInput===!1&&(p===void 0||!e.timeContainer.contains(p.relatedTarget))&&setTimeout(function(){return e.hourElement.select()},50)}function St(p){return function(v){var S=e.config["_"+p+"Date"]=e.parseDate(v,e.config.dateFormat),E=e.config["_"+(p==="min"?"max":"min")+"Date"];S!==void 0&&(e[p==="min"?"minDateHasTime":"maxDateHasTime"]=S.getHours()>0||S.getMinutes()>0||S.getSeconds()>0),e.selectedDates&&(e.selectedDates=e.selectedDates.filter(function(H){return Je(H)}),!e.selectedDates.length&&p==="min"&&Xe(S),Et()),e.daysContainer&&(ne(),S!==void 0?e.currentYearElement[p]=S.getFullYear().toString():e.currentYearElement.removeAttribute(p),e.currentYearElement.disabled=!!E&&S!==void 0&&E.getFullYear()===S.getFullYear())}}function ei(){var p=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],v=_t(_t({},JSON.parse(JSON.stringify(g.dataset||{}))),a),S={};e.config.parseDate=v.parseDate,e.config.formatDate=v.formatDate,Object.defineProperty(e.config,"enable",{get:function(){return e.config._enable},set:function(de){e.config._enable=Ot(de)}}),Object.defineProperty(e.config,"disable",{get:function(){return e.config._disable},set:function(de){e.config._disable=Ot(de)}});var E=v.mode==="time";if(!v.dateFormat&&(v.enableTime||E)){var H=ot.defaultConfig.dateFormat||Mn.dateFormat;S.dateFormat=v.noCalendar||E?"H:i"+(v.enableSeconds?":S":""):H+" H:i"+(v.enableSeconds?":S":"")}if(v.altInput&&(v.enableTime||E)&&!v.altFormat){var U=ot.defaultConfig.altFormat||Mn.altFormat;S.altFormat=v.noCalendar||E?"h:i"+(v.enableSeconds?":S K":" K"):U+(" h:i"+(v.enableSeconds?":S":"")+" K")}Object.defineProperty(e.config,"minDate",{get:function(){return e.config._minDate},set:St("min")}),Object.defineProperty(e.config,"maxDate",{get:function(){return e.config._maxDate},set:St("max")});var ie=function(de){return function(Ne){e.config[de==="min"?"_minTime":"_maxTime"]=e.parseDate(Ne,"H:i:S")}};Object.defineProperty(e.config,"minTime",{get:function(){return e.config._minTime},set:ie("min")}),Object.defineProperty(e.config,"maxTime",{get:function(){return e.config._maxTime},set:ie("max")}),v.mode==="time"&&(e.config.noCalendar=!0,e.config.enableTime=!0),Object.assign(e.config,S,v);for(var J=0;J<p.length;J++)e.config[p[J]]=e.config[p[J]]===!0||e.config[p[J]]==="true";xi.filter(function(de){return e.config[de]!==void 0}).forEach(function(de){e.config[de]=Ii(e.config[de]||[]).map(V)}),e.isMobile=!e.config.disableMobile&&!e.config.inline&&e.config.mode==="single"&&!e.config.disable.length&&!e.config.enable&&!e.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var J=0;J<e.config.plugins.length;J++){var we=e.config.plugins[J](e)||{};for(var Z in we)xi.indexOf(Z)>-1?e.config[Z]=Ii(we[Z]).map(V).concat(e.config[Z]):typeof v[Z]>"u"&&(e.config[Z]=we[Z])}v.altInputClass||(e.config.altInputClass=pn().className+" "+e.config.altInputClass),Se("onParseConfig")}function pn(){return e.config.wrap?g.querySelector("[data-input]"):g}function je(){typeof e.config.locale!="object"&&typeof ot.l10ns[e.config.locale]>"u"&&e.config.errorHandler(new Error("flatpickr: invalid locale "+e.config.locale)),e.l10n=_t(_t({},ot.l10ns.default),typeof e.config.locale=="object"?e.config.locale:e.config.locale!=="default"?ot.l10ns[e.config.locale]:void 0),_n.D="("+e.l10n.weekdays.shorthand.join("|")+")",_n.l="("+e.l10n.weekdays.longhand.join("|")+")",_n.M="("+e.l10n.months.shorthand.join("|")+")",_n.F="("+e.l10n.months.longhand.join("|")+")",_n.K="("+e.l10n.amPM[0]+"|"+e.l10n.amPM[1]+"|"+e.l10n.amPM[0].toLowerCase()+"|"+e.l10n.amPM[1].toLowerCase()+")";var p=_t(_t({},a),JSON.parse(JSON.stringify(g.dataset||{})));p.time_24hr===void 0&&ot.defaultConfig.time_24hr===void 0&&(e.config.time_24hr=e.l10n.time_24hr),e.formatDate=nr(e),e.parseDate=$i({config:e.config,l10n:e.l10n})}function st(p){if(typeof e.config.position=="function")return void e.config.position(e,p);if(e.calendarContainer!==void 0){Se("onPreCalendarPosition");var v=p||e._positionElement,S=Array.prototype.reduce.call(e.calendarContainer.children,function(f,i){return f+i.offsetHeight},0),E=e.calendarContainer.offsetWidth,H=e.config.position.split(" "),U=H[0],ie=H.length>1?H[1]:null,J=v.getBoundingClientRect(),we=window.innerHeight-J.bottom,Z=U==="above"||U!=="below"&&we<S&&J.top>S,de=window.pageYOffset+J.top+(Z?-S-2:v.offsetHeight+2);if(Ct(e.calendarContainer,"arrowTop",!Z),Ct(e.calendarContainer,"arrowBottom",Z),!e.config.inline){var Ne=window.pageXOffset+J.left,Mt=!1,mt=!1;ie==="center"?(Ne-=(E-J.width)/2,Mt=!0):ie==="right"&&(Ne-=E-J.width,mt=!0),Ct(e.calendarContainer,"arrowLeft",!Mt&&!mt),Ct(e.calendarContainer,"arrowCenter",Mt),Ct(e.calendarContainer,"arrowRight",mt);var rn=window.document.body.offsetWidth-(window.pageXOffset+J.right),$t=Ne+E>window.document.body.offsetWidth,Un=rn+E>window.document.body.offsetWidth;if(Ct(e.calendarContainer,"rightMost",$t),!e.config.static)if(e.calendarContainer.style.top=de+"px",!$t)e.calendarContainer.style.left=Ne+"px",e.calendarContainer.style.right="auto";else if(!Un)e.calendarContainer.style.left="auto",e.calendarContainer.style.right=rn+"px";else{var bn=gn();if(bn===void 0)return;var qn=window.document.body.offsetWidth,An=Math.max(0,qn/2-E/2),Wn=".flatpickr-calendar.centerMost:before",ni=".flatpickr-calendar.centerMost:after",Dn=bn.cssRules.length,Vn="{left:"+J.left+"px;right:auto;}";Ct(e.calendarContainer,"rightMost",!1),Ct(e.calendarContainer,"centerMost",!0),bn.insertRule(Wn+","+ni+Vn,Dn),e.calendarContainer.style.left=An+"px",e.calendarContainer.style.right="auto"}}}}function gn(){for(var p=null,v=0;v<document.styleSheets.length;v++){var S=document.styleSheets[v];if(S.cssRules){try{S.cssRules}catch{continue}p=S;break}}return p??mn()}function mn(){var p=document.createElement("style");return document.head.appendChild(p),p.sheet}function ne(){e.config.noCalendar||e.isMobile||(gt(),Bt(),_e())}function rt(){e._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(e.close,0):e.close()}function Ln(p){p.preventDefault(),p.stopPropagation();var v=function(de){return de.classList&&de.classList.contains("flatpickr-day")&&!de.classList.contains("flatpickr-disabled")&&!de.classList.contains("notAllowed")},S=er(Lt(p),v);if(S!==void 0){var E=S,H=e.latestSelectedDateObj=new Date(E.dateObj.getTime()),U=(H.getMonth()<e.currentMonth||H.getMonth()>e.currentMonth+e.config.showMonths-1)&&e.config.mode!=="range";if(e.selectedDateElem=E,e.config.mode==="single")e.selectedDates=[H];else if(e.config.mode==="multiple"){var ie=yt(H);ie?e.selectedDates.splice(parseInt(ie),1):e.selectedDates.push(H)}else e.config.mode==="range"&&(e.selectedDates.length===2&&e.clear(!1,!1),e.latestSelectedDateObj=H,e.selectedDates.push(H),Pt(H,e.selectedDates[0],!0)!==0&&e.selectedDates.sort(function(de,Ne){return de.getTime()-Ne.getTime()}));if(Ye(),U){var J=e.currentYear!==H.getFullYear();e.currentYear=H.getFullYear(),e.currentMonth=H.getMonth(),J&&(Se("onYearChange"),gt()),Se("onMonthChange")}if(Bt(),_e(),Et(),!U&&e.config.mode!=="range"&&e.config.showMonths===1?Ft(E):e.selectedDateElem!==void 0&&e.hourElement===void 0&&e.selectedDateElem&&e.selectedDateElem.focus(),e.hourElement!==void 0&&e.hourElement!==void 0&&e.hourElement.focus(),e.config.closeOnSelect){var we=e.config.mode==="single"&&!e.config.enableTime,Z=e.config.mode==="range"&&e.selectedDates.length===2&&!e.config.enableTime;(we||Z)&&rt()}le()}}var nn={locale:[je,dn],showMonths:[Ht,G,Vt],minDate:[ht],maxDate:[ht],positionElement:[ti],clickOpens:[function(){e.config.clickOpens===!0?(be(e._input,"focus",e.open),be(e._input,"click",e.open)):(e._input.removeEventListener("focus",e.open),e._input.removeEventListener("click",e.open))}]};function Bn(p,v){if(p!==null&&typeof p=="object"){Object.assign(e.config,p);for(var S in p)nn[S]!==void 0&&nn[S].forEach(function(E){return E()})}else e.config[p]=v,nn[p]!==void 0?nn[p].forEach(function(E){return E()}):xi.indexOf(p)>-1&&(e.config[p]=Ii(v));e.redraw(),Et(!0)}function In(p,v){var S=[];if(p instanceof Array)S=p.map(function(E){return e.parseDate(E,v)});else if(p instanceof Date||typeof p=="number")S=[e.parseDate(p,v)];else if(typeof p=="string")switch(e.config.mode){case"single":case"time":S=[e.parseDate(p,v)];break;case"multiple":S=p.split(e.config.conjunction).map(function(E){return e.parseDate(E,v)});break;case"range":S=p.split(e.l10n.rangeSeparator).map(function(E){return e.parseDate(E,v)});break;default:break}else e.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(p)));e.selectedDates=e.config.allowInvalidPreload?S:S.filter(function(E){return E instanceof Date&&Je(E,!1)}),e.config.mode==="range"&&e.selectedDates.sort(function(E,H){return E.getTime()-H.getTime()})}function vn(p,v,S){if(v===void 0&&(v=!1),S===void 0&&(S=e.config.dateFormat),p!==0&&!p||p instanceof Array&&p.length===0)return e.clear(v);In(p,S),e.latestSelectedDateObj=e.selectedDates[e.selectedDates.length-1],e.redraw(),ht(void 0,v),Xe(),e.selectedDates.length===0&&e.clear(!1),Et(v),v&&Se("onChange")}function Ot(p){return p.slice().map(function(v){return typeof v=="string"||typeof v=="number"||v instanceof Date?e.parseDate(v,void 0,!0):v&&typeof v=="object"&&v.from&&v.to?{from:e.parseDate(v.from,void 0),to:e.parseDate(v.to,void 0)}:v}).filter(function(v){return v})}function Xt(){e.selectedDates=[],e.now=e.parseDate(e.config.now)||new Date;var p=e.config.defaultDate||((e.input.nodeName==="INPUT"||e.input.nodeName==="TEXTAREA")&&e.input.placeholder&&e.input.value===e.input.placeholder?null:e.input.value);p&&In(p,e.config.dateFormat),e._initialDate=e.selectedDates.length>0?e.selectedDates[0]:e.config.minDate&&e.config.minDate.getTime()>e.now.getTime()?e.config.minDate:e.config.maxDate&&e.config.maxDate.getTime()<e.now.getTime()?e.config.maxDate:e.now,e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth(),e.selectedDates.length>0&&(e.latestSelectedDateObj=e.selectedDates[0]),e.config.minTime!==void 0&&(e.config.minTime=e.parseDate(e.config.minTime,"H:i")),e.config.maxTime!==void 0&&(e.config.maxTime=e.parseDate(e.config.maxTime,"H:i")),e.minDateHasTime=!!e.config.minDate&&(e.config.minDate.getHours()>0||e.config.minDate.getMinutes()>0||e.config.minDate.getSeconds()>0),e.maxDateHasTime=!!e.config.maxDate&&(e.config.maxDate.getHours()>0||e.config.maxDate.getMinutes()>0||e.config.maxDate.getSeconds()>0)}function Yt(){if(e.input=pn(),!e.input){e.config.errorHandler(new Error("Invalid input element specified"));return}e.input._type=e.input.type,e.input.type="text",e.input.classList.add("flatpickr-input"),e._input=e.input,e.config.altInput&&(e.altInput=qe(e.input.nodeName,e.config.altInputClass),e._input=e.altInput,e.altInput.placeholder=e.input.placeholder,e.altInput.disabled=e.input.disabled,e.altInput.required=e.input.required,e.altInput.tabIndex=e.input.tabIndex,e.altInput.type="text",e.input.setAttribute("type","hidden"),!e.config.static&&e.input.parentNode&&e.input.parentNode.insertBefore(e.altInput,e.input.nextSibling)),e.config.allowInput||e._input.setAttribute("readonly","readonly"),ti()}function ti(){e._positionElement=e.config.positionElement||e._input}function Qt(){var p=e.config.enableTime?e.config.noCalendar?"time":"datetime-local":"date";e.mobileInput=qe("input",e.input.className+" flatpickr-mobile"),e.mobileInput.tabIndex=1,e.mobileInput.type=p,e.mobileInput.disabled=e.input.disabled,e.mobileInput.required=e.input.required,e.mobileInput.placeholder=e.input.placeholder,e.mobileFormatStr=p==="datetime-local"?"Y-m-d\\TH:i:S":p==="date"?"Y-m-d":"H:i:S",e.selectedDates.length>0&&(e.mobileInput.defaultValue=e.mobileInput.value=e.formatDate(e.selectedDates[0],e.mobileFormatStr)),e.config.minDate&&(e.mobileInput.min=e.formatDate(e.config.minDate,"Y-m-d")),e.config.maxDate&&(e.mobileInput.max=e.formatDate(e.config.maxDate,"Y-m-d")),e.input.getAttribute("step")&&(e.mobileInput.step=String(e.input.getAttribute("step"))),e.input.type="hidden",e.altInput!==void 0&&(e.altInput.type="hidden");try{e.input.parentNode&&e.input.parentNode.insertBefore(e.mobileInput,e.input.nextSibling)}catch{}be(e.mobileInput,"change",function(v){e.setDate(Lt(v).value,!1,e.mobileFormatStr),Se("onChange"),Se("onClose")})}function Pn(p){if(e.isOpen===!0)return e.close();e.open(p)}function Se(p,v){if(e.config!==void 0){var S=e.config[p];if(S!==void 0&&S.length>0)for(var E=0;S[E]&&E<S.length;E++)S[E](e.selectedDates,e.input.value,e,v);p==="onChange"&&(e.input.dispatchEvent(It("change")),e.input.dispatchEvent(It("input")))}}function It(p){var v=document.createEvent("Event");return v.initEvent(p,!0,!0),v}function yt(p){for(var v=0;v<e.selectedDates.length;v++){var S=e.selectedDates[v];if(S instanceof Date&&Pt(S,p)===0)return""+v}return!1}function $n(p){return e.config.mode!=="range"||e.selectedDates.length<2?!1:Pt(p,e.selectedDates[0])>=0&&Pt(p,e.selectedDates[1])<=0}function Bt(){e.config.noCalendar||e.isMobile||!e.monthNav||(e.yearElements.forEach(function(p,v){var S=new Date(e.currentYear,e.currentMonth,1);S.setMonth(e.currentMonth+v),e.config.showMonths>1||e.config.monthSelectorType==="static"?e.monthElements[v].textContent=ci(S.getMonth(),e.config.shorthandCurrentMonth,e.l10n)+" ":e.monthsDropdownContainer.value=S.getMonth().toString(),p.value=S.getFullYear().toString()}),e._hidePrevMonthArrow=e.config.minDate!==void 0&&(e.currentYear===e.config.minDate.getFullYear()?e.currentMonth<=e.config.minDate.getMonth():e.currentYear<e.config.minDate.getFullYear()),e._hideNextMonthArrow=e.config.maxDate!==void 0&&(e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth+1>e.config.maxDate.getMonth():e.currentYear>e.config.maxDate.getFullYear()))}function yn(p){var v=p||(e.config.altInput?e.config.altFormat:e.config.dateFormat);return e.selectedDates.map(function(S){return e.formatDate(S,v)}).filter(function(S,E,H){return e.config.mode!=="range"||e.config.enableTime||H.indexOf(S)===E}).join(e.config.mode!=="range"?e.config.conjunction:e.l10n.rangeSeparator)}function Et(p){p===void 0&&(p=!0),e.mobileInput!==void 0&&e.mobileFormatStr&&(e.mobileInput.value=e.latestSelectedDateObj!==void 0?e.formatDate(e.latestSelectedDateObj,e.mobileFormatStr):""),e.input.value=yn(e.config.dateFormat),e.altInput!==void 0&&(e.altInput.value=yn(e.config.altFormat)),p!==!1&&Se("onValueUpdate")}function ve(p){var v=Lt(p),S=e.prevMonthNav.contains(v),E=e.nextMonthNav.contains(v);S||E?Qe(S?-1:1):e.yearElements.indexOf(v)>=0?v.select():v.classList.contains("arrowUp")?e.changeYear(e.currentYear+1):v.classList.contains("arrowDown")&&e.changeYear(e.currentYear-1)}function ge(p){p.preventDefault();var v=p.type==="keydown",S=Lt(p),E=S;e.amPM!==void 0&&S===e.amPM&&(e.amPM.textContent=e.l10n.amPM[Nt(e.amPM.textContent===e.l10n.amPM[0])]);var H=parseFloat(E.getAttribute("min")),U=parseFloat(E.getAttribute("max")),ie=parseFloat(E.getAttribute("step")),J=parseInt(E.value,10),we=p.delta||(v?p.which===38?1:-1:0),Z=J+ie*we;if(typeof E.value<"u"&&E.value.length===2){var de=E===e.hourElement,Ne=E===e.minuteElement;Z<H?(Z=U+Z+Nt(!de)+(Nt(de)&&Nt(!e.amPM)),Ne&&kt(void 0,-1,e.hourElement)):Z>U&&(Z=E===e.hourElement?Z-U-Nt(!e.amPM):H,Ne&&kt(void 0,1,e.hourElement)),e.amPM&&de&&(ie===1?Z+J===23:Math.abs(Z-J)>ie)&&(e.amPM.textContent=e.l10n.amPM[Nt(e.amPM.textContent===e.l10n.amPM[0])]),E.value=wt(Z)}}return I(),e}function Zn(g,a){for(var e=Array.prototype.slice.call(g).filter(function(V){return V instanceof HTMLElement}),_=[],I=0;I<e.length;I++){var R=e[I];try{if(R.getAttribute("data-fp-omit")!==null)continue;R._flatpickr!==void 0&&(R._flatpickr.destroy(),R._flatpickr=void 0),R._flatpickr=Kr(R,a||{}),_.push(R._flatpickr)}catch(V){console.error(V)}}return _.length===1?_[0]:_}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(g){return Zn(this,g)},HTMLElement.prototype.flatpickr=function(g){return Zn([this],g)});var ot=function(g,a){return typeof g=="string"?Zn(window.document.querySelectorAll(g),a):g instanceof Node?Zn([g],a):Zn(g,a)};ot.defaultConfig={};ot.l10ns={en:_t({},Oi),default:_t({},Oi)};ot.localize=function(g){ot.l10ns.default=_t(_t({},ot.l10ns.default),g)};ot.setDefaults=function(g){ot.defaultConfig=_t(_t({},ot.defaultConfig),g)};ot.parseDate=$i({});ot.formatDate=nr({});ot.compareDates=Pt;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(g){return Zn(this,g)});Date.prototype.fp_incr=function(g){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof g=="string"?parseInt(g,10):g))};typeof window<"u"&&(window.flatpickr=ot);var ui=ot;var di=Vi(Ir());function cn(g,a="success"){let e=a==="success"?"bg-success-subtle":"bg-danger-subtle",_=`
        <div id="liveToast" class="toast ${e}" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header ${e}">
                <strong class="me-auto">${a==="success"?"Success":"Error"}</strong>
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body">
                ${g}
            </div>
        </div>`,I=document.querySelector(".toast-container");I.insertAdjacentHTML("beforeend",_);let R=I.lastElementChild;new bootstrap.Toast(R).show(),R.addEventListener("hidden.bs.toast",()=>{R.remove()})}var ki=class{constructor(a,e,_,I){this.container=$(a),this.requestId=e,this.organizationId=_,this.requestManager=I,this.currentGiftId=null,this.setupEventHandlers(),this.initialize()}setupEventHandlers(){this.container.on("click","#cancelGiftScheduleBtn",()=>{$("#addEditGiftScheduleModal").modal("hide")}),this.container.on("click",".back-to-request",a=>{Ke.confirmNavigation(!0)&&(a.preventDefault(),this.backToRequest())}),this.container.on("click","#SaveGiftBtn",a=>{a.preventDefault(),$("#GiftDetail_SaveGift").val(!0),this.saveGift()}),this.container.on("click","#addGiftSchedule",a=>{a.preventDefault(),this.showGiftScheduleModal($(a.currentTarget).data())}),this.container.on("click",".edit-schedule",a=>{a.preventDefault(),this.showGiftScheduleModal($(a.currentTarget).data())}),this.container.on("click",".delete-schedule",a=>{a.preventDefault(),$("#GiftDetail_DeleteGiftSchedule").val(!0),this.deleteSchedule($(a.currentTarget).data("scheduleid"))}),this.container.on("click","#saveGiftScheduleRebalanceBtn",a=>{this.saveSchedule(!0)}),this.container.on("click","#saveGiftScheduleBtn",a=>{this.saveSchedule(!1)}),this.container.on("click","#GenerateGiftScheduleBtn",a=>{$("#GenerateModal").modal("show")}),this.container.on("click","#generateSchedulesBtn",a=>{this.generateSchedules()}),this.container.on("change","#GiftDetail_Gift_Conditional",()=>{this.toggleConditional()}),this.container.on("change","#GiftDetail_Gift_Recurring",()=>{this.toggleRecurring()})}initialize(){this.currentGiftId=$("#GiftDetail_Gift_GiftID").val(),this.initializeGiftForm(),setTimeout(()=>{Ke.captureFormState("gift")},100)}initializeGiftForm(){$("#GiftDetail_Gift_GiftStartDate").length&&ui("#GiftDetail_Gift_GiftStartDate",{defaultDate:new Date,allowInput:!0,plugins:[(0,di.default)({dateFormat:"m/Y"})]}),$("#GiftDetail_Gift_ConditionDeadline").length&&ui("#GiftDetail_Gift_ConditionDeadline",{allowInput:!0,plugins:[(0,di.default)({dateFormat:"m/Y"})]}),$("#GiftSchedulesTable").length&&new DataTable("#GiftSchedulesTable",{dom:"tir",paging:!1,columnDefs:[{targets:0,searchable:!1,orderable:!1},{targets:4,visible:!1}],order:[[1,"asc"]]}),this.updateProgressBar()}showGiftScheduleModal(a){if(a.voteDate){let e=a.voteDate.split(" ")[0].split("/"),[_,I,R]=e;e=`${_}-0${I}-${R}`,ui("#GiftDetail_GiftSchedule_DisbursementDate",{defaultDate:new Date,allowInput:!0,minDate:new Date(e),plugins:[(0,di.default)({dateFormat:"m/Y"})]}),$("#GiftDetail_GiftSchedule_GiftScheduleID").val(0),$("#addEditGiftScheduleModal input").val(""),$("#GiftDetail_Gift_Recurring").prop("checked")||$("#GiftDetail_GiftSchedule_Amount").val($("#GiftDetail_Gift_RemainingGiftAmount").val())}else{$("#GiftDetail_GiftSchedule_GiftScheduleID").val(a.giftScheduleId);let e=a.disbursementDate.split(" ")[0].split("/"),[_,I,R]=e,V=`${_}-0${I}-${R}`;ui("#GiftDetail_GiftSchedule_DisbursementDate",{defaultDate:new Date(V),allowInput:!0,plugins:[(0,di.default)({dateFormat:"m/Y"})]}),$("#GiftDetail_GiftSchedule_Amount").val(a.amount),$("#GiftDetail_GiftSchedule_PreviousAmount").val(a.amount);let G=a.includePaymentInfo!="False";$("#GiftDetail_GiftSchedule_IncludePaymentInfo").prop("checked",G),$("#GiftDetail_GiftSchedule_IncludePaymentInfo").val(G)}$("#addEditGiftScheduleModal").modal("show")}toggleConditional(){$("#GiftDetail_Gift_Conditional").prop("checked")?$("#conditionInformation").removeClass("d-none"):$("#conditionInformation").addClass("d-none")}toggleRecurring(){$("#GiftDetail_Gift_Recurring").prop("checked")&&$(".giftScheduleRecord").length<1?$("#GenerateGiftScheduleBtn").removeClass("d-none"):$("#GenerateGiftScheduleBtn").addClass("d-none")}getGiftFormData(){return{giftId:$("#GiftDetail_Gift_GiftID").val(),requestId:this.requestId,organization:this.organizationId,giftAmount:$("#GiftDetail_Gift_GiftAmount").val(),conditional:$("#GiftDetail_Gift_Conditional").prop("checked"),recurring:$("#GiftDetail_Gift_Recurring").prop("checked"),conditionDescription:$("#GiftDetail_Gift_ConditionDescription").val(),conditionDeadline:$("#GiftDetail_Gift_ConditionDeadline").val(),conditionCompleted:$("#GiftDetail_Gift_ConditionCompleted").prop("checked"),paymentMemo:$("#GiftDetail_Gift_PaymentMemo").val(),giftNote:$("#GiftDetail_Gift_GiftNote").val()}}validate(){let a=$("#GiftDetail_Gift_GiftAmount").val();return!a||parseFloat(a)<=0?(alert("Gift amount must be greater than 0"),!1):!0}updateProgressBar(){let a=$("#progress-bar-container"),e=a.data("giftAmount"),_=a.data("remainingGiftAmount"),I=1-Number(_/e)<.01?0:1-Number(_/e);new ProgressBar.Line("#progress-bar-container",{strokeWidth:6,easing:"bounce",duration:1400,color:"#FFEA82",trailColor:"#eee",trailWidth:1,svgStyle:{width:"100%",height:"100%"},text:{style:{color:"#000",position:"absolute",right:"16px",top:"16px",padding:0,margin:0,transform:null},autoStyleContainer:!1},from:{color:"#1d8621"},to:{color:"#ff763a"},step:(V,G)=>{G.setText(Math.round(I*100)+"% of funds allocated"),G.path.setAttribute("stroke",V.color)}}).animate(I)}backToRequest(){Ke.clearSpecificState("gift"),this.requestManager.loadRequest(this.requestId)}async reload(){let a=`/Organization/LoadGiftPartial?giftID=${this.currentGiftId}&requestID=${this.requestId}?organizationID=${this.organizationId}`,e=await fetch(a).then(_=>_.text());this.container.html(e),this.initialize()}destroy(){this.container.off()}async saveGift(){this.validateGift()&&(this.submitGiftForm("gift"),Ke.resetFormState("gift"))}async saveSchedule(a=!1){this.validateSchedule(a)&&(await this.submitGiftForm("giftSchedule",a),$("#addEditGiftScheduleModal").modal("hide"))}async generateSchedules(){this.validateGenerate()&&(await this.submitGiftForm("generate"),$("#GenerateModal").modal("hide"))}async deleteSchedule(a){if(confirm("Delete this schedule?")){$("#GiftDetail_DeleteGiftSchedule").val(!0);try{await Ve.deleteGiftSchedule(this.currentGiftId,a),await this.reload()}catch(e){console.error("Failed to delete schedule: ",e),alert("Failed to delete schedule")}}}validateGift(){let a=this.getGiftAmount();return!a||a<=0?(this.showFieldError("#GiftDetail_Gift_GiftAmount","Must be greater than 0"),!1):!0}validateSchedule(a=!1){this.clearValidationErrors();let e=!0,_=this.getScheduleAmount();(!_||_<=0)&&(this.showFieldError("#GiftDetail_GiftSchedule_Amount","Must be greater than 0"),e=!1);let I=$("#GiftDetail_GiftSchedule_DisbursementDate").val();return(!I||I.length===0)&&(this.showFieldError("#GiftDetail_GiftSchedule_DisbursementDate","Disbursement Date is required"),e=!1),_>0&&!this.isScheduleAmountValid(_,a)&&(e=!1),e}isScheduleAmountValid(a,e){let _=this.getRemainingGiftAmount(),I=this.getGiftAmount();if(this.getCurrentScheduleId()==0)return a>_?(this.showFieldError("#GiftDetail_GiftSchedule_Amount",`Unable to save. Gift Schedule Amount exceeds the remaining Gift Amount of $${_.toFixed(2)}`),!1):!0;if(e)return a>_&&a>I?(this.showFieldError("#GiftDetail_GiftSchedule_Amount",`Unable to save. Gift Schedule Amount exceeds the remaining Gift Amount of $${_.toFixed(2)}`),!1):!0;{let G=this.getPreviousScheduleAmount();return a-G>_?(this.showFieldError("#GiftDetail_GiftSchedule_Amount",`Unable to save. Gift Schedule Amount exceeds the remaining Gift Amount of $${_.toFixed(2)}`),!1):!0}}validateGenerate(){this.clearValidationErrors();let a=$("#GiftDetail_Gift_FrequencyType").val(),e=parseInt($("#GiftDetail_Gift_SelectedFrequency").val());return a==0&&e>24?(this.showFieldError("#GiftDetail_Gift_SelectedFrequency","Selected Frequency cannot be more than 24 months"),!1):a==1&&e>8?(this.showFieldError("#GiftDetail_Gift_SelectedFrequency","Selected Frequency cannot be more than 8 quarters"),!1):!0}async submitGiftForm(a,e=!1){try{switch($("#GiftDetail_SaveGiftSchedule").val(!1),$("#GiftDetail_GenerateSchedules").val(!1),$("#GiftDetail_Gift_Rebalance").val(!1),$("#OrganizationDetails_RequestID").val(this.requestId),$("#OrganizationDetails_GiftID").val(this.currentGiftId),$("#GiftDetail_Gift_RequestID").val(this.requestId),this.setCheckboxValues(),a){case"giftSchedule":$("#GiftDetail_SaveGiftSchedule").val(!0),$("#GiftDetail_GiftSchedule_IncludePaymentInfo").val($("#GiftDetail_GiftSchedule_IncludePaymentInfo").prop("checked")),e&&$("#GiftDetail_Gift_Rebalance").val(!0);break;case"generate":$("#GiftDetail_GenerateSchedules").val(!0);break;case"gift":break}$("#GiftDetail_SaveGift").val(!0);let _=$("#giftDetailForm");if(!_.length){console.error("Request form not found");return}validationService.validateForm(_[0],async()=>{try{let I=new FormData(_[0]),V=await(await fetch("/Organization/SaveGiftForm",{method:"POST",body:I})).json();this.currentGiftId=V.giftID,cn("Your changes have been saved!"),await this.reload()}catch(I){console.error("Failed to save gift:",I),cn("Failed to save gift","error")}})}catch(_){console.error("Failed to save gift:",_),alert("Failed to save gift")}}setCheckboxValues(){$("#GiftDetail_Gift_Conditional").val($("#GiftDetail_Gift_Conditional").prop("checked")),$("#GiftDetail_Gift_ConditionalCompleted").val($("#GiftDetail_Gift_ConditionalCompleted").prop("checked")),$("#GiftDetail_Gift_Recurring").val($("#GiftDetail_Gift_Recurring").prop("checked"))}getGiftAmount(){return parseFloat($("#GiftDetail_Gift_GiftAmount").val())||0}getRemainingGiftAmount(){return parseFloat($("#GiftDetail_Gift_RemainingGiftAmount").val())||0}getScheduleAmount(){return parseFloat($("#GiftDetail_GiftSchedule_Amount").val())||0}getPreviousScheduleAmount(){return parseFloat($("#GiftDetail_GiftSchedule_PreviousAmount").val())||0}getCurrentScheduleId(){return parseFloat($("#GiftDetail_GiftSchedule_GiftScheduleID").val())||0}showFieldError(a,e){let _=$(a);_.addClass("input-validation-error"),_.siblings(".field-validate-valid").removeClass("field-validation-valid").addClass("field-validation-error").html(e)}clearValidationErrors(){$(".input-validation-error").removeClass("input-validation-error"),$(".field-validation-error").removeClass("field-validation-error").addClass("field-validation-valid").empty()}};var Fi=class{constructor(a,e){this.container=$(a),this.organizationId=e,this.currentRequestId=null,this.currentGiftId=null,this.giftManager=null,this.setupEventHandlers()}setupEventHandlers(){this.container.on("click","#back-to-org-list",a=>{Ke.confirmNavigation(!0)&&(a.preventDefault(),this.handleBackToOrgList())}),this.container.on("click",".load-gift",a=>{if(!Ke.confirmNavigation(!0))return;a.preventDefault();let e=$(a.currentTarget).data("gift-id"),_=$(a.currentTarget).data("request-id");this.loadGift(e,_)}),this.container.on("click",".delete-gift",a=>{a.preventDefault();let e=$(a.currentTarget).data("giftid");$("#RequestDetail_Gift_GiftID").val(e),$("#RequestDetail_DeleteGift").val(!0),this.saveRequest()}),this.container.on("click","#addGiftBtn",a=>{if(!Ke.confirmNavigation(!0))return;a.preventDefault();let e=$(a.currentTarget).data("request-id");this.loadGift(0,e)}),this.container.on("click","#addGiftBtn",a=>{if(!Ke.confirmNavigation(!0))return;a.preventDefault();let e=$(a.currentTarget).data("request-id");this.loadGift(0,e)}),$(document).on("click",".loadRequestPartial",a=>{let e=$(a.currentTarget).data("requestid");this.loadRequest(e)}),this.container.on("click","#addEditRequestBtn",a=>{this.loadRequest(0)}),this.container.on("click","#SaveRequestBtn",a=>{this.saveRequest()}),this.container.on("click",".show-gift-schedule-modal",a=>{this.showGiftScheduleModal($(a.currentTarget).data())}),this.container.on("click",".delete-request-btn",a=>{$("#OrganizationDetails_ForDeletion").val(!0);let e=$(a.currentTarget).data("requestid");$("#OrganizationDetails_Request_RequestID").val(e),this.deleteRequest()})}handleBackToOrgList(){Ke.clearSpecificState("request"),window.location.href=`/Organization/Index?OrganizationID=${this.organizationId}`}async loadRequest(a){try{let e=`/Organization/RequestFormPartial?requestID=${a}&organizationID=${this.organizationId}`,_=await fetch(e).then(I=>I.text());this.container.html(_),this.currentRequestId=a,this.initializeRequestForm(),setTimeout(()=>{Ke.captureFormState("request")},100)}catch(e){console.error("Failed to load request:",e),alert("Failed to load request")}}async loadGift(a,e){try{Ke.clearSpecificState("request");let _=`/Organization/LoadGiftPartial?giftID=${a}&requestID=${e}&organizationID=${this.organizationId}`,I=await fetch(_).then(R=>R.text());this.container.html(I),this.giftManager=new ki(this.container,e,this.organizationId,this),Ke.captureFormState("gift")}catch(_){console.error("Failed to load gift:",_),alert("Failed to load gift")}}initializeRequestForm(){let a=$("#RequestDetail_Request_VoteDate").val()=="0001-01-01T00:00"?new Date:new Date($("#RequestDetail_Request_VoteDate").val());flatpickr("#RequestDetail_Request_VoteDate",{defaultDate:a,allowInput:!0,plugins:[monthSelectPlugin({dateFormat:"m/Y"})]}),$(".Request_ProjectTypeID").length&&new TomSelect(".Request_ProjectTypeID",{hideSelected:!0}),$("#GiftsTable").length&&new DataTable("#GiftsTable",{dom:"tir",paging:!1,columnDefs:[{targets:0,searchable:!1,orderable:!1}],order:[[1,"asc"]]})}hasUnsavedChanges(){return this.container.find("form").length,!1}async deleteRequest(){$("#OrganizationDetails_SaveRequest").val(!0);let a=$("#newOrganizationDetailsForm");if(!a.length){console.error("Organization form not found");return}validationService.validateForm(a[0],async e=>{try{let _=new FormData(a[0]),I=await Ve.saveOrganizations(_);window.location.href=I.url}catch(_){console.error("Failed to delete request:",_),alert("Failed to save request")}})}async saveRequest(){$("#OrganizationDetails_SaveRequest").val(!0);let a=$("#requestDetailForm");if(!a.length){console.error("Request form not found");return}this.validate()&&($("#blockApplicationDialog").modal("show"),validationService.validateForm(a[0],async e=>{try{let _=new FormData(a[0]),R=await(await fetch("/Organization/SaveRequestDetail",{method:"POST",body:_})).json();cn("Your changes have been saved!"),Ve.saveOrganizations(),this.loadRequest(R.requestID||this.currentRequestId)}catch(_){console.error("Failed to save request:",_),cn("Failed to save request")}finally{$("#blockApplicationDialog").modal("hide")}}),Ke.resetFormState("request"))}destroy(){this.giftManager&&this.giftManager.destroy()}validate(){let a=new Wt,e=$("#RequestDetail_Request_RequestedAmount").val(),_=$("#RequestDetail_Request_Description").val(),I=a.validate({"RequestDetail.Request.RequestedAmount":[{validator:()=>a.required(e,"Requested Amount","RequestDetail.Request.RequestedAmount")}],"RequestDetail.Request.Description":[{validator:()=>a.required(_,"Description","RequestDetail.Request.Description")}]});return I||a.showErrors("#RequestContainer"),I}};var Ei=class{constructor(a,e){this.table=$(a),this.organizationId=e,this.dataTable=null,this.financialDocumentsDataTable=null,this.setupEventHandlers()}initializePlugins(){let a=$("#OrganizationDetails_FinancialInformation_FiscalYear").val()=="0001-01-01T00:00"?new Date:new Date($("#OrganizationDetails_FinancialInformation_FiscalYear").val());flatpickr("#OrganizationDetails_FinancialInformation_FiscalYear",{defaultDate:a,allowInput:!0,plugins:[monthSelectPlugin({dateFormat:"m/Y"})]})}setupEventHandlers(){$("#addEditFinancialInformationBtn").on("click",()=>this.showModal()),$("#tab-Financials-body").on("click","#editFinancialInformationBtn",async a=>{let e=$(a.currentTarget),_=e.data("financialInformationId"),I=await Ve.getFinancialDocuments(_);this.renderFinancialDocuments(I),this.showModal({financialInformationID:_,organizationID:e.data("organizationId"),fiscalYear:e.data("fiscalYear"),fiscalYearEnd:e.data("fiscalYearEnd"),revenue:e.data("revenue"),programs:e.data("programs"),administration:e.data("administration"),fundraising:e.data("fundraising"),liabilities:e.data("liabilities"),totalExpenses:e.data("totalExpenses"),cash:e.data("cash"),notes:e.data("notes"),lastchangeuser:e.data("lastChangeUser"),lastchangedttm:e.data("lastChangeDttm")})}),$("#tab-Financials-body").on("click","#deleteFinancialInformation",async a=>{let e=$(a.currentTarget).data("financialInformationId");await this.delete(e)}),$("#addEditFinancialInformationModal").on("hidden.bs.modal",()=>this.clearForm()),$("#saveFinancialInformationBtn").on("click",async a=>{$("#OrganizationDetails_SaveFinancialInformation").val(!0),this.save()}),$("#OrganizationDetails_FinancialInformation_FiscalYear").on("change",a=>{this.handleFiscalYearChange(a)})}async load(){let a=await Ve.getFinancials(this.organizationId);this.render(a)}render(a){this.dataTable&&this.dataTable.destroy(),this.dataTable=new DataTable(this.table[0],{response:!1,autoWidth:!1,data:a,paging:!0,columns:this.getColumns(),columnDefs:[{targets:0,searchable:!1,orderable:!1}],order:[[1,"asc"]]})}renderFinancialDocuments(a){this.financialDocumentsDataTable&&(this.financialDocumentsDataTable.destroy(),this.financialDocumentsDataTable=null),$("#FinancialDocumentsTable").empty(),!(!a||a.length===0)&&($("#FinancialDocumentsTable").html(`
            <thead>
                <tr>
                    <th>Actions</th>
                    <th>Document Name</th>
                </tr>
            </thead>
            <tbody></tbody>
        `),this.financialDocumentsDataTable=new DataTable("#FinancialDocumentsTable",{destroy:!0,response:!1,autoWidth:!1,data:a,searching:!1,paging:!0,columns:[{data:null,render:e=>this.renderCSButtons(e)},{data:"documentName"}],columnDefs:[{targets:0,searchable:!1,orderable:!1}],order:[[1,"asc"]]}))}getColumns(){return[{data:null,render:a=>this.renderActionButtons(a)},{data:null,render:a=>{let e=new Date(a.fiscalYear),_=new Date(a.fiscalYearEnd);return`${e.getMonth()+1}/${e.getFullYear()} to ${_.getMonth()+1}/${_.getFullYear()}`}},{data:"revenue",render:(a,e,_)=>`${a.toLocaleString("en-US",{style:"currency",currency:"USD"})}<br/><span style="color:${_.revenueGrowthPercent>=0?"green":"red"}">(${_.revenueGrowthPercent}% Revenue Growth)</span>`},{data:"programs",render:(a,e,_)=>`${a.toLocaleString("en-US",{style:"currency",currency:"USD"})}<br/><span style="color:${_.programsPercent>=0?"green":"red"}">(${_.programsPercent}% of Revenue)</span>`},{data:"administration",render:(a,e,_)=>`${a.toLocaleString("en-US",{style:"currency",currency:"USD"})}<br/><span style="color:${_.administrationPercent>=0?"green":"red"}">(${_.administrationPercent}% of Revenue)</span>`},{data:"fundraising",render:(a,e,_)=>`${a.toLocaleString("en-US",{style:"currency",currency:"USD"})}<br/><span style="color:${_.fundraisingPercent>=0?"green":"red"}">(${_.fundraisingPercent}% of Revenue)</span>`},{data:"liabilities",render:(a,e,_)=>`${a.toLocaleString("en-US",{style:"currency",currency:"USD"})}<br/><span style="color:${_.liabilitiesPercent>=0?"green":"red"}">(${_.liabilitiesPercent}% of Revenue)</span>`},{data:"totalExpenses",render:(a,e,_)=>`${a.toLocaleString("en-US",{style:"currency",currency:"USD"})}<br/><span style="color:${_.totalExpensesPercent>=0?"green":"red"}">(${_.totalExpensesPercent}% of Revenue)</span>`},{data:"cash",render:(a,e,_)=>`${a.toLocaleString("en-US",{style:"currency",currency:"USD"})}<br/><span style="color:${_.totalExpensesPercent>=0?"red":"green"}">(${_.cashPercent}% of Expenses)</span>`}]}renderCSButtons(a){return`
            <a class="btn btn-sm btn-info" style="margin-left: 8px;" target="_blank" href="${a.link}">
                <i class="fas fa-file-pdf fa-color-white"></i> Review
            </a>
            <a class="btn btn-sm btn-info" style="margin-left: 8px;" target="_blank">
                <i class="fas fa-download fa-color-white"></i>
            </a>
        `}renderActionButtons(a){return $("#financials-tab").data("has-edit-permissions")?`
            <button type='button'
                class='btn btn-primary'
                id='editFinancialInformationBtn'
                data-financial-information-id='${a.financialInformationID}'
                data-organization-id='${a.organizationID}'
                data-fiscal-year='${a.fiscalYear}'
                data-fiscal-year-end='${a.fiscalYearEnd}'
                data-revenue='${a.revenue}'
                data-programs='${a.programs}'
                data-administration='${a.administration}'
                data-fundraising='${a.fundraising}'
                data-liabilities='${a.liabilities}'
                data-total-expenses='${a.totalExpenses}'
                data-cash='${a.cash}'
                data-notes='${a.notes}'
                data-lastchangeuser='${a.lastChangeUser}'
                data-lastchangedttm='${a.lastChangeDttm}'
            ><i class='fa fa-edit'></i></button>
            <button type='button'
                class='btn btn-danger mx-1'
                id='deleteFinancialInformation'
                data-financial-information-id='${a.financialInformationID}'
            ><i class='fa fa-trash'></i></button>
        `:""}showModal(a){if(a){let e=new Date(a.fiscalYearEnd);$("#OrganizationDetails_FinancialInformation_FinancialInformationID").val(a.financialInformationID),$("#OrganizationDetails_FinancialInformation_OrganizationID").val(this.organizationId),$("#OrganizationDetails_FinancialInformation_FiscalYear").val(a.fiscalYear),$("#FiscalYearEnd").text(`${e.getMonth()+1}/${e.getFullYear()}`),$("#OrganizationDetails_FinancialInformation_Revenue").val(a.revenue),$("#OrganizationDetails_FinancialInformation_Programs").val(a.programs),$("#OrganizationDetails_FinancialInformation_Administration").val(a.administration),$("#OrganizationDetails_FinancialInformation_Fundraising").val(a.fundraising),$("#OrganizationDetails_FinancialInformation_Liabilities").val(a.liabilities),$("#OrganizationDetails_FinancialInformation_TotalExpenses").val(a.totalExpenses),$("#OrganizationDetails_FinancialInformation_Cash").val(a.cash),$("#OrganizationDetails_FinancialInformation_Notes").val(a.notes),a.lastChangeUser&&($("#lastChangedFinancialInformation").show(),$("#lastChangedFinancialInformation #OrganizationDetails_FinancialInformation_LastChangeUser").text(a.lastChangeUser),$("#lastChangedFinancialInformation #OrganizationDetails_FinancialInformation_LastChangeDttm").text(a.lastChangeDttm))}else this.clearForm();this.initializePlugins(),$("#addEditFinancialInformationModal").modal("show")}clearForm(){$("#OrganizationDetails_FinancialInformation_FinancialInformationID").val(0),$("#OrganizationDetails_FinancialInformation_OrganizationID").val(this.organizationId),$("#OrganizationDetails_FinancialInformation_FiscalYear").val(""),$("#FiscalYearEnd").text(""),$("#OrganizationDetails_FinancialInformation_Revenue").val(""),$("#OrganizationDetails_FinancialInformation_Programs").val(""),$("#OrganizationDetails_FinancialInformation_Administration").val(""),$("#OrganizationDetails_FinancialInformation_Fundraising").val(""),$("#OrganizationDetails_FinancialInformation_Liabilities").val(""),$("#OrganizationDetails_FinancialInformation_TotalExpenses").val(""),$("#OrganizationDetails_FinancialInformation_Cash").val(""),$("#OrganizationDetails_FinancialInformation_Notes").val(""),$("#lastChangedFinancialInformation").hide()}validate(){let a=new Wt,e=$("#OrganizationDetails_FinancialInformation_FiscalYear").val();return a.validate({"OrganizationDetails.FinancialInformation.FiscalYear":[{validator:()=>a.required(e,"Fiscal Year","OrganizationDetails.FinancialInformation.FiscalYear")}]})}async save(a=!1){if(!a&&!this.validate())return;let e=$("#newOrganizationDetailsForm");validationService.validateForm(e[0],async _=>{try{let I=new FormData(e[0]),R=await Ve.saveOrganizations(I);window.location.href=R.url,$("#addEditFinancialInformationModal").modal("hide")}catch(I){console.error("Failed to save financial:",I),alert("Failed to save financial")}})}async delete(a){if(confirm("Are you sure you want to delete this financial information?"))try{$("#OrganizationDetails_FinancialInformation_FinancialInformationID").val(a),$("#OrganizationDetails_DeleteFinancialInformation").val(!0),await this.save(!0)}catch(e){console.error("Failed to delete financial: ",e),alert("Failed to delete financial")}}handleFiscalYearChange(a){let e=$(a.currentTarget).val().split("/"),_,I="";Number(e[0])-1==0?(I=12,_=Number(e[1])):(I=Number(e[0])-1,_=Number(e[1])+1),$("#FiscalYearEnd").text(`${I}/${_}`)}};var Mi=class{constructor(a,e){this.container=$(a),this.organizationId=e,this.dataTable=null,this.currentAssessmentId=null,Ke.registerCustomCapturer("assessment",()=>Ke.captureAssessmentState()),this.setupEventHandlers()}setupEventHandlers(){$(document).on("click","#addAssessmentBtn",()=>{Ke.confirmNavigation(!0)&&this.loadAssessmentForm(0)}),this.container.on("click",".edit-assessment",a=>{let e=$(a.currentTarget).data("assessmentid");this.loadAssessmentForm(e)}),this.container.on("click",".delete-assessment",async a=>{let e=$(a.currentTarget).data("assessmentid");this.deleteAssessment(e)}),$(document).on("click","#saveAssessmentBtn",async()=>{$("#blockApplicationDialog").modal("show"),await this.saveAssessment()}),$(document).on("click","#backToAssessmentList",async()=>{Ke.confirmNavigation(!0)&&await this.load()}),$(document).on("input",".score-input",()=>{this.updateScoreSummary()})}async load(){try{let a=await Ve.getAssessments(this.organizationId);this.renderTable(a),Ke.clearSpecificState("assessment")}catch(a){console.error("Failed to load assessments: ",a),alert("Failed to load assessments")}}renderTable(a){this.showTableView(),this.dataTable&&this.dataTable.destroy(),this.dataTable=new DataTable("#AssessmentsTable",{destroy:!0,responsive:!1,autoWidth:!1,data:a,paging:!0,columns:this.getColumns(),columnDefs:[{targets:0,searchable:!1,orderable:!1}],order:[[1,"desc"]]})}getColumns(){return[{data:null,render:a=>this.renderActionButtons(a)},{data:"voteDate",render:a=>{if(!a)return"";let e=new Date(a);return`${e.getMonth()+1}/${e.getFullYear()}`}},{data:"score"},{data:"lastChangeUser"}]}renderActionButtons(a){return`
            <button class="btn btn-primary edit-assessment" data-assessmentid="${a.assessmentID}" data-votedate="${a.voteDate}">
            <i class="fa fa-pencil"></i>
            </button>
            <button class="btn btn-danger delete-assessment" data-assessmentid="${a.assessmentID}">
                <i class="fa fa-trash"></i>
            </button>
        `}async loadAssessmentForm(a){try{let e;a===0?e=await Ve.newAssessmentForm(this.organizationId):e=await Ve.getAssessmentDetail(a,this.organizationId),this.currentAssessmentId=a,this.renderAssessmentForm(e),setTimeout(()=>{Ke.captureFormState("assessment")},100)}catch(e){console.error("Failed to load assessment form: ",e),alert("Failed to load assessment form")}}renderAssessmentForm(a){this.showFormView();let e=a.headerGroups.map(G=>`
            <div class="card my-2 p-0">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <h5 class="mb-0">${G.header}</h5>
                    <span class="badge bg-warning text-light" id="headerScore-${G.header}">
                        ${G.headerScore?G.headerScore:"No scores"}
                    </span>
                </div>
                <div class="card-body">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>Question</th>
                                <th style="width: 60px;">Score</th>
                                <th>Notes</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${G.questions.map((A,ye)=>`
                                <tr>
                                    <td>
                                        <strong>${A.category}</strong>
                                        <p class="text-muted mb-0 small">${A.description}</p>
                                    </td>
                                    <td style="min-width: 100px;">
                                    <div class="radio-group">
                                      <label>
                                        <input type="radio" class="score-input" name="score_${A.assessmentCategoryID}" data-categoryid="${A.assessmentCategoryID}" data-weight="${A.weight*0}" data-header="${G.header}" value="${A.weight*0}" ${A.score===A.weight*0?"checked":""}> Poor
                                      </label>
                                      <label>
                                        <input type="radio" class="score-input" name="score_${A.assessmentCategoryID}" data-categoryid="${A.assessmentCategoryID}" data-weight="${A.weight/2}" data-header="${G.header}" value="${A.weight/2}" ${A.score===A.weight/2?"checked":""}> Good 
                                      </label>
                                      <label>
                                        <input type="radio" class="score-input" name="score_${A.assessmentCategoryID}" data-categoryid="${A.assessmentCategoryID}" data-weight="${A.weight}" data-header="${G.header}" value="${A.weight}" ${A.score===A.weight?"checked":""}> Excellent 
                                      </label>
                                    </div>

                                    
                                    </td>
                                    <td>
                                        <textarea
                                            class="form-control notes-input"
                                            data-categoryid="${A.assessmentCategoryID}"
                                            placeholder="Optional notes..."
                                            rows="3"
                                        >${A.notes||""}</textarea>
                                    </td>
                                </tr>
                            `).join("")}
                        </tbody>
                    </table>
                </div>
            </div>
        `).join(""),_=a.requests.map(G=>{let A=new Date(G.voteDate);return`<option value="${G.requestID}">${A.getMonth()+1}/${A.getFullYear()}</option>`}),I=this.currentAssessmentId!==0,R=a.selectedRequestID||(a.requests.length>0?a.requests[0].requestID:""),V=`
            <div class="d-flex justify-content-between align-items-center mb-3">
                <div>
                    <button class="btn btn-link p-0" id="backToAssessmentList">
                        <i class="fa fa-arrow-left"></i> Back to Assessments
                    </button>
                </div>
                <div class="d-flex align-items-center gap-3">
                    <div id="scoreSummary" class="text-end">
                        <button class="btn btn-primary" id="saveAssessmentBtn">
                            <i class="fa fa-save"></i> Save Assessment
                        </button>
                    </div>
                </div>
            </div>
            <div class="row m-3">
                <div class="col-md-4 p-0">
                    <label class="form-label">Request Vote Date</label>
                    <select class="form-select date-input" id="requestDate" >
                        ${I?`<option value="${R}" selected>${this.getVoteDateDisplay(a.requests,R)}</option>`:_}
                    </select>
                    ${I?`<input type="hidden" id="requestDateHidden" value="${R}">`:""}
                </div>
            </div>
            <div class="row m-3 p-0">
                <div class="col-md-5 p-0">
                    <label class="form-label">Assessment Note</label>
                    <textarea id="assessmentNote" class="form-control" rows="4">${a.notes||""}</textarea
                </div>
            </div>
            ${e}
            <div class="d-flex align-items-center gap-3 justify-content-end">
                <button class="btn btn-primary" id="saveAssessmentBtn">
                    <i class="fa fa-save"></i> Save Assessment
                </button>
            </div>
        `;$("#assessment-form-container").html(V),this.updateScoreSummary()}getVoteDateDisplay(a,e){let _=a.find(I=>I.requestID===e);if(_){let I=new Date(_.voteDate);return`${I.getMonth()+1}/${I.getFullYear()}`}return""}updateScoreSummary(){let a=$(".score-input:checked"),e=0,_=0,I=0,R={};a.each(function(){let G=parseFloat($(this).val())||0,A=parseInt($(this).data("weight")||0),ye=$(this).data("header");G>=0&&(e++,I+=G,_+=A,R[ye]||(R[ye]={earned:0,weight:0}),R[ye].earned+=G,R[ye].weight+=A)});let V=I;$("#answeredCount").text(e),$("#overallScore").text(V);for(let[G,A]of Object.entries(R)){let ye=A.weight>0?A.earned:"No scores";$(`#headerScore-${G}`).text(ye)}}async saveAssessment(){let a=[];$(".score-input").each(function(){let R=$(this).data("categoryid"),V=parseFloat($(`input.score-input[data-categoryid=${R}]:checked`).val())||0,G=$(`textarea.notes-input[data-categoryid=${R}]`).val()||"";a.push({AssessmentCategoryID:Number(R),Score:Number(V),Notes:G})});let e=$("#requestDate").val();if(!e){alert("Please select an request vote date");return}let _=$("#assessmentNote").val();$("#assessmentID").val(this.currentAssessmentId),$("#assessmentOrganizationID").val(this.organizationId),$("#assessmentRequestID").val(e),$("#assessmentNotes").val(_);let I=$("#scoresContainer");I.empty(),a.forEach((R,V)=>{I.append(`
                <input type="hidden" name="Scores[${V}].AssessmentCategoryID" value="${R.AssessmentCategoryID}"/>
                <input type="hidden" name="Scores[${V}].Score" value="${R.Score}"/>
                <input type="hidden" name="Scores[${V}].Notes" value="${R.Notes}"/>
            `)});try{let R=$("#assessmentForm")[0],V=new FormData(R),G=await Ve.saveAssessment(V);if(G.assessmentID&&(this.currentAssessmentId=G.assessmentID),!G.success)throw new Error(G.error);Ke.resetFormState("assessment"),cn("Your changes have been saved!")}catch(R){console.error("Failed to save assessment: ",R),cn(R,"error")}finally{$("#blockApplicationDialog").modal("hide")}}async deleteAssessment(a){if(confirm("Are you sure you want to delete this assessment?"))try{await Ve.deleteAssessment(a),await this.load()}catch(e){console.error("Failed to delete assessment: ",e),alert("Failed to delete assessment")}}showTableView(){$("#assessment-table-view").show(),$("#assessment-form-view").hide()}showFormView(){$("#assessment-table-view").hide(),$("#assessment-form-view").show()}};window.organizationApp={};document.addEventListener("DOMContentLoaded",()=>{let g=$("#OrganizationDetails_Organization_OrganizationID");if(!g){console.warn("Organization form not found on this page");return}let a=g.val(),e=new bi("#newOrganizationDetailsForm");if(window.organizationApp.orgForm=e,a&&parseInt(a)>=0){let _=new Ci("#ContactsTable",e.getOrganizationId()),I=new _i("#AddressesTable",e.getOrganizationId()),R=new Ei("#FinancialsTable",e.getOrganizationId()),V=new Mi("#AssessmentsTable",e.getOrganizationId()),G=new Fi("#requests",e.getOrganizationId());window.organizationApp.contacts=_,window.organizationApp.addresses=I,window.organizationApp.requests=G,window.organizationApp.financials=R,window.organizationApp.assessments=V,$("#contacts-tab").on("click",()=>{_.load()}),$("#addresses-tab").on("click",()=>{I.load()}),$("#financials-tab").on("click",()=>{R.load()}),$("#assessments-tab").on("click",()=>{V.load()});let A=window.location.search,ye=new URLSearchParams(A),[$e,Ye,Xe,se,ae]=[ye.get("RequestID"),ye.get("GiftID"),ye.get("ContactID"),ye.get("FinancialInformationID"),ye.get("AssessmentID")];switch(!0){case $e!=0:break;case Ye!=0:break;case Xe!=0:$("#contacts-tab").trigger("click");break;case se!=0:$("#financials-tab").trigger("click");break;case ae!=0:$("#assessments-tab").trigger("click");break}$(document).on("click","#btnReloadRequestList",()=>{e.checkForChanges(()=>{location.href=$("#btnReloadRequestList").data("orgNavigation")})}),Qr()}else Xr("Unable to save as it would overwrite other changes. Please reload the page and try again.");Jr()});function Xr(g){$("#error-message-p").text(g),$(".error-message").modal("show")}function Qr(){new DataTable("#RequestsTable",{destroy:!0,paging:!0,columnDefs:[{targets:0,searchable:!1,orderable:!1},{type:"month/year",targets:1}],order:[[1,"asc"]]})}function Jr(){document.getElementById("pageStart").style.opacity="1";let g=new URLSearchParams(window.location.search);g.has("AddressID")&&parseInt(g.get("AddressID"))>0&&$("#addresses-tab").click(),g.has("ContactID")&&parseInt(g.get("ContactID"))>0&&$("#contacts-tab").click(),g.has("RequestID")&&parseInt(g.get("RequestID"))>0&&console.log("Load request: ",g.get("RequestID"))}})();
/*! Bundled license information:

tom-select/dist/js/tom-select.complete.js:
  (*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) *)
  (*! sifter.js | https://github.com/orchidjs/sifter.js | Apache License (v2) *)

jquery/dist/jquery.min.js:
  (*! jQuery v3.7.1 | (c) OpenJS Foundation and other contributors | jquery.org/license *)

flatpickr/dist/plugins/monthSelect/index.js:
  (*! *****************************************************************************
      Copyright (c) Microsoft Corporation.
  
      Permission to use, copy, modify, and/or distribute this software for any
      purpose with or without fee is hereby granted.
  
      THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
      REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
      AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
      INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
      LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
      OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
      PERFORMANCE OF THIS SOFTWARE.
      ***************************************************************************** *)
*/
//# sourceMappingURL=organization.bundle.js.map
